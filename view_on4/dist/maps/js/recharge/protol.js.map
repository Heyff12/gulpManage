{"version":3,"sources":["recharge/protol.js"],"names":["hideMenu","WeixinJSBridge","call","document","addEventListener","attachEvent","require","$","ajax_rule","get_merchant","return_data","shopname","text","get_bindinfo_if","recharge_num","recharge","data_bindinfo","c","get_hash","get_bindinfo","mobile","hash_val","c_val","location","href","split","length","url_l","url_l_l","i","url_val","ready","data_merchant","h","data_before","o","grid_index"],"mappings":"AAAA,YAEA,SAASA,YACLC,eAAeC,KAAK,kBACpBD,eAAeC,KAAK,eAEK,mBAAlBD,gBACHE,SAASC,iBACTD,SAASC,iBAAiB,sBAAuBJ,UAAU,GACpDG,SAASE,cAChBF,SAASE,YAAY,sBAAuBL,UAC5CG,SAASE,YAAY,wBAAyBL,WAGlDA,WAEJM,SAAS,qBAAsB,WAC3BA,SAAS,QAAS,aAAc,SAAUC,EAAGC,GACzCD,EAAE,WAmBE,QAASE,GAAaC,GAClB,GAAIC,GAAWD,EAAYC,QAC3BJ,GAAE,gBAAgBK,KAAKD,GAG3B,QAASE,GAAgBH,GACrB,GAAII,GAAeJ,EAAYK,QAC/B,IAAoB,KAAhBD,OAA6B,CAC7B,GAAIE,IACAC,EAAKC,EAAS,KAElBV,GAAUA,UAAU,8BAA+B,MAAO,OAAQQ,EAAe,YAAaG,IAItG,QAASA,GAAaT,GAClB,GAAIU,GAASV,EAAYU,MACzBb,GAAE,cAAcK,KAAKQ,GAIzB,QAASF,GAASG,GACd,GAAIC,EACJ,IAAIC,SAASC,KAAKC,MAAM,KAAKC,OAAS,EAClC,OAAO,CAIX,KAAK,GAFDC,GAAQJ,SAASC,KAAKC,MAAM,KAAK,GAAGA,MAAM,KAC1CG,EAAUD,EAAMD,OACXG,EAAI,EAAGA,EAAID,EAASC,IAAK,CAC9B,GAAIC,GAAUH,EAAME,GAAGJ,MAAM,IAC7B,IAAIK,EAAQ,IAAMT,EAEd,MADAC,GAAQQ,EAAQ,IAhD5BvB,EAAEJ,UAAU4B,MAAM,WAEd,GAAIC,IACAC,EAAKf,EAAS,KAElBV,GAAUA,UAAU,kCAAmC,MAAO,OAAQwB,EAAe,WAAYvB,EAGjG,IAAIyB,IACAjB,EAAKC,EAAS,KACde,EAAKf,EAAS,KACdiB,EAAKjB,EAAS,KACdkB,WAAc,IAElB5B,GAAUA,UAAU,oCAAqC,MAAO,OAAQ0B,EAAa,YAAarB","file":"../../../js/recharge/protol.js","sourcesContent":["'use strict';\n\nfunction hideMenu() {\n    WeixinJSBridge.call('hideOptionMenu');\n    WeixinJSBridge.call('hideToolbar');\n}\nif (typeof WeixinJSBridge == \"undefined\") {\n    if (document.addEventListener) {\n        document.addEventListener('WeixinJSBridgeReady', hideMenu, false);\n    } else if (document.attachEvent) {\n        document.attachEvent('WeixinJSBridgeReady', hideMenu);\n        document.attachEvent('onWeixinJSBridgeReady', hideMenu);\n    }\n} else {\n    hideMenu();\n}\nrequire(['../require-config'], function () {\n    require([\"zepto\", \"ajax_rule\"], function ($, ajax_rule) {\n        $(function () {\n            //储值协议----------------------------------------------------------------------------------------------------------------------------------------------------           \n            $(document).ready(function () {\n                //获取商家名称\n                var data_merchant = {\n                    'h': get_hash('h')\n                };\n                ajax_rule.ajax_rule('/prepaid/v1/api/c/merchant_info', 'GET', 'json', data_merchant, '.zheceng', get_merchant);\n\n                //获取储值账户       \n                var data_before = {\n                    'c': get_hash('c'),\n                    'h': get_hash('h'),\n                    'o': get_hash('o'),\n                    'grid_index': '1'\n                };\n                ajax_rule.ajax_rule('/prepaid/v1/api/c/recharge/before', 'GET', 'json', data_before, '.zheceng2', get_bindinfo_if);\n            });\n            //获取商家名称\n            function get_merchant(return_data) {\n                var shopname = return_data.shopname;\n                $('.js_shopname').text(shopname);\n            }\n            //判断是否调用--储值账户\n            function get_bindinfo_if(return_data) {\n                var recharge_num = return_data.recharge;\n                if (recharge_num == '0') {} else {\n                    var data_bindinfo = {\n                        'c': get_hash('c')\n                    };\n                    ajax_rule.ajax_rule(' /prepaid/v1/api/c/bindinfo', 'GET', 'json', data_bindinfo, '.zheceng1', get_bindinfo);\n                }\n            }\n            //获取储值账户\n            function get_bindinfo(return_data) {\n                var mobile = return_data.mobile;\n                $('.js_mobile').text(mobile);\n            }\n            //通用--------------------------------------------------------------------------------------------------------\n            //获取url的指定hash值\n            function get_hash(hash_val) {\n                var c_val;\n                if (location.href.split('?').length < 2) {\n                    return false;\n                }\n                var url_l = location.href.split('?')[1].split('&');\n                var url_l_l = url_l.length;\n                for (var i = 0; i < url_l_l; i++) {\n                    var url_val = url_l[i].split('=');\n                    if (url_val[0] == hash_val) {\n                        c_val = url_val[1];\n                        return c_val;\n                    }\n                }\n            }\n        });\n    });\n});"]}