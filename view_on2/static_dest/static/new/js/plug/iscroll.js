!function(){function t(t,i){this.wrapper="string"==typeof t?document.querySelector(t):t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var s in i)this.options[s]=i[s];this.translateZ=this.options.HWCompositing&&o.hasPerspective?" translateZ(0)":"",this.options.useTransition=o.hasTransition&&this.options.useTransition,this.options.useTransform=o.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?o.ease[this.options.bounceEasing]||o.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,3==this.options.probeType&&(this.options.useTransition=!1),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function i(t,i,s){var e=document.createElement("div"),o=document.createElement("div");return s===!0&&(e.style.cssText="position:absolute;z-index:9999",o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),o.className="iScrollIndicator","h"==t?(s===!0&&(e.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",o.style.height="100%"),e.className="iScrollHorizontalScrollbar"):(s===!0&&(e.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",o.style.width="100%"),e.className="iScrollVerticalScrollbar"),e.style.cssText+=";overflow:hidden",i||(e.style.pointerEvents="none"),e.appendChild(o),e}function s(t,i){this.wrapper="string"==typeof i.el?document.querySelector(i.el):i.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=t,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var s in i)this.options[s]=i[s];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(o.addEvent(this.indicator,"touchstart",this),o.addEvent(window,"touchend",this)),this.options.disablePointer||(o.addEvent(this.indicator,o.prefixPointerEvent("pointerdown"),this),o.addEvent(window,o.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(o.addEvent(this.indicator,"mousedown",this),o.addEvent(window,"mouseup",this))),this.options.fade&&(this.wrapperStyle[o.style.transform]=this.scroller.translateZ,this.wrapperStyle[o.style.transitionDuration]=o.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},o=function(){function t(t){return e!==!1&&(""===e?t:e+t.charAt(0).toUpperCase()+t.substr(1))}var i={},s=document.createElement("div").style,e=function(){for(var t,i=["t","webkitT","MozT","msT","OT"],e=0,o=i.length;e<o;e++)if(t=i[e]+"ransform",t in s)return i[e].substr(0,i[e].length-1);return!1}();i.getTime=Date.now||function(){return(new Date).getTime()},i.extend=function(t,i){for(var s in i)t[s]=i[s]},i.addEvent=function(t,i,s,e){t.addEventListener(i,s,!!e)},i.removeEvent=function(t,i,s,e){t.removeEventListener(i,s,!!e)},i.prefixPointerEvent=function(t){return window.MSPointerEvent?"MSPointer"+t.charAt(9).toUpperCase()+t.substr(10):t},i.momentum=function(t,i,s,e,o,n){var r,h,a=t-i,l=Math.abs(a)/s;return n=void 0===n?6e-4:n,r=t+l*l/(2*n)*(a<0?-1:1),h=l/n,r<e?(r=o?e-o/2.5*(l/8):e,a=Math.abs(r-t),h=a/l):r>0&&(r=o?o/2.5*(l/8):0,a=Math.abs(t)+r,h=a/l),{destination:Math.round(r),duration:h}};var o=t("transform");return i.extend(i,{hasTransform:o!==!1,hasPerspective:t("perspective")in s,hasTouch:"ontouchstart"in window,hasPointer:window.PointerEvent||window.MSPointerEvent,hasTransition:t("transition")in s}),i.isBadAndroid=/Android /.test(window.navigator.appVersion)&&!/Chrome\/\d/.test(window.navigator.appVersion),i.extend(i.style={},{transform:o,transitionTimingFunction:t("transitionTimingFunction"),transitionDuration:t("transitionDuration"),transitionDelay:t("transitionDelay"),transformOrigin:t("transformOrigin")}),i.hasClass=function(t,i){var s=new RegExp("(^|\\s)"+i+"(\\s|$)");return s.test(t.className)},i.addClass=function(t,s){if(!i.hasClass(t,s)){var e=t.className.split(" ");e.push(s),t.className=e.join(" ")}},i.removeClass=function(t,s){if(i.hasClass(t,s)){var e=new RegExp("(^|\\s)"+s+"(\\s|$)","g");t.className=t.className.replace(e," ")}},i.offset=function(t){for(var i=-t.offsetLeft,s=-t.offsetTop;t=t.offsetParent;)i-=t.offsetLeft,s-=t.offsetTop;return{left:i,top:s}},i.preventDefaultException=function(t,i){for(var s in i)if(i[s].test(t[s]))return!0;return!1},i.extend(i.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),i.extend(i.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return Math.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){var i=4;return(t-=1)*t*((i+1)*t+i)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){var i=.22,s=.4;return 0===t?0:1==t?1:s*Math.pow(2,-10*t)*Math.sin((t-i/4)*(2*Math.PI)/i)+1}}}),i.tap=function(t,i){var s=document.createEvent("Event");s.initEvent(i,!0,!0),s.pageX=t.pageX,s.pageY=t.pageY,t.target.dispatchEvent(s)},i.click=function(t){var i,s=t.target;/(SELECT|INPUT|TEXTAREA)/i.test(s.tagName)||(i=document.createEvent("MouseEvents"),i.initMouseEvent("click",!0,!0,t.view,1,s.screenX,s.screenY,s.clientX,s.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),i._constructed=!0,s.dispatchEvent(i))},i}();t.prototype={version:"5.1.3",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){if((1==o.eventType[t.type]||0===t.button)&&this.enabled&&(!this.initiated||o.eventType[t.type]===this.initiated)){!this.options.preventDefault||o.isBadAndroid||o.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var i,s=t.touches?t.touches[0]:t;this.initiated=o.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=o.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,i=this.getComputedPosition(),this._translate(Math.round(i.x),Math.round(i.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=s.pageX,this.pointY=s.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&o.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var i,s,e,n,r=t.touches?t.touches[0]:t,h=r.pageX-this.pointX,a=r.pageY-this.pointY,l=o.getTime();if(this.pointX=r.pageX,this.pointY=r.pageY,this.distX+=h,this.distY+=a,e=Math.abs(this.distX),n=Math.abs(this.distY),!(l-this.endTime>300&&e<10&&n<10)){if(this.directionLocked||this.options.freeScroll||(e>n+this.options.directionLockThreshold?this.directionLocked="h":n>=e+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);a=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);h=0}h=this.hasHorizontalScroll?h:0,a=this.hasVerticalScroll?a:0,i=this.x+h,s=this.y+a,(i>0||i<this.maxScrollX)&&(i=this.options.bounce?this.x+h/3:i>0?0:this.maxScrollX),(s>0||s<this.maxScrollY)&&(s=this.options.bounce?this.y+a/3:s>0?0:this.maxScrollY),this.directionX=h>0?-1:h<0?1:0,this.directionY=a>0?-1:a<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(i,s),l-this.startTime>300&&(this.startTime=l,this.startX=this.x,this.startY=this.y,1==this.options.probeType&&this._execEvent("scroll")),this.options.probeType>1&&this._execEvent("scroll")}}},_end:function(t){if(this.enabled&&o.eventType[t.type]===this.initiated){this.options.preventDefault&&!o.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var i,s,e=(t.changedTouches?t.changedTouches[0]:t,o.getTime()-this.startTime),n=Math.round(this.x),r=Math.round(this.y),h=Math.abs(n-this.startX),a=Math.abs(r-this.startY),l=0,c="";if(this.isInTransition=0,this.initiated=0,this.endTime=o.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(n,r),!this.moved)return this.options.tap&&o.tap(t,this.options.tap),this.options.click&&o.click(t),void this._execEvent("scrollCancel");if(this._events.flick&&e<200&&h<100&&a<100)return void this._execEvent("flick");if(this.options.momentum&&e<300&&(i=this.hasHorizontalScroll?o.momentum(this.x,this.startX,e,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:n,duration:0},s=this.hasVerticalScroll?o.momentum(this.y,this.startY,e,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:r,duration:0},n=i.destination,r=s.destination,l=Math.max(i.duration,s.duration),this.isInTransition=1),this.options.snap){var p=this._nearestSnap(n,r);this.currentPage=p,l=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(n-p.x),1e3),Math.min(Math.abs(r-p.y),1e3)),300),n=p.x,r=p.y,this.directionX=0,this.directionY=0,c=this.options.bounceEasing}return n!=this.x||r!=this.y?((n>0||n<this.maxScrollX||r>0||r<this.maxScrollY)&&(c=o.ease.quadratic),void this.scrollTo(n,r,l,c)):void this._execEvent("scrollEnd")}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var i=this.x,s=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?i=0:this.x<this.maxScrollX&&(i=this.maxScrollX),!this.hasVerticalScroll||this.y>0?s=0:this.y<this.maxScrollY&&(s=this.maxScrollY),(i!=this.x||s!=this.y)&&(this.scrollTo(i,s,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=o.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,i){this._events[t]||(this._events[t]=[]),this._events[t].push(i)},off:function(t,i){if(this._events[t]){var s=this._events[t].indexOf(i);s>-1&&this._events[t].splice(s,1)}},_execEvent:function(t){if(this._events[t]){var i=0,s=this._events[t].length;if(s)for(;i<s;i++)this._events[t][i].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,i,s,e){t=this.x+t,i=this.y+i,s=s||0,this.scrollTo(t,i,s,e)},scrollTo:function(t,i,s,e){e=e||o.ease.circular,this.isInTransition=this.options.useTransition&&s>0,!s||this.options.useTransition&&e.style?(this._transitionTimingFunction(e.style),this._transitionTime(s),this._translate(t,i)):this._animate(t,i,s,e.fn)},scrollToElement:function(t,i,s,e,n){if(t=t.nodeType?t:this.scroller.querySelector(t)){var r=o.offset(t);r.left-=this.wrapperOffset.left,r.top-=this.wrapperOffset.top,s===!0&&(s=Math.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),e===!0&&(e=Math.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),r.left-=s||0,r.top-=e||0,r.left=r.left>0?0:r.left<this.maxScrollX?this.maxScrollX:r.left,r.top=r.top>0?0:r.top<this.maxScrollY?this.maxScrollY:r.top,i=void 0===i||null===i||"auto"===i?Math.max(Math.abs(this.x-r.left),Math.abs(this.y-r.top)):i,this.scrollTo(r.left,r.top,i,n)}},_transitionTime:function(t){if(t=t||0,this.scrollerStyle[o.style.transitionDuration]=t+"ms",!t&&o.isBadAndroid&&(this.scrollerStyle[o.style.transitionDuration]="0.001s"),this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].transitionTime(t)},_transitionTimingFunction:function(t){if(this.scrollerStyle[o.style.transitionTimingFunction]=t,this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].transitionTimingFunction(t)},_translate:function(t,i){if(this.options.useTransform?this.scrollerStyle[o.style.transform]="translate("+t+"px,"+i+"px)"+this.translateZ:(t=Math.round(t),i=Math.round(i),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=i+"px"),this.x=t,this.y=i,this.indicators)for(var s=this.indicators.length;s--;)this.indicators[s].updatePosition()},_initEvents:function(t){var i=t?o.removeEvent:o.addEvent,s=this.options.bindToWrapper?this.wrapper:window;i(window,"orientationchange",this),i(window,"resize",this),this.options.click&&i(this.wrapper,"click",this,!0),this.options.disableMouse||(i(this.wrapper,"mousedown",this),i(s,"mousemove",this),i(s,"mousecancel",this),i(s,"mouseup",this)),o.hasPointer&&!this.options.disablePointer&&(i(this.wrapper,o.prefixPointerEvent("pointerdown"),this),i(s,o.prefixPointerEvent("pointermove"),this),i(s,o.prefixPointerEvent("pointercancel"),this),i(s,o.prefixPointerEvent("pointerup"),this)),o.hasTouch&&!this.options.disableTouch&&(i(this.wrapper,"touchstart",this),i(s,"touchmove",this),i(s,"touchcancel",this),i(s,"touchend",this)),i(this.scroller,"transitionend",this),i(this.scroller,"webkitTransitionEnd",this),i(this.scroller,"oTransitionEnd",this),i(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t,i,s=window.getComputedStyle(this.scroller,null);return this.options.useTransform?(s=s[o.style.transform].split(")")[0].split(", "),t=+(s[12]||s[4]),i=+(s[13]||s[5])):(t=+s.left.replace(/[^-\d.]/g,""),i=+s.top.replace(/[^-\d.]/g,"")),{x:t,y:i}},_initIndicators:function(){function t(t){for(var i=h.indicators.length;i--;)t.call(h.indicators[i])}var e,o=this.options.interactiveScrollbars,n="string"!=typeof this.options.scrollbars,r=[],h=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(e={el:i("v",o,this.options.scrollbars),interactive:o,defaultScrollbars:!0,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(e.el),r.push(e)),this.options.scrollX&&(e={el:i("h",o,this.options.scrollbars),interactive:o,defaultScrollbars:!0,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(e.el),r.push(e))),this.options.indicators&&(r=r.concat(this.options.indicators));for(var a=r.length;a--;)this.indicators.push(new s(this,r[a]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){t(function(){this.fade()})}),this.on("scrollCancel",function(){t(function(){this.fade()})}),this.on("scrollStart",function(){t(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){t(function(){this.fade(1,!0)})})),this.on("refresh",function(){t(function(){this.refresh()})}),this.on("destroy",function(){t(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){o.addEvent(this.wrapper,"wheel",this),o.addEvent(this.wrapper,"mousewheel",this),o.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){o.removeEvent(this.wrapper,"wheel",this),o.removeEvent(this.wrapper,"mousewheel",this),o.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(t){if(this.enabled){t.preventDefault(),t.stopPropagation();var i,s,e,o,n=this;if(void 0===this.wheelTimeout&&n._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){n._execEvent("scrollEnd"),n.wheelTimeout=void 0},400),"deltaX"in t)1===t.deltaMode?(i=-t.deltaX*this.options.mouseWheelSpeed,s=-t.deltaY*this.options.mouseWheelSpeed):(i=-t.deltaX,s=-t.deltaY);else if("wheelDeltaX"in t)i=t.wheelDeltaX/120*this.options.mouseWheelSpeed,s=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in t)i=s=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in t))return;i=s=-t.detail/3*this.options.mouseWheelSpeed}if(i*=this.options.invertWheelDirection,s*=this.options.invertWheelDirection,this.hasVerticalScroll||(i=s,s=0),this.options.snap)return e=this.currentPage.pageX,o=this.currentPage.pageY,i>0?e--:i<0&&e++,s>0?o--:s<0&&o++,void this.goToPage(e,o);e=this.x+Math.round(this.hasHorizontalScroll?i:0),o=this.y+Math.round(this.hasVerticalScroll?s:0),e>0?e=0:e<this.maxScrollX&&(e=this.maxScrollX),o>0?o=0:o<this.maxScrollY&&(o=this.maxScrollY),this.scrollTo(e,o,0),this.options.probeType>1&&this._execEvent("scroll")}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var t,i,s,e,o,n,r=0,h=0,a=0,l=this.options.snapStepX||this.wrapperWidth,c=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(s=Math.round(l/2),e=Math.round(c/2);a>-this.scrollerWidth;){for(this.pages[r]=[],t=0,o=0;o>-this.scrollerHeight;)this.pages[r][t]={x:Math.max(a,this.maxScrollX),y:Math.max(o,this.maxScrollY),width:l,height:c,cx:a-s,cy:o-e},o-=c,t++;a-=l,r++}else for(n=this.options.snap,t=n.length,i=-1;r<t;r++)(0===r||n[r].offsetLeft<=n[r-1].offsetLeft)&&(h=0,i++),this.pages[h]||(this.pages[h]=[]),a=Math.max(-n[r].offsetLeft,this.maxScrollX),o=Math.max(-n[r].offsetTop,this.maxScrollY),s=a-Math.round(n[r].offsetWidth/2),e=o-Math.round(n[r].offsetHeight/2),this.pages[h][i]={x:a,y:o,width:n[r].offsetWidth,height:n[r].offsetHeight,cx:s,cy:e},a>this.maxScrollX&&h++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var t=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.x-this.startX),1e3),Math.min(Math.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},_nearestSnap:function(t,i){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var s=0,e=this.pages.length,o=0;if(Math.abs(t-this.absStartX)<this.snapThresholdX&&Math.abs(i-this.absStartY)<this.snapThresholdY)return this.currentPage;for(t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),i>0?i=0:i<this.maxScrollY&&(i=this.maxScrollY);s<e;s++)if(t>=this.pages[s][0].cx){t=this.pages[s][0].x;break}for(e=this.pages[s].length;o<e;o++)if(i>=this.pages[0][o].cy){i=this.pages[0][o].y;break}return s==this.currentPage.pageX&&(s+=this.directionX,s<0?s=0:s>=this.pages.length&&(s=this.pages.length-1),t=this.pages[s][0].x),o==this.currentPage.pageY&&(o+=this.directionY,o<0?o=0:o>=this.pages[0].length&&(o=this.pages[0].length-1),i=this.pages[0][o].y),{x:t,y:i,pageX:s,pageY:o}},goToPage:function(t,i,s,e){e=e||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:t<0&&(t=0),i>=this.pages[t].length?i=this.pages[t].length-1:i<0&&(i=0);var o=this.pages[t][i].x,n=this.pages[t][i].y;s=void 0===s?this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(o-this.x),1e3),Math.min(Math.abs(n-this.y),1e3)),300):s,this.currentPage={x:o,y:n,pageX:t,pageY:i},this.scrollTo(o,n,s,e)},next:function(t,i){var s=this.currentPage.pageX,e=this.currentPage.pageY;s++,s>=this.pages.length&&this.hasVerticalScroll&&(s=0,e++),this.goToPage(s,e,t,i)},prev:function(t,i){var s=this.currentPage.pageX,e=this.currentPage.pageY;s--,s<0&&this.hasVerticalScroll&&(s=0,e--),this.goToPage(s,e,t,i)},_initKeys:function(t){var i,s={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(i in this.options.keyBindings)"string"==typeof this.options.keyBindings[i]&&(this.options.keyBindings[i]=this.options.keyBindings[i].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(i in s)this.options.keyBindings[i]=this.options.keyBindings[i]||s[i];o.addEvent(window,"keydown",this),this.on("destroy",function(){o.removeEvent(window,"keydown",this)})},_key:function(t){if(this.enabled){var i,s=this.options.snap,e=s?this.currentPage.pageX:this.x,n=s?this.currentPage.pageY:this.y,r=o.getTime(),h=this.keyTime||0,a=.25;switch(this.options.useTransition&&this.isInTransition&&(i=this.getComputedPosition(),this._translate(Math.round(i.x),Math.round(i.y)),this.isInTransition=!1),this.keyAcceleration=r-h<200?Math.min(this.keyAcceleration+a,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?e+=s?1:this.wrapperWidth:n+=s?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?e-=s?1:this.wrapperWidth:n-=s?1:this.wrapperHeight;break;case this.options.keyBindings.end:e=s?this.pages.length-1:this.maxScrollX,n=s?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:e=0,n=0;break;case this.options.keyBindings.left:e+=s?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:n+=s?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:e-=s?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:n-=s?1:5+this.keyAcceleration>>0;break;default:return}if(s)return void this.goToPage(e,n);e>0?(e=0,this.keyAcceleration=0):e<this.maxScrollX&&(e=this.maxScrollX,this.keyAcceleration=0),n>0?(n=0,this.keyAcceleration=0):n<this.maxScrollY&&(n=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(e,n,0),this.keyTime=r}},_animate:function(t,i,s,n){function r(){var d,u,m,f=o.getTime();return f>=p?(h.isAnimating=!1,h._translate(t,i),void(h.resetPosition(h.options.bounceTime)||h._execEvent("scrollEnd"))):(f=(f-c)/s,m=n(f),d=(t-a)*m+a,u=(i-l)*m+l,h._translate(d,u),h.isAnimating&&e(r),void(3==h.options.probeType&&h._execEvent("scroll")))}var h=this,a=this.x,l=this.y,c=o.getTime(),p=c+s;this.isAnimating=!0,r()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":t._constructed||(t.preventDefault(),t.stopPropagation())}}},s.prototype={handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t)}},destroy:function(){this.options.interactive&&(o.removeEvent(this.indicator,"touchstart",this),o.removeEvent(this.indicator,o.prefixPointerEvent("pointerdown"),this),o.removeEvent(this.indicator,"mousedown",this),o.removeEvent(window,"touchmove",this),o.removeEvent(window,o.prefixPointerEvent("pointermove"),this),o.removeEvent(window,"mousemove",this),o.removeEvent(window,"touchend",this),o.removeEvent(window,o.prefixPointerEvent("pointerup"),this),o.removeEvent(window,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(t){var i=t.touches?t.touches[0]:t;t.preventDefault(),t.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=i.pageX,this.lastPointY=i.pageY,this.startTime=o.getTime(),this.options.disableTouch||o.addEvent(window,"touchmove",this),this.options.disablePointer||o.addEvent(window,o.prefixPointerEvent("pointermove"),this),this.options.disableMouse||o.addEvent(window,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(t){var i,s,e,n,r=t.touches?t.touches[0]:t,h=o.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,i=r.pageX-this.lastPointX,this.lastPointX=r.pageX,s=r.pageY-this.lastPointY,this.lastPointY=r.pageY,e=this.x+i,n=this.y+s,this._pos(e,n),1==this.scroller.options.probeType&&h-this.startTime>300?(this.startTime=h,this.scroller._execEvent("scroll")):this.scroller.options.probeType>1&&this.scroller._execEvent("scroll"),t.preventDefault(),t.stopPropagation()},_end:function(t){if(this.initiated){if(this.initiated=!1,t.preventDefault(),t.stopPropagation(),o.removeEvent(window,"touchmove",this),o.removeEvent(window,o.prefixPointerEvent("pointermove"),this),o.removeEvent(window,"mousemove",this),this.scroller.options.snap){var i=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),s=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.scroller.x-i.x),1e3),Math.min(Math.abs(this.scroller.y-i.y),1e3)),300);this.scroller.x==i.x&&this.scroller.y==i.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=i,this.scroller.scrollTo(i.x,i.y,s,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(t){t=t||0,this.indicatorStyle[o.style.transitionDuration]=t+"ms",!t&&o.isBadAndroid&&(this.indicatorStyle[o.style.transitionDuration]="0.001s")},transitionTimingFunction:function(t){this.indicatorStyle[o.style.transitionTimingFunction]=t},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(o.addClass(this.wrapper,"iScrollBothScrollbars"),o.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(o.removeClass(this.wrapper,"iScrollBothScrollbars"),o.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=Math.max(Math.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=Math.max(Math.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var t=this.options.listenX&&Math.round(this.sizeRatioX*this.scroller.x)||0,i=this.options.listenY&&Math.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(t<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=Math.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+"px"),t=this.minBoundaryX):t>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=Math.max(this.indicatorWidth-(t-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",t=this.maxPosX+this.indicatorWidth-this.width):t=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),i<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=Math.max(this.indicatorHeight+3*i,8),this.indicatorStyle.height=this.height+"px"),i=this.minBoundaryY):i>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=Math.max(this.indicatorHeight-3*(i-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",i=this.maxPosY+this.indicatorHeight-this.height):i=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),
this.x=t,this.y=i,this.scroller.options.useTransform?this.indicatorStyle[o.style.transform]="translate("+t+"px,"+i+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=t+"px",this.indicatorStyle.top=i+"px")},_pos:function(t,i){t<0?t=0:t>this.maxPosX&&(t=this.maxPosX),i<0?i=0:i>this.maxPosY&&(i=this.maxPosY),t=this.options.listenX?Math.round(t/this.sizeRatioX):this.scroller.x,i=this.options.listenY?Math.round(i/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(t,i)},fade:function(t,i){if(!i||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var s=t?250:500,e=t?0:300;t=t?"1":"0",this.wrapperStyle[o.style.transitionDuration]=s+"ms",this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t,this.visible=+t}.bind(this,t),e)}}},"undefined"!=typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd?define(function(){return t}):window.IScroll=t}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBsdWcvaXNjcm9sbC5qcyJdLCJuYW1lcyI6WyJJU2Nyb2xsIiwiZWwiLCJvcHRpb25zIiwidGhpcyIsIndyYXBwZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzY3JvbGxlciIsImNoaWxkcmVuIiwic2Nyb2xsZXJTdHlsZSIsInN0eWxlIiwicmVzaXplU2Nyb2xsYmFycyIsIm1vdXNlV2hlZWxTcGVlZCIsInNuYXBUaHJlc2hvbGQiLCJzdGFydFgiLCJzdGFydFkiLCJzY3JvbGxZIiwiZGlyZWN0aW9uTG9ja1RocmVzaG9sZCIsIm1vbWVudHVtIiwiYm91bmNlIiwiYm91bmNlVGltZSIsImJvdW5jZUVhc2luZyIsInByZXZlbnREZWZhdWx0IiwicHJldmVudERlZmF1bHRFeGNlcHRpb24iLCJ0YWdOYW1lIiwiSFdDb21wb3NpdGluZyIsInVzZVRyYW5zaXRpb24iLCJ1c2VUcmFuc2Zvcm0iLCJpIiwidHJhbnNsYXRlWiIsInV0aWxzIiwiaGFzUGVyc3BlY3RpdmUiLCJoYXNUcmFuc2l0aW9uIiwiaGFzVHJhbnNmb3JtIiwiZXZlbnRQYXNzdGhyb3VnaCIsInNjcm9sbFgiLCJmcmVlU2Nyb2xsIiwiZWFzZSIsImNpcmN1bGFyIiwicmVzaXplUG9sbGluZyIsInVuZGVmaW5lZCIsInRhcCIsInNocmlua1Njcm9sbGJhcnMiLCJpbnZlcnRXaGVlbERpcmVjdGlvbiIsInByb2JlVHlwZSIsIngiLCJ5IiwiZGlyZWN0aW9uWCIsImRpcmVjdGlvblkiLCJfZXZlbnRzIiwiX2luaXQiLCJyZWZyZXNoIiwic2Nyb2xsVG8iLCJlbmFibGUiLCJjcmVhdGVEZWZhdWx0U2Nyb2xsYmFyIiwiZGlyZWN0aW9uIiwiaW50ZXJhY3RpdmUiLCJ0eXBlIiwic2Nyb2xsYmFyIiwiY3JlYXRlRWxlbWVudCIsImluZGljYXRvciIsImNzc1RleHQiLCJjbGFzc05hbWUiLCJoZWlnaHQiLCJ3aWR0aCIsInBvaW50ZXJFdmVudHMiLCJhcHBlbmRDaGlsZCIsIkluZGljYXRvciIsIndyYXBwZXJTdHlsZSIsImluZGljYXRvclN0eWxlIiwibGlzdGVuWCIsImxpc3RlblkiLCJyZXNpemUiLCJkZWZhdWx0U2Nyb2xsYmFycyIsInNocmluayIsImZhZGUiLCJzcGVlZFJhdGlvWCIsInNwZWVkUmF0aW9ZIiwic2l6ZVJhdGlvWCIsInNpemVSYXRpb1kiLCJtYXhQb3NYIiwibWF4UG9zWSIsImRpc2FibGVUb3VjaCIsImFkZEV2ZW50Iiwid2luZG93IiwiZGlzYWJsZVBvaW50ZXIiLCJwcmVmaXhQb2ludGVyRXZlbnQiLCJkaXNhYmxlTW91c2UiLCJ0cmFuc2Zvcm0iLCJ0cmFuc2l0aW9uRHVyYXRpb24iLCJpc0JhZEFuZHJvaWQiLCJvcGFjaXR5IiwickFGIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwib1JlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2FsbGJhY2siLCJzZXRUaW1lb3V0IiwiX3ByZWZpeFN0eWxlIiwiX3ZlbmRvciIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic3Vic3RyIiwibWUiLCJfZWxlbWVudFN0eWxlIiwidmVuZG9ycyIsImwiLCJsZW5ndGgiLCJnZXRUaW1lIiwiRGF0ZSIsIm5vdyIsImV4dGVuZCIsInRhcmdldCIsIm9iaiIsImZuIiwiY2FwdHVyZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJwb2ludGVyRXZlbnQiLCJNU1BvaW50ZXJFdmVudCIsImN1cnJlbnQiLCJzdGFydCIsInRpbWUiLCJsb3dlck1hcmdpbiIsIndyYXBwZXJTaXplIiwiZGVjZWxlcmF0aW9uIiwiZGVzdGluYXRpb24iLCJkdXJhdGlvbiIsImRpc3RhbmNlIiwic3BlZWQiLCJNYXRoIiwiYWJzIiwicm91bmQiLCJfdHJhbnNmb3JtIiwiaGFzVG91Y2giLCJoYXNQb2ludGVyIiwiUG9pbnRlckV2ZW50IiwidGVzdCIsIm5hdmlnYXRvciIsImFwcFZlcnNpb24iLCJ0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24iLCJ0cmFuc2l0aW9uRGVsYXkiLCJ0cmFuc2Zvcm1PcmlnaW4iLCJoYXNDbGFzcyIsImUiLCJjIiwicmUiLCJSZWdFeHAiLCJhZGRDbGFzcyIsIm5ld2NsYXNzIiwic3BsaXQiLCJwdXNoIiwiam9pbiIsInJlbW92ZUNsYXNzIiwicmVwbGFjZSIsIm9mZnNldCIsImxlZnQiLCJvZmZzZXRMZWZ0IiwidG9wIiwib2Zmc2V0VG9wIiwib2Zmc2V0UGFyZW50IiwiZXhjZXB0aW9ucyIsImV2ZW50VHlwZSIsInRvdWNoc3RhcnQiLCJ0b3VjaG1vdmUiLCJ0b3VjaGVuZCIsIm1vdXNlZG93biIsIm1vdXNlbW92ZSIsIm1vdXNldXAiLCJwb2ludGVyZG93biIsInBvaW50ZXJtb3ZlIiwicG9pbnRlcnVwIiwiTVNQb2ludGVyRG93biIsIk1TUG9pbnRlck1vdmUiLCJNU1BvaW50ZXJVcCIsInF1YWRyYXRpYyIsImsiLCJzcXJ0IiwiYmFjayIsImIiLCJlbGFzdGljIiwiZiIsInBvdyIsInNpbiIsIlBJIiwiZXZlbnROYW1lIiwiZXYiLCJjcmVhdGVFdmVudCIsImluaXRFdmVudCIsInBhZ2VYIiwicGFnZVkiLCJkaXNwYXRjaEV2ZW50IiwiY2xpY2siLCJpbml0TW91c2VFdmVudCIsInZpZXciLCJzY3JlZW5YIiwic2NyZWVuWSIsImNsaWVudFgiLCJjbGllbnRZIiwiY3RybEtleSIsImFsdEtleSIsInNoaWZ0S2V5IiwibWV0YUtleSIsIl9jb25zdHJ1Y3RlZCIsInByb3RvdHlwZSIsInZlcnNpb24iLCJfaW5pdEV2ZW50cyIsInNjcm9sbGJhcnMiLCJpbmRpY2F0b3JzIiwiX2luaXRJbmRpY2F0b3JzIiwibW91c2VXaGVlbCIsIl9pbml0V2hlZWwiLCJzbmFwIiwiX2luaXRTbmFwIiwia2V5QmluZGluZ3MiLCJfaW5pdEtleXMiLCJkZXN0cm95IiwiX2V4ZWNFdmVudCIsIl90cmFuc2l0aW9uRW5kIiwiaXNJblRyYW5zaXRpb24iLCJfdHJhbnNpdGlvblRpbWUiLCJyZXNldFBvc2l0aW9uIiwiX3N0YXJ0IiwiYnV0dG9uIiwiZW5hYmxlZCIsImluaXRpYXRlZCIsInBvcyIsInBvaW50IiwidG91Y2hlcyIsIm1vdmVkIiwiZGlzdFgiLCJkaXN0WSIsImRpcmVjdGlvbkxvY2tlZCIsInN0YXJ0VGltZSIsImdldENvbXB1dGVkUG9zaXRpb24iLCJfdHJhbnNsYXRlIiwiaXNBbmltYXRpbmciLCJhYnNTdGFydFgiLCJhYnNTdGFydFkiLCJwb2ludFgiLCJwb2ludFkiLCJfbW92ZSIsIm5ld1giLCJuZXdZIiwiYWJzRGlzdFgiLCJhYnNEaXN0WSIsImRlbHRhWCIsImRlbHRhWSIsInRpbWVzdGFtcCIsImVuZFRpbWUiLCJoYXNIb3Jpem9udGFsU2Nyb2xsIiwiaGFzVmVydGljYWxTY3JvbGwiLCJtYXhTY3JvbGxYIiwibWF4U2Nyb2xsWSIsIl9lbmQiLCJtb21lbnR1bVgiLCJtb21lbnR1bVkiLCJjaGFuZ2VkVG91Y2hlcyIsImRpc3RhbmNlWCIsImRpc3RhbmNlWSIsImVhc2luZyIsImZsaWNrIiwid3JhcHBlcldpZHRoIiwid3JhcHBlckhlaWdodCIsIm1heCIsIl9uZWFyZXN0U25hcCIsImN1cnJlbnRQYWdlIiwic25hcFNwZWVkIiwibWluIiwiX3Jlc2l6ZSIsInRoYXQiLCJjbGVhclRpbWVvdXQiLCJyZXNpemVUaW1lb3V0IiwiZGlzYWJsZSIsIm9mZnNldEhlaWdodCIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0Iiwic2Nyb2xsZXJXaWR0aCIsIm9mZnNldFdpZHRoIiwic2Nyb2xsZXJIZWlnaHQiLCJ3cmFwcGVyT2Zmc2V0Iiwib24iLCJvZmYiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJhcHBseSIsInNsaWNlIiwiY2FsbCIsImFyZ3VtZW50cyIsInNjcm9sbEJ5IiwiX3RyYW5zaXRpb25UaW1pbmdGdW5jdGlvbiIsIl9hbmltYXRlIiwic2Nyb2xsVG9FbGVtZW50Iiwib2Zmc2V0WCIsIm9mZnNldFkiLCJub2RlVHlwZSIsInRyYW5zaXRpb25UaW1lIiwidXBkYXRlUG9zaXRpb24iLCJyZW1vdmUiLCJiaW5kVG9XcmFwcGVyIiwibWF0cml4IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsIl9pbmRpY2F0b3JzTWFwIiwiaW50ZXJhY3RpdmVTY3JvbGxiYXJzIiwiY3VzdG9tU3R5bGUiLCJmYWRlU2Nyb2xsYmFycyIsImNvbmNhdCIsIl93aGVlbCIsInN0b3BQcm9wYWdhdGlvbiIsIndoZWVsRGVsdGFYIiwid2hlZWxEZWx0YVkiLCJ3aGVlbFRpbWVvdXQiLCJkZWx0YU1vZGUiLCJ3aGVlbERlbHRhIiwiZGV0YWlsIiwiZ29Ub1BhZ2UiLCJxdWVyeVNlbGVjdG9yQWxsIiwibiIsImN4IiwiY3kiLCJtIiwic3RlcFgiLCJzbmFwU3RlcFgiLCJzdGVwWSIsInNuYXBTdGVwWSIsInBhZ2VzIiwic25hcFRocmVzaG9sZFgiLCJzbmFwVGhyZXNob2xkWSIsInBvc1giLCJwb3NZIiwibmV4dCIsInByZXYiLCJrZXlzIiwicGFnZVVwIiwicGFnZURvd24iLCJlbmQiLCJob21lIiwidXAiLCJyaWdodCIsImRvd24iLCJjaGFyQ29kZUF0IiwiX2tleSIsInByZXZUaW1lIiwia2V5VGltZSIsImFjY2VsZXJhdGlvbiIsImtleUFjY2VsZXJhdGlvbiIsImtleUNvZGUiLCJkZXN0WCIsImRlc3RZIiwiZWFzaW5nRm4iLCJzdGVwIiwiZGVzdFRpbWUiLCJoYW5kbGVFdmVudCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImxhc3RQb2ludFgiLCJsYXN0UG9pbnRZIiwiX3BvcyIsImRpc3BsYXkiLCJib3R0b20iLCJpbmRpY2F0b3JXaWR0aCIsIm1pbkJvdW5kYXJ5WCIsIm1heEJvdW5kYXJ5WCIsImluZGljYXRvckhlaWdodCIsIm1pbkJvdW5kYXJ5WSIsIm1heEJvdW5kYXJ5WSIsImlnbm9yZUJvdW5kYXJpZXMiLCJ2YWwiLCJob2xkIiwidmlzaWJsZSIsImZhZGVUaW1lb3V0Iiwi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RUFBQSxPQUlBMlQsS0FBQSxTQUFBNVQsRUFBQUMsR0FDQUQsRUFBQSxFQUNBQSxFQUFBLEVBQ0FBLEVBQUExQyxLQUFBNkUsVUFDQW5DLEVBQUExQyxLQUFBNkUsU0FHQWxDLEVBQUEsRUFDQUEsRUFBQSxFQUNBQSxFQUFBM0MsS0FBQThFLFVBQ0FuQyxFQUFBM0MsS0FBQThFLFNBR0FwQyxFQUFBMUMsS0FBQUQsUUFBQW9FLFFBQUErRCxLQUFBRSxNQUFBMUYsRUFBQTFDLEtBQUEyRSxZQUFBM0UsS0FBQUksU0FBQXNDLEVBQ0FDLEVBQUEzQyxLQUFBRCxRQUFBcUUsUUFBQThELEtBQUFFLE1BQUF6RixFQUFBM0MsS0FBQTRFLFlBQUE1RSxLQUFBSSxTQUFBdUMsRUFFQTNDLEtBQUFJLFNBQUE2QyxTQUFBUCxFQUFBQyxJQUdBNkIsS0FBQSxTQUFBd1MsRUFBQUMsR0FDQSxJQUFBQSxHQUFBalgsS0FBQWtYLFFBQUEsQ0FJQW5HLGFBQUEvUSxLQUFBbVgsYUFDQW5YLEtBQUFtWCxZQUFBLElBRUEsSUFBQXpQLEdBQUFzUCxFQUFBLElBQUEsSUFDQUksRUFBQUosRUFBQSxFQUFBLEdBRUFBLEdBQUFBLEVBQUEsSUFBQSxJQUVBaFgsS0FBQWlFLGFBQUF0QyxFQUFBcEIsTUFBQStFLG9CQUFBb0MsRUFBQSxLQUVBMUgsS0FBQW1YLFlBQUFuUixXQUFBLFNBQUFnUixHQUNBaFgsS0FBQWlFLGFBQUF1QixRQUFBd1IsRUFDQWhYLEtBQUFrWCxTQUFBRixHQUNBSyxLQUFBclgsS0FBQWdYLEdBQUFJLE1BSUEsbUJBQUFFLFNBQUFBLE9BQUFDLFFBQ0FELE9BQUFDLFFBQUExWCxFQUNBLGtCQUFBMlgsU0FBQUEsT0FBQUMsSUFDQUQsT0FBQSxXQUNBLE1BQUEzWCxLQUdBb0YsT0FBQXBGLFFBQUFBIiwiZmlsZSI6InBsdWcvaXNjcm9sbC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpIHtcbiAgICB2YXIgckFGID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgd2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgd2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgIGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChjYWxsYmFjaywgMTAwMCAvIDYwKTtcbiAgICAgICAgfTtcblxuICAgIHZhciB1dGlscyA9IChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1lID0ge307XG5cbiAgICAgICAgdmFyIF9lbGVtZW50U3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKS5zdHlsZTtcbiAgICAgICAgdmFyIF92ZW5kb3IgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgdmVuZG9ycyA9IFsndCcsICd3ZWJraXRUJywgJ01velQnLCAnbXNUJywgJ09UJ10sXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtLFxuICAgICAgICAgICAgICAgIGkgPSAwLFxuICAgICAgICAgICAgICAgIGwgPSB2ZW5kb3JzLmxlbmd0aDtcblxuICAgICAgICAgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0gPSB2ZW5kb3JzW2ldICsgJ3JhbnNmb3JtJztcbiAgICAgICAgICAgICAgICBpZiAodHJhbnNmb3JtIGluIF9lbGVtZW50U3R5bGUpIHJldHVybiB2ZW5kb3JzW2ldLnN1YnN0cigwLCB2ZW5kb3JzW2ldLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pKCk7XG5cbiAgICAgICAgZnVuY3Rpb24gX3ByZWZpeFN0eWxlKHN0eWxlKSB7XG4gICAgICAgICAgICBpZiAoX3ZlbmRvciA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGlmIChfdmVuZG9yID09PSAnJykgcmV0dXJuIHN0eWxlO1xuICAgICAgICAgICAgcmV0dXJuIF92ZW5kb3IgKyBzdHlsZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0eWxlLnN1YnN0cigxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1lLmdldFRpbWUgPSBEYXRlLm5vdyB8fCBmdW5jdGlvbiBnZXRUaW1lKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIG1lLmV4dGVuZCA9IGZ1bmN0aW9uKHRhcmdldCwgb2JqKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpIGluIG9iaikge1xuICAgICAgICAgICAgICAgIHRhcmdldFtpXSA9IG9ialtpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBtZS5hZGRFdmVudCA9IGZ1bmN0aW9uKGVsLCB0eXBlLCBmbiwgY2FwdHVyZSkge1xuICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmbiwgISFjYXB0dXJlKTtcbiAgICAgICAgfTtcblxuICAgICAgICBtZS5yZW1vdmVFdmVudCA9IGZ1bmN0aW9uKGVsLCB0eXBlLCBmbiwgY2FwdHVyZSkge1xuICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBmbiwgISFjYXB0dXJlKTtcbiAgICAgICAgfTtcblxuICAgICAgICBtZS5wcmVmaXhQb2ludGVyRXZlbnQgPSBmdW5jdGlvbihwb2ludGVyRXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cuTVNQb2ludGVyRXZlbnQgP1xuICAgICAgICAgICAgICAgICdNU1BvaW50ZXInICsgcG9pbnRlckV2ZW50LmNoYXJBdCg5KS50b1VwcGVyQ2FzZSgpICsgcG9pbnRlckV2ZW50LnN1YnN0cigxMCkgOlxuICAgICAgICAgICAgICAgIHBvaW50ZXJFdmVudDtcbiAgICAgICAgfTtcblxuICAgICAgICBtZS5tb21lbnR1bSA9IGZ1bmN0aW9uKGN1cnJlbnQsIHN0YXJ0LCB0aW1lLCBsb3dlck1hcmdpbiwgd3JhcHBlclNpemUsIGRlY2VsZXJhdGlvbikge1xuICAgICAgICAgICAgdmFyIGRpc3RhbmNlID0gY3VycmVudCAtIHN0YXJ0LFxuICAgICAgICAgICAgICAgIHNwZWVkID0gTWF0aC5hYnMoZGlzdGFuY2UpIC8gdGltZSxcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbixcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjtcblxuICAgICAgICAgICAgZGVjZWxlcmF0aW9uID0gZGVjZWxlcmF0aW9uID09PSB1bmRlZmluZWQgPyAwLjAwMDYgOiBkZWNlbGVyYXRpb247XG5cbiAgICAgICAgICAgIGRlc3RpbmF0aW9uID0gY3VycmVudCArIChzcGVlZCAqIHNwZWVkKSAvICgyICogZGVjZWxlcmF0aW9uKSAqIChkaXN0YW5jZSA8IDAgPyAtMSA6IDEpO1xuICAgICAgICAgICAgZHVyYXRpb24gPSBzcGVlZCAvIGRlY2VsZXJhdGlvbjtcblxuICAgICAgICAgICAgaWYgKGRlc3RpbmF0aW9uIDwgbG93ZXJNYXJnaW4pIHtcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbiA9IHdyYXBwZXJTaXplID8gbG93ZXJNYXJnaW4gLSAod3JhcHBlclNpemUgLyAyLjUgKiAoc3BlZWQgLyA4KSkgOiBsb3dlck1hcmdpbjtcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IE1hdGguYWJzKGRlc3RpbmF0aW9uIC0gY3VycmVudCk7XG4gICAgICAgICAgICAgICAgZHVyYXRpb24gPSBkaXN0YW5jZSAvIHNwZWVkO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkZXN0aW5hdGlvbiA+IDApIHtcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbiA9IHdyYXBwZXJTaXplID8gd3JhcHBlclNpemUgLyAyLjUgKiAoc3BlZWQgLyA4KSA6IDA7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBNYXRoLmFicyhjdXJyZW50KSArIGRlc3RpbmF0aW9uO1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gZGlzdGFuY2UgLyBzcGVlZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbjogTWF0aC5yb3VuZChkZXN0aW5hdGlvbiksXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uXG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBfdHJhbnNmb3JtID0gX3ByZWZpeFN0eWxlKCd0cmFuc2Zvcm0nKTtcblxuICAgICAgICBtZS5leHRlbmQobWUsIHtcbiAgICAgICAgICAgIGhhc1RyYW5zZm9ybTogX3RyYW5zZm9ybSAhPT0gZmFsc2UsXG4gICAgICAgICAgICBoYXNQZXJzcGVjdGl2ZTogX3ByZWZpeFN0eWxlKCdwZXJzcGVjdGl2ZScpIGluIF9lbGVtZW50U3R5bGUsXG4gICAgICAgICAgICBoYXNUb3VjaDogJ29udG91Y2hzdGFydCcgaW4gd2luZG93LFxuICAgICAgICAgICAgaGFzUG9pbnRlcjogd2luZG93LlBvaW50ZXJFdmVudCB8fCB3aW5kb3cuTVNQb2ludGVyRXZlbnQsIC8vIElFMTAgaXMgcHJlZml4ZWRcbiAgICAgICAgICAgIGhhc1RyYW5zaXRpb246IF9wcmVmaXhTdHlsZSgndHJhbnNpdGlvbicpIGluIF9lbGVtZW50U3R5bGVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gVGhpcyBzaG91bGQgZmluZCBhbGwgQW5kcm9pZCBicm93c2VycyBsb3dlciB0aGFuIGJ1aWxkIDUzNS4xOSAoYm90aCBzdG9jayBicm93c2VyIGFuZCB3ZWJ2aWV3KVxuICAgICAgICBtZS5pc0JhZEFuZHJvaWQgPSAvQW5kcm9pZCAvLnRlc3Qod2luZG93Lm5hdmlnYXRvci5hcHBWZXJzaW9uKSAmJiAhKC9DaHJvbWVcXC9cXGQvLnRlc3Qod2luZG93Lm5hdmlnYXRvci5hcHBWZXJzaW9uKSk7XG5cbiAgICAgICAgbWUuZXh0ZW5kKG1lLnN0eWxlID0ge30sIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogX3RyYW5zZm9ybSxcbiAgICAgICAgICAgIHRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbjogX3ByZWZpeFN0eWxlKCd0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24nKSxcbiAgICAgICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogX3ByZWZpeFN0eWxlKCd0cmFuc2l0aW9uRHVyYXRpb24nKSxcbiAgICAgICAgICAgIHRyYW5zaXRpb25EZWxheTogX3ByZWZpeFN0eWxlKCd0cmFuc2l0aW9uRGVsYXknKSxcbiAgICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbjogX3ByZWZpeFN0eWxlKCd0cmFuc2Zvcm1PcmlnaW4nKVxuICAgICAgICB9KTtcblxuICAgICAgICBtZS5oYXNDbGFzcyA9IGZ1bmN0aW9uKGUsIGMpIHtcbiAgICAgICAgICAgIHZhciByZSA9IG5ldyBSZWdFeHAoXCIoXnxcXFxccylcIiArIGMgKyBcIihcXFxcc3wkKVwiKTtcbiAgICAgICAgICAgIHJldHVybiByZS50ZXN0KGUuY2xhc3NOYW1lKTtcbiAgICAgICAgfTtcblxuICAgICAgICBtZS5hZGRDbGFzcyA9IGZ1bmN0aW9uKGUsIGMpIHtcbiAgICAgICAgICAgIGlmIChtZS5oYXNDbGFzcyhlLCBjKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG5ld2NsYXNzID0gZS5jbGFzc05hbWUuc3BsaXQoJyAnKTtcbiAgICAgICAgICAgIG5ld2NsYXNzLnB1c2goYyk7XG4gICAgICAgICAgICBlLmNsYXNzTmFtZSA9IG5ld2NsYXNzLmpvaW4oJyAnKTtcbiAgICAgICAgfTtcblxuICAgICAgICBtZS5yZW1vdmVDbGFzcyA9IGZ1bmN0aW9uKGUsIGMpIHtcbiAgICAgICAgICAgIGlmICghbWUuaGFzQ2xhc3MoZSwgYykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciByZSA9IG5ldyBSZWdFeHAoXCIoXnxcXFxccylcIiArIGMgKyBcIihcXFxcc3wkKVwiLCAnZycpO1xuICAgICAgICAgICAgZS5jbGFzc05hbWUgPSBlLmNsYXNzTmFtZS5yZXBsYWNlKHJlLCAnICcpO1xuICAgICAgICB9O1xuXG4gICAgICAgIG1lLm9mZnNldCA9IGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICB2YXIgbGVmdCA9IC1lbC5vZmZzZXRMZWZ0LFxuICAgICAgICAgICAgICAgIHRvcCA9IC1lbC5vZmZzZXRUb3A7XG5cbiAgICAgICAgICAgIC8vIGpzaGludCAtVzA4NFxuICAgICAgICAgICAgd2hpbGUgKGVsID0gZWwub2Zmc2V0UGFyZW50KSB7XG4gICAgICAgICAgICAgICAgbGVmdCAtPSBlbC5vZmZzZXRMZWZ0O1xuICAgICAgICAgICAgICAgIHRvcCAtPSBlbC5vZmZzZXRUb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBqc2hpbnQgK1cwODRcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBsZWZ0OiBsZWZ0LFxuICAgICAgICAgICAgICAgIHRvcDogdG9wXG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuXG4gICAgICAgIG1lLnByZXZlbnREZWZhdWx0RXhjZXB0aW9uID0gZnVuY3Rpb24oZWwsIGV4Y2VwdGlvbnMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gZXhjZXB0aW9ucykge1xuICAgICAgICAgICAgICAgIGlmIChleGNlcHRpb25zW2ldLnRlc3QoZWxbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuXG4gICAgICAgIG1lLmV4dGVuZChtZS5ldmVudFR5cGUgPSB7fSwge1xuICAgICAgICAgICAgdG91Y2hzdGFydDogMSxcbiAgICAgICAgICAgIHRvdWNobW92ZTogMSxcbiAgICAgICAgICAgIHRvdWNoZW5kOiAxLFxuXG4gICAgICAgICAgICBtb3VzZWRvd246IDIsXG4gICAgICAgICAgICBtb3VzZW1vdmU6IDIsXG4gICAgICAgICAgICBtb3VzZXVwOiAyLFxuXG4gICAgICAgICAgICBwb2ludGVyZG93bjogMyxcbiAgICAgICAgICAgIHBvaW50ZXJtb3ZlOiAzLFxuICAgICAgICAgICAgcG9pbnRlcnVwOiAzLFxuXG4gICAgICAgICAgICBNU1BvaW50ZXJEb3duOiAzLFxuICAgICAgICAgICAgTVNQb2ludGVyTW92ZTogMyxcbiAgICAgICAgICAgIE1TUG9pbnRlclVwOiAzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIG1lLmV4dGVuZChtZS5lYXNlID0ge30sIHtcbiAgICAgICAgICAgIHF1YWRyYXRpYzoge1xuICAgICAgICAgICAgICAgIHN0eWxlOiAnY3ViaWMtYmV6aWVyKDAuMjUsIDAuNDYsIDAuNDUsIDAuOTQpJyxcbiAgICAgICAgICAgICAgICBmbjogZnVuY3Rpb24oaykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gayAqICgyIC0gayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNpcmN1bGFyOiB7XG4gICAgICAgICAgICAgICAgc3R5bGU6ICdjdWJpYy1iZXppZXIoMC4xLCAwLjU3LCAwLjEsIDEpJywgLy8gTm90IHByb3Blcmx5IFwiY2lyY3VsYXJcIiBidXQgdGhpcyBsb29rcyBiZXR0ZXIsIGl0IHNob3VsZCBiZSAoMC4wNzUsIDAuODIsIDAuMTY1LCAxKVxuICAgICAgICAgICAgICAgIGZuOiBmdW5jdGlvbihrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnNxcnQoMSAtICgtLWsgKiBrKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJhY2s6IHtcbiAgICAgICAgICAgICAgICBzdHlsZTogJ2N1YmljLWJlemllcigwLjE3NSwgMC44ODUsIDAuMzIsIDEuMjc1KScsXG4gICAgICAgICAgICAgICAgZm46IGZ1bmN0aW9uKGspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSA0O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGsgPSBrIC0gMSkgKiBrICogKChiICsgMSkgKiBrICsgYikgKyAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBib3VuY2U6IHtcbiAgICAgICAgICAgICAgICBzdHlsZTogJycsXG4gICAgICAgICAgICAgICAgZm46IGZ1bmN0aW9uKGspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChrIC89IDEpIDwgKDEgLyAyLjc1KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDcuNTYyNSAqIGsgKiBrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGsgPCAoMiAvIDIuNzUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gNy41NjI1ICogKGsgLT0gKDEuNSAvIDIuNzUpKSAqIGsgKyAwLjc1O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGsgPCAoMi41IC8gMi43NSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA3LjU2MjUgKiAoayAtPSAoMi4yNSAvIDIuNzUpKSAqIGsgKyAwLjkzNzU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gNy41NjI1ICogKGsgLT0gKDIuNjI1IC8gMi43NSkpICogayArIDAuOTg0Mzc1O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVsYXN0aWM6IHtcbiAgICAgICAgICAgICAgICBzdHlsZTogJycsXG4gICAgICAgICAgICAgICAgZm46IGZ1bmN0aW9uKGspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGYgPSAwLjIyLFxuICAgICAgICAgICAgICAgICAgICAgICAgZSA9IDAuNDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoayA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGsgPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGUgKiBNYXRoLnBvdygyLCAtMTAgKiBrKSAqIE1hdGguc2luKChrIC0gZiAvIDQpICogKDIgKiBNYXRoLlBJKSAvIGYpICsgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBtZS50YXAgPSBmdW5jdGlvbihlLCBldmVudE5hbWUpIHtcbiAgICAgICAgICAgIHZhciBldiA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgICAgICAgICAgZXYuaW5pdEV2ZW50KGV2ZW50TmFtZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICBldi5wYWdlWCA9IGUucGFnZVg7XG4gICAgICAgICAgICBldi5wYWdlWSA9IGUucGFnZVk7XG4gICAgICAgICAgICBlLnRhcmdldC5kaXNwYXRjaEV2ZW50KGV2KTtcbiAgICAgICAgfTtcblxuICAgICAgICBtZS5jbGljayA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldCxcbiAgICAgICAgICAgICAgICBldjtcblxuICAgICAgICAgICAgaWYgKCEoLyhTRUxFQ1R8SU5QVVR8VEVYVEFSRUEpL2kpLnRlc3QodGFyZ2V0LnRhZ05hbWUpKSB7XG4gICAgICAgICAgICAgICAgZXYgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudHMnKTtcbiAgICAgICAgICAgICAgICBldi5pbml0TW91c2VFdmVudCgnY2xpY2snLCB0cnVlLCB0cnVlLCBlLnZpZXcsIDEsXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5zY3JlZW5YLCB0YXJnZXQuc2NyZWVuWSwgdGFyZ2V0LmNsaWVudFgsIHRhcmdldC5jbGllbnRZLFxuICAgICAgICAgICAgICAgICAgICBlLmN0cmxLZXksIGUuYWx0S2V5LCBlLnNoaWZ0S2V5LCBlLm1ldGFLZXksXG4gICAgICAgICAgICAgICAgICAgIDAsIG51bGwpO1xuXG4gICAgICAgICAgICAgICAgZXYuX2NvbnN0cnVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0YXJnZXQuZGlzcGF0Y2hFdmVudChldik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG1lO1xuICAgIH0pKCk7XG5cbiAgICBmdW5jdGlvbiBJU2Nyb2xsKGVsLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMud3JhcHBlciA9IHR5cGVvZiBlbCA9PSAnc3RyaW5nJyA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWwpIDogZWw7XG4gICAgICAgIHRoaXMuc2Nyb2xsZXIgPSB0aGlzLndyYXBwZXIuY2hpbGRyZW5bMF07XG4gICAgICAgIHRoaXMuc2Nyb2xsZXJTdHlsZSA9IHRoaXMuc2Nyb2xsZXIuc3R5bGU7IC8vIGNhY2hlIHN0eWxlIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VcblxuICAgICAgICB0aGlzLm9wdGlvbnMgPSB7XG5cbiAgICAgICAgICAgIHJlc2l6ZVNjcm9sbGJhcnM6IHRydWUsXG5cbiAgICAgICAgICAgIG1vdXNlV2hlZWxTcGVlZDogMjAsXG5cbiAgICAgICAgICAgIHNuYXBUaHJlc2hvbGQ6IDAuMzM0LFxuXG4gICAgICAgICAgICAvLyBJTlNFUlQgUE9JTlQ6IE9QVElPTlMgXG5cbiAgICAgICAgICAgIHN0YXJ0WDogMCxcbiAgICAgICAgICAgIHN0YXJ0WTogMCxcbiAgICAgICAgICAgIHNjcm9sbFk6IHRydWUsXG4gICAgICAgICAgICBkaXJlY3Rpb25Mb2NrVGhyZXNob2xkOiA1LFxuICAgICAgICAgICAgbW9tZW50dW06IHRydWUsXG5cbiAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSxcbiAgICAgICAgICAgIGJvdW5jZVRpbWU6IDYwMCxcbiAgICAgICAgICAgIGJvdW5jZUVhc2luZzogJycsXG5cbiAgICAgICAgICAgIHByZXZlbnREZWZhdWx0OiB0cnVlLFxuICAgICAgICAgICAgcHJldmVudERlZmF1bHRFeGNlcHRpb246IHtcbiAgICAgICAgICAgICAgICB0YWdOYW1lOiAvXihJTlBVVHxURVhUQVJFQXxCVVRUT058U0VMRUNUKSQvXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBIV0NvbXBvc2l0aW5nOiB0cnVlLFxuICAgICAgICAgICAgdXNlVHJhbnNpdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgIHVzZVRyYW5zZm9ybTogdHJ1ZVxuICAgICAgICB9O1xuXG4gICAgICAgIGZvciAodmFyIGkgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zW2ldID0gb3B0aW9uc1tpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vcm1hbGl6ZSBvcHRpb25zXG4gICAgICAgIHRoaXMudHJhbnNsYXRlWiA9IHRoaXMub3B0aW9ucy5IV0NvbXBvc2l0aW5nICYmIHV0aWxzLmhhc1BlcnNwZWN0aXZlID8gJyB0cmFuc2xhdGVaKDApJyA6ICcnO1xuXG4gICAgICAgIHRoaXMub3B0aW9ucy51c2VUcmFuc2l0aW9uID0gdXRpbHMuaGFzVHJhbnNpdGlvbiAmJiB0aGlzLm9wdGlvbnMudXNlVHJhbnNpdGlvbjtcbiAgICAgICAgdGhpcy5vcHRpb25zLnVzZVRyYW5zZm9ybSA9IHV0aWxzLmhhc1RyYW5zZm9ybSAmJiB0aGlzLm9wdGlvbnMudXNlVHJhbnNmb3JtO1xuXG4gICAgICAgIHRoaXMub3B0aW9ucy5ldmVudFBhc3N0aHJvdWdoID0gdGhpcy5vcHRpb25zLmV2ZW50UGFzc3Rocm91Z2ggPT09IHRydWUgPyAndmVydGljYWwnIDogdGhpcy5vcHRpb25zLmV2ZW50UGFzc3Rocm91Z2g7XG4gICAgICAgIHRoaXMub3B0aW9ucy5wcmV2ZW50RGVmYXVsdCA9ICF0aGlzLm9wdGlvbnMuZXZlbnRQYXNzdGhyb3VnaCAmJiB0aGlzLm9wdGlvbnMucHJldmVudERlZmF1bHQ7XG5cbiAgICAgICAgLy8gSWYgeW91IHdhbnQgZXZlbnRQYXNzdGhyb3VnaCBJIGhhdmUgdG8gbG9jayBvbmUgb2YgdGhlIGF4ZXNcbiAgICAgICAgdGhpcy5vcHRpb25zLnNjcm9sbFkgPSB0aGlzLm9wdGlvbnMuZXZlbnRQYXNzdGhyb3VnaCA9PSAndmVydGljYWwnID8gZmFsc2UgOiB0aGlzLm9wdGlvbnMuc2Nyb2xsWTtcbiAgICAgICAgdGhpcy5vcHRpb25zLnNjcm9sbFggPSB0aGlzLm9wdGlvbnMuZXZlbnRQYXNzdGhyb3VnaCA9PSAnaG9yaXpvbnRhbCcgPyBmYWxzZSA6IHRoaXMub3B0aW9ucy5zY3JvbGxYO1xuXG4gICAgICAgIC8vIFdpdGggZXZlbnRQYXNzdGhyb3VnaCB3ZSBhbHNvIG5lZWQgbG9ja0RpcmVjdGlvbiBtZWNoYW5pc21cbiAgICAgICAgdGhpcy5vcHRpb25zLmZyZWVTY3JvbGwgPSB0aGlzLm9wdGlvbnMuZnJlZVNjcm9sbCAmJiAhdGhpcy5vcHRpb25zLmV2ZW50UGFzc3Rocm91Z2g7XG4gICAgICAgIHRoaXMub3B0aW9ucy5kaXJlY3Rpb25Mb2NrVGhyZXNob2xkID0gdGhpcy5vcHRpb25zLmV2ZW50UGFzc3Rocm91Z2ggPyAwIDogdGhpcy5vcHRpb25zLmRpcmVjdGlvbkxvY2tUaHJlc2hvbGQ7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zLmJvdW5jZUVhc2luZyA9IHR5cGVvZiB0aGlzLm9wdGlvbnMuYm91bmNlRWFzaW5nID09ICdzdHJpbmcnID8gdXRpbHMuZWFzZVt0aGlzLm9wdGlvbnMuYm91bmNlRWFzaW5nXSB8fCB1dGlscy5lYXNlLmNpcmN1bGFyIDogdGhpcy5vcHRpb25zLmJvdW5jZUVhc2luZztcblxuICAgICAgICB0aGlzLm9wdGlvbnMucmVzaXplUG9sbGluZyA9IHRoaXMub3B0aW9ucy5yZXNpemVQb2xsaW5nID09PSB1bmRlZmluZWQgPyA2MCA6IHRoaXMub3B0aW9ucy5yZXNpemVQb2xsaW5nO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudGFwID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMudGFwID0gJ3RhcCc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNocmlua1Njcm9sbGJhcnMgPT0gJ3NjYWxlJykge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnVzZVRyYW5zaXRpb24gPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub3B0aW9ucy5pbnZlcnRXaGVlbERpcmVjdGlvbiA9IHRoaXMub3B0aW9ucy5pbnZlcnRXaGVlbERpcmVjdGlvbiA/IC0xIDogMTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnByb2JlVHlwZSA9PSAzKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMudXNlVHJhbnNpdGlvbiA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSU5TRVJUIFBPSU5UOiBOT1JNQUxJWkFUSU9OXG5cbiAgICAgICAgLy8gU29tZSBkZWZhdWx0c1x0XG4gICAgICAgIHRoaXMueCA9IDA7XG4gICAgICAgIHRoaXMueSA9IDA7XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uWCA9IDA7XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uWSA9IDA7XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXG4gICAgICAgIC8vIElOU0VSVCBQT0lOVDogREVGQVVMVFNcblxuICAgICAgICB0aGlzLl9pbml0KCk7XG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xuXG4gICAgICAgIHRoaXMuc2Nyb2xsVG8odGhpcy5vcHRpb25zLnN0YXJ0WCwgdGhpcy5vcHRpb25zLnN0YXJ0WSk7XG4gICAgICAgIHRoaXMuZW5hYmxlKCk7XG4gICAgfVxuXG4gICAgSVNjcm9sbC5wcm90b3R5cGUgPSB7XG4gICAgICAgIHZlcnNpb246ICc1LjEuMycsXG5cbiAgICAgICAgX2luaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5faW5pdEV2ZW50cygpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNjcm9sbGJhcnMgfHwgdGhpcy5vcHRpb25zLmluZGljYXRvcnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbml0SW5kaWNhdG9ycygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLm1vdXNlV2hlZWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbml0V2hlZWwoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zbmFwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5pdFNuYXAoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5rZXlCaW5kaW5ncykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luaXRLZXlzKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElOU0VSVCBQT0lOVDogX2luaXRcblxuICAgICAgICB9LFxuXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5faW5pdEV2ZW50cyh0cnVlKTtcblxuICAgICAgICAgICAgdGhpcy5fZXhlY0V2ZW50KCdkZXN0cm95Jyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX3RyYW5zaXRpb25FbmQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmIChlLnRhcmdldCAhPSB0aGlzLnNjcm9sbGVyIHx8ICF0aGlzLmlzSW5UcmFuc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl90cmFuc2l0aW9uVGltZSgpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnJlc2V0UG9zaXRpb24odGhpcy5vcHRpb25zLmJvdW5jZVRpbWUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0luVHJhbnNpdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuX2V4ZWNFdmVudCgnc2Nyb2xsRW5kJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgX3N0YXJ0OiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAvLyBSZWFjdCB0byBsZWZ0IG1vdXNlIGJ1dHRvbiBvbmx5XG4gICAgICAgICAgICBpZiAodXRpbHMuZXZlbnRUeXBlW2UudHlwZV0gIT0gMSkge1xuICAgICAgICAgICAgICAgIGlmIChlLmJ1dHRvbiAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZCB8fCAodGhpcy5pbml0aWF0ZWQgJiYgdXRpbHMuZXZlbnRUeXBlW2UudHlwZV0gIT09IHRoaXMuaW5pdGlhdGVkKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wcmV2ZW50RGVmYXVsdCAmJiAhdXRpbHMuaXNCYWRBbmRyb2lkICYmICF1dGlscy5wcmV2ZW50RGVmYXVsdEV4Y2VwdGlvbihlLnRhcmdldCwgdGhpcy5vcHRpb25zLnByZXZlbnREZWZhdWx0RXhjZXB0aW9uKSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHBvaW50ID0gZS50b3VjaGVzID8gZS50b3VjaGVzWzBdIDogZSxcbiAgICAgICAgICAgICAgICBwb3M7XG5cbiAgICAgICAgICAgIHRoaXMuaW5pdGlhdGVkID0gdXRpbHMuZXZlbnRUeXBlW2UudHlwZV07XG4gICAgICAgICAgICB0aGlzLm1vdmVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmRpc3RYID0gMDtcbiAgICAgICAgICAgIHRoaXMuZGlzdFkgPSAwO1xuICAgICAgICAgICAgdGhpcy5kaXJlY3Rpb25YID0gMDtcbiAgICAgICAgICAgIHRoaXMuZGlyZWN0aW9uWSA9IDA7XG4gICAgICAgICAgICB0aGlzLmRpcmVjdGlvbkxvY2tlZCA9IDA7XG5cbiAgICAgICAgICAgIHRoaXMuX3RyYW5zaXRpb25UaW1lKCk7XG5cbiAgICAgICAgICAgIHRoaXMuc3RhcnRUaW1lID0gdXRpbHMuZ2V0VGltZSgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnVzZVRyYW5zaXRpb24gJiYgdGhpcy5pc0luVHJhbnNpdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuaXNJblRyYW5zaXRpb24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBwb3MgPSB0aGlzLmdldENvbXB1dGVkUG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2xhdGUoTWF0aC5yb3VuZChwb3MueCksIE1hdGgucm91bmQocG9zLnkpKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9leGVjRXZlbnQoJ3Njcm9sbEVuZCcpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5vcHRpb25zLnVzZVRyYW5zaXRpb24gJiYgdGhpcy5pc0FuaW1hdGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuaXNBbmltYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9leGVjRXZlbnQoJ3Njcm9sbEVuZCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnN0YXJ0WCA9IHRoaXMueDtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRZID0gdGhpcy55O1xuICAgICAgICAgICAgdGhpcy5hYnNTdGFydFggPSB0aGlzLng7XG4gICAgICAgICAgICB0aGlzLmFic1N0YXJ0WSA9IHRoaXMueTtcbiAgICAgICAgICAgIHRoaXMucG9pbnRYID0gcG9pbnQucGFnZVg7XG4gICAgICAgICAgICB0aGlzLnBvaW50WSA9IHBvaW50LnBhZ2VZO1xuXG4gICAgICAgICAgICB0aGlzLl9leGVjRXZlbnQoJ2JlZm9yZVNjcm9sbFN0YXJ0Jyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX21vdmU6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5lbmFibGVkIHx8IHV0aWxzLmV2ZW50VHlwZVtlLnR5cGVdICE9PSB0aGlzLmluaXRpYXRlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wcmV2ZW50RGVmYXVsdCkgeyAvLyBpbmNyZWFzZXMgcGVyZm9ybWFuY2Ugb24gQW5kcm9pZD8gVE9ETzogY2hlY2shXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcG9pbnQgPSBlLnRvdWNoZXMgPyBlLnRvdWNoZXNbMF0gOiBlLFxuICAgICAgICAgICAgICAgIGRlbHRhWCA9IHBvaW50LnBhZ2VYIC0gdGhpcy5wb2ludFgsXG4gICAgICAgICAgICAgICAgZGVsdGFZID0gcG9pbnQucGFnZVkgLSB0aGlzLnBvaW50WSxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXAgPSB1dGlscy5nZXRUaW1lKCksXG4gICAgICAgICAgICAgICAgbmV3WCwgbmV3WSxcbiAgICAgICAgICAgICAgICBhYnNEaXN0WCwgYWJzRGlzdFk7XG5cbiAgICAgICAgICAgIHRoaXMucG9pbnRYID0gcG9pbnQucGFnZVg7XG4gICAgICAgICAgICB0aGlzLnBvaW50WSA9IHBvaW50LnBhZ2VZO1xuXG4gICAgICAgICAgICB0aGlzLmRpc3RYICs9IGRlbHRhWDtcbiAgICAgICAgICAgIHRoaXMuZGlzdFkgKz0gZGVsdGFZO1xuICAgICAgICAgICAgYWJzRGlzdFggPSBNYXRoLmFicyh0aGlzLmRpc3RYKTtcbiAgICAgICAgICAgIGFic0Rpc3RZID0gTWF0aC5hYnModGhpcy5kaXN0WSk7XG5cbiAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gbW92ZSBhdCBsZWFzdCAxMCBwaXhlbHMgZm9yIHRoZSBzY3JvbGxpbmcgdG8gaW5pdGlhdGVcbiAgICAgICAgICAgIGlmICh0aW1lc3RhbXAgLSB0aGlzLmVuZFRpbWUgPiAzMDAgJiYgKGFic0Rpc3RYIDwgMTAgJiYgYWJzRGlzdFkgPCAxMCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIHlvdSBhcmUgc2Nyb2xsaW5nIGluIG9uZSBkaXJlY3Rpb24gbG9jayB0aGUgb3RoZXJcbiAgICAgICAgICAgIGlmICghdGhpcy5kaXJlY3Rpb25Mb2NrZWQgJiYgIXRoaXMub3B0aW9ucy5mcmVlU2Nyb2xsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFic0Rpc3RYID4gYWJzRGlzdFkgKyB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uTG9ja1RocmVzaG9sZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpcmVjdGlvbkxvY2tlZCA9ICdoJzsgLy8gbG9jayBob3Jpem9udGFsbHlcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFic0Rpc3RZID49IGFic0Rpc3RYICsgdGhpcy5vcHRpb25zLmRpcmVjdGlvbkxvY2tUaHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXJlY3Rpb25Mb2NrZWQgPSAndic7IC8vIGxvY2sgdmVydGljYWxseVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlyZWN0aW9uTG9ja2VkID0gJ24nOyAvLyBubyBsb2NrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5kaXJlY3Rpb25Mb2NrZWQgPT0gJ2gnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5ldmVudFBhc3N0aHJvdWdoID09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLmV2ZW50UGFzc3Rocm91Z2ggPT0gJ2hvcml6b250YWwnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkZWx0YVkgPSAwO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmRpcmVjdGlvbkxvY2tlZCA9PSAndicpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmV2ZW50UGFzc3Rocm91Z2ggPT0gJ2hvcml6b250YWwnKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5ldmVudFBhc3N0aHJvdWdoID09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0aWF0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRlbHRhWCA9IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRlbHRhWCA9IHRoaXMuaGFzSG9yaXpvbnRhbFNjcm9sbCA/IGRlbHRhWCA6IDA7XG4gICAgICAgICAgICBkZWx0YVkgPSB0aGlzLmhhc1ZlcnRpY2FsU2Nyb2xsID8gZGVsdGFZIDogMDtcblxuICAgICAgICAgICAgbmV3WCA9IHRoaXMueCArIGRlbHRhWDtcbiAgICAgICAgICAgIG5ld1kgPSB0aGlzLnkgKyBkZWx0YVk7XG5cbiAgICAgICAgICAgIC8vIFNsb3cgZG93biBpZiBvdXRzaWRlIG9mIHRoZSBib3VuZGFyaWVzXG4gICAgICAgICAgICBpZiAobmV3WCA+IDAgfHwgbmV3WCA8IHRoaXMubWF4U2Nyb2xsWCkge1xuICAgICAgICAgICAgICAgIG5ld1ggPSB0aGlzLm9wdGlvbnMuYm91bmNlID8gdGhpcy54ICsgZGVsdGFYIC8gMyA6IG5ld1ggPiAwID8gMCA6IHRoaXMubWF4U2Nyb2xsWDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZXdZID4gMCB8fCBuZXdZIDwgdGhpcy5tYXhTY3JvbGxZKSB7XG4gICAgICAgICAgICAgICAgbmV3WSA9IHRoaXMub3B0aW9ucy5ib3VuY2UgPyB0aGlzLnkgKyBkZWx0YVkgLyAzIDogbmV3WSA+IDAgPyAwIDogdGhpcy5tYXhTY3JvbGxZO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmRpcmVjdGlvblggPSBkZWx0YVggPiAwID8gLTEgOiBkZWx0YVggPCAwID8gMSA6IDA7XG4gICAgICAgICAgICB0aGlzLmRpcmVjdGlvblkgPSBkZWx0YVkgPiAwID8gLTEgOiBkZWx0YVkgPCAwID8gMSA6IDA7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5tb3ZlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2V4ZWNFdmVudCgnc2Nyb2xsU3RhcnQnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5tb3ZlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIHRoaXMuX3RyYW5zbGF0ZShuZXdYLCBuZXdZKTtcblxuICAgICAgICAgICAgLyogUkVQTEFDRSBTVEFSVDogX21vdmUgKi9cbiAgICAgICAgICAgIGlmICh0aW1lc3RhbXAgLSB0aGlzLnN0YXJ0VGltZSA+IDMwMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRUaW1lID0gdGltZXN0YW1wO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRYID0gdGhpcy54O1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRZID0gdGhpcy55O1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wcm9iZVR5cGUgPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9leGVjRXZlbnQoJ3Njcm9sbCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wcm9iZVR5cGUgPiAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXhlY0V2ZW50KCdzY3JvbGwnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIFJFUExBQ0UgRU5EOiBfbW92ZSAqL1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2VuZDogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWQgfHwgdXRpbHMuZXZlbnRUeXBlW2UudHlwZV0gIT09IHRoaXMuaW5pdGlhdGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnByZXZlbnREZWZhdWx0ICYmICF1dGlscy5wcmV2ZW50RGVmYXVsdEV4Y2VwdGlvbihlLnRhcmdldCwgdGhpcy5vcHRpb25zLnByZXZlbnREZWZhdWx0RXhjZXB0aW9uKSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHBvaW50ID0gZS5jaGFuZ2VkVG91Y2hlcyA/IGUuY2hhbmdlZFRvdWNoZXNbMF0gOiBlLFxuICAgICAgICAgICAgICAgIG1vbWVudHVtWCxcbiAgICAgICAgICAgICAgICBtb21lbnR1bVksXG4gICAgICAgICAgICAgICAgZHVyYXRpb24gPSB1dGlscy5nZXRUaW1lKCkgLSB0aGlzLnN0YXJ0VGltZSxcbiAgICAgICAgICAgICAgICBuZXdYID0gTWF0aC5yb3VuZCh0aGlzLngpLFxuICAgICAgICAgICAgICAgIG5ld1kgPSBNYXRoLnJvdW5kKHRoaXMueSksXG4gICAgICAgICAgICAgICAgZGlzdGFuY2VYID0gTWF0aC5hYnMobmV3WCAtIHRoaXMuc3RhcnRYKSxcbiAgICAgICAgICAgICAgICBkaXN0YW5jZVkgPSBNYXRoLmFicyhuZXdZIC0gdGhpcy5zdGFydFkpLFxuICAgICAgICAgICAgICAgIHRpbWUgPSAwLFxuICAgICAgICAgICAgICAgIGVhc2luZyA9ICcnO1xuXG4gICAgICAgICAgICB0aGlzLmlzSW5UcmFuc2l0aW9uID0gMDtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhdGVkID0gMDtcbiAgICAgICAgICAgIHRoaXMuZW5kVGltZSA9IHV0aWxzLmdldFRpbWUoKTtcblxuICAgICAgICAgICAgLy8gcmVzZXQgaWYgd2UgYXJlIG91dHNpZGUgb2YgdGhlIGJvdW5kYXJpZXNcbiAgICAgICAgICAgIGlmICh0aGlzLnJlc2V0UG9zaXRpb24odGhpcy5vcHRpb25zLmJvdW5jZVRpbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNjcm9sbFRvKG5ld1gsIG5ld1kpOyAvLyBlbnN1cmVzIHRoYXQgdGhlIGxhc3QgcG9zaXRpb24gaXMgcm91bmRlZFxuXG4gICAgICAgICAgICAvLyB3ZSBzY3JvbGxlZCBsZXNzIHRoYW4gMTAgcGl4ZWxzXG4gICAgICAgICAgICBpZiAoIXRoaXMubW92ZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRhcCkge1xuICAgICAgICAgICAgICAgICAgICB1dGlscy50YXAoZSwgdGhpcy5vcHRpb25zLnRhcCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jbGljaykge1xuICAgICAgICAgICAgICAgICAgICB1dGlscy5jbGljayhlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9leGVjRXZlbnQoJ3Njcm9sbENhbmNlbCcpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuX2V2ZW50cy5mbGljayAmJiBkdXJhdGlvbiA8IDIwMCAmJiBkaXN0YW5jZVggPCAxMDAgJiYgZGlzdGFuY2VZIDwgMTAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXhlY0V2ZW50KCdmbGljaycpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc3RhcnQgbW9tZW50dW0gYW5pbWF0aW9uIGlmIG5lZWRlZFxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5tb21lbnR1bSAmJiBkdXJhdGlvbiA8IDMwMCkge1xuICAgICAgICAgICAgICAgIG1vbWVudHVtWCA9IHRoaXMuaGFzSG9yaXpvbnRhbFNjcm9sbCA/IHV0aWxzLm1vbWVudHVtKHRoaXMueCwgdGhpcy5zdGFydFgsIGR1cmF0aW9uLCB0aGlzLm1heFNjcm9sbFgsIHRoaXMub3B0aW9ucy5ib3VuY2UgPyB0aGlzLndyYXBwZXJXaWR0aCA6IDAsIHRoaXMub3B0aW9ucy5kZWNlbGVyYXRpb24pIDoge1xuICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbjogbmV3WCxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDBcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIG1vbWVudHVtWSA9IHRoaXMuaGFzVmVydGljYWxTY3JvbGwgPyB1dGlscy5tb21lbnR1bSh0aGlzLnksIHRoaXMuc3RhcnRZLCBkdXJhdGlvbiwgdGhpcy5tYXhTY3JvbGxZLCB0aGlzLm9wdGlvbnMuYm91bmNlID8gdGhpcy53cmFwcGVySGVpZ2h0IDogMCwgdGhpcy5vcHRpb25zLmRlY2VsZXJhdGlvbikgOiB7XG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uOiBuZXdZLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbmV3WCA9IG1vbWVudHVtWC5kZXN0aW5hdGlvbjtcbiAgICAgICAgICAgICAgICBuZXdZID0gbW9tZW50dW1ZLmRlc3RpbmF0aW9uO1xuICAgICAgICAgICAgICAgIHRpbWUgPSBNYXRoLm1heChtb21lbnR1bVguZHVyYXRpb24sIG1vbWVudHVtWS5kdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0luVHJhbnNpdGlvbiA9IDE7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zbmFwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNuYXAgPSB0aGlzLl9uZWFyZXN0U25hcChuZXdYLCBuZXdZKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gc25hcDtcbiAgICAgICAgICAgICAgICB0aW1lID0gdGhpcy5vcHRpb25zLnNuYXBTcGVlZCB8fCBNYXRoLm1heChcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgoXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1pbihNYXRoLmFicyhuZXdYIC0gc25hcC54KSwgMTAwMCksXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1pbihNYXRoLmFicyhuZXdZIC0gc25hcC55KSwgMTAwMClcbiAgICAgICAgICAgICAgICAgICAgKSwgMzAwKTtcbiAgICAgICAgICAgICAgICBuZXdYID0gc25hcC54O1xuICAgICAgICAgICAgICAgIG5ld1kgPSBzbmFwLnk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRpcmVjdGlvblggPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlyZWN0aW9uWSA9IDA7XG4gICAgICAgICAgICAgICAgZWFzaW5nID0gdGhpcy5vcHRpb25zLmJvdW5jZUVhc2luZztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSU5TRVJUIFBPSU5UOiBfZW5kXG5cbiAgICAgICAgICAgIGlmIChuZXdYICE9IHRoaXMueCB8fCBuZXdZICE9IHRoaXMueSkge1xuICAgICAgICAgICAgICAgIC8vIGNoYW5nZSBlYXNpbmcgZnVuY3Rpb24gd2hlbiBzY3JvbGxlciBnb2VzIG91dCBvZiB0aGUgYm91bmRhcmllc1xuICAgICAgICAgICAgICAgIGlmIChuZXdYID4gMCB8fCBuZXdYIDwgdGhpcy5tYXhTY3JvbGxYIHx8IG5ld1kgPiAwIHx8IG5ld1kgPCB0aGlzLm1heFNjcm9sbFkpIHtcbiAgICAgICAgICAgICAgICAgICAgZWFzaW5nID0gdXRpbHMuZWFzZS5xdWFkcmF0aWM7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxUbyhuZXdYLCBuZXdZLCB0aW1lLCBlYXNpbmcpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZXhlY0V2ZW50KCdzY3JvbGxFbmQnKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfcmVzaXplOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcblxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucmVzaXplVGltZW91dCk7XG5cbiAgICAgICAgICAgIHRoaXMucmVzaXplVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5yZWZyZXNoKCk7XG4gICAgICAgICAgICB9LCB0aGlzLm9wdGlvbnMucmVzaXplUG9sbGluZyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVzZXRQb3NpdGlvbjogZnVuY3Rpb24odGltZSkge1xuICAgICAgICAgICAgdmFyIHggPSB0aGlzLngsXG4gICAgICAgICAgICAgICAgeSA9IHRoaXMueTtcblxuICAgICAgICAgICAgdGltZSA9IHRpbWUgfHwgMDtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLmhhc0hvcml6b250YWxTY3JvbGwgfHwgdGhpcy54ID4gMCkge1xuICAgICAgICAgICAgICAgIHggPSAwO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnggPCB0aGlzLm1heFNjcm9sbFgpIHtcbiAgICAgICAgICAgICAgICB4ID0gdGhpcy5tYXhTY3JvbGxYO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXRoaXMuaGFzVmVydGljYWxTY3JvbGwgfHwgdGhpcy55ID4gMCkge1xuICAgICAgICAgICAgICAgIHkgPSAwO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnkgPCB0aGlzLm1heFNjcm9sbFkpIHtcbiAgICAgICAgICAgICAgICB5ID0gdGhpcy5tYXhTY3JvbGxZO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoeCA9PSB0aGlzLnggJiYgeSA9PSB0aGlzLnkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsVG8oeCwgeSwgdGltZSwgdGhpcy5vcHRpb25zLmJvdW5jZUVhc2luZyk7XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LFxuXG4gICAgICAgIGRpc2FibGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZW5hYmxlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVmcmVzaDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgcmYgPSB0aGlzLndyYXBwZXIub2Zmc2V0SGVpZ2h0OyAvLyBGb3JjZSByZWZsb3dcblxuICAgICAgICAgICAgdGhpcy53cmFwcGVyV2lkdGggPSB0aGlzLndyYXBwZXIuY2xpZW50V2lkdGg7XG4gICAgICAgICAgICB0aGlzLndyYXBwZXJIZWlnaHQgPSB0aGlzLndyYXBwZXIuY2xpZW50SGVpZ2h0O1xuXG4gICAgICAgICAgICAvKiBSRVBMQUNFIFNUQVJUOiByZWZyZXNoICovXG5cbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsZXJXaWR0aCA9IHRoaXMuc2Nyb2xsZXIub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbGVySGVpZ2h0ID0gdGhpcy5zY3JvbGxlci5vZmZzZXRIZWlnaHQ7XG5cbiAgICAgICAgICAgIHRoaXMubWF4U2Nyb2xsWCA9IHRoaXMud3JhcHBlcldpZHRoIC0gdGhpcy5zY3JvbGxlcldpZHRoO1xuICAgICAgICAgICAgdGhpcy5tYXhTY3JvbGxZID0gdGhpcy53cmFwcGVySGVpZ2h0IC0gdGhpcy5zY3JvbGxlckhlaWdodDtcblxuICAgICAgICAgICAgLyogUkVQTEFDRSBFTkQ6IHJlZnJlc2ggKi9cblxuICAgICAgICAgICAgdGhpcy5oYXNIb3Jpem9udGFsU2Nyb2xsID0gdGhpcy5vcHRpb25zLnNjcm9sbFggJiYgdGhpcy5tYXhTY3JvbGxYIDwgMDtcbiAgICAgICAgICAgIHRoaXMuaGFzVmVydGljYWxTY3JvbGwgPSB0aGlzLm9wdGlvbnMuc2Nyb2xsWSAmJiB0aGlzLm1heFNjcm9sbFkgPCAwO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuaGFzSG9yaXpvbnRhbFNjcm9sbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubWF4U2Nyb2xsWCA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxlcldpZHRoID0gdGhpcy53cmFwcGVyV2lkdGg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5oYXNWZXJ0aWNhbFNjcm9sbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubWF4U2Nyb2xsWSA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxlckhlaWdodCA9IHRoaXMud3JhcHBlckhlaWdodDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5lbmRUaW1lID0gMDtcbiAgICAgICAgICAgIHRoaXMuZGlyZWN0aW9uWCA9IDA7XG4gICAgICAgICAgICB0aGlzLmRpcmVjdGlvblkgPSAwO1xuXG4gICAgICAgICAgICB0aGlzLndyYXBwZXJPZmZzZXQgPSB1dGlscy5vZmZzZXQodGhpcy53cmFwcGVyKTtcblxuICAgICAgICAgICAgdGhpcy5fZXhlY0V2ZW50KCdyZWZyZXNoJyk7XG5cbiAgICAgICAgICAgIHRoaXMucmVzZXRQb3NpdGlvbigpO1xuXG4gICAgICAgICAgICAvLyBJTlNFUlQgUE9JTlQ6IF9yZWZyZXNoXG5cbiAgICAgICAgfSxcblxuICAgICAgICBvbjogZnVuY3Rpb24odHlwZSwgZm4pIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZXZlbnRzW3R5cGVdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gW107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5wdXNoKGZuKTtcbiAgICAgICAgfSxcblxuICAgICAgICBvZmY6IGZ1bmN0aW9uKHR5cGUsIGZuKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2V2ZW50c1t0eXBlXSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5fZXZlbnRzW3R5cGVdLmluZGV4T2YoZm4pO1xuXG4gICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9leGVjRXZlbnQ6IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZXZlbnRzW3R5cGVdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgaSA9IDAsXG4gICAgICAgICAgICAgICAgbCA9IHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGg7XG5cbiAgICAgICAgICAgIGlmICghbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ldmVudHNbdHlwZV1baV0uYXBwbHkodGhpcywgW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBzY3JvbGxCeTogZnVuY3Rpb24oeCwgeSwgdGltZSwgZWFzaW5nKSB7XG4gICAgICAgICAgICB4ID0gdGhpcy54ICsgeDtcbiAgICAgICAgICAgIHkgPSB0aGlzLnkgKyB5O1xuICAgICAgICAgICAgdGltZSA9IHRpbWUgfHwgMDtcblxuICAgICAgICAgICAgdGhpcy5zY3JvbGxUbyh4LCB5LCB0aW1lLCBlYXNpbmcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNjcm9sbFRvOiBmdW5jdGlvbih4LCB5LCB0aW1lLCBlYXNpbmcpIHtcbiAgICAgICAgICAgIGVhc2luZyA9IGVhc2luZyB8fCB1dGlscy5lYXNlLmNpcmN1bGFyO1xuXG4gICAgICAgICAgICB0aGlzLmlzSW5UcmFuc2l0aW9uID0gdGhpcy5vcHRpb25zLnVzZVRyYW5zaXRpb24gJiYgdGltZSA+IDA7XG5cbiAgICAgICAgICAgIGlmICghdGltZSB8fCAodGhpcy5vcHRpb25zLnVzZVRyYW5zaXRpb24gJiYgZWFzaW5nLnN0eWxlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zaXRpb25UaW1pbmdGdW5jdGlvbihlYXNpbmcuc3R5bGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zaXRpb25UaW1lKHRpbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zbGF0ZSh4LCB5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYW5pbWF0ZSh4LCB5LCB0aW1lLCBlYXNpbmcuZm4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHNjcm9sbFRvRWxlbWVudDogZnVuY3Rpb24oZWwsIHRpbWUsIG9mZnNldFgsIG9mZnNldFksIGVhc2luZykge1xuICAgICAgICAgICAgZWwgPSBlbC5ub2RlVHlwZSA/IGVsIDogdGhpcy5zY3JvbGxlci5xdWVyeVNlbGVjdG9yKGVsKTtcblxuICAgICAgICAgICAgaWYgKCFlbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHBvcyA9IHV0aWxzLm9mZnNldChlbCk7XG5cbiAgICAgICAgICAgIHBvcy5sZWZ0IC09IHRoaXMud3JhcHBlck9mZnNldC5sZWZ0O1xuICAgICAgICAgICAgcG9zLnRvcCAtPSB0aGlzLndyYXBwZXJPZmZzZXQudG9wO1xuXG4gICAgICAgICAgICAvLyBpZiBvZmZzZXRYL1kgYXJlIHRydWUgd2UgY2VudGVyIHRoZSBlbGVtZW50IHRvIHRoZSBzY3JlZW5cbiAgICAgICAgICAgIGlmIChvZmZzZXRYID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0WCA9IE1hdGgucm91bmQoZWwub2Zmc2V0V2lkdGggLyAyIC0gdGhpcy53cmFwcGVyLm9mZnNldFdpZHRoIC8gMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob2Zmc2V0WSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIG9mZnNldFkgPSBNYXRoLnJvdW5kKGVsLm9mZnNldEhlaWdodCAvIDIgLSB0aGlzLndyYXBwZXIub2Zmc2V0SGVpZ2h0IC8gMik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBvcy5sZWZ0IC09IG9mZnNldFggfHwgMDtcbiAgICAgICAgICAgIHBvcy50b3AgLT0gb2Zmc2V0WSB8fCAwO1xuXG4gICAgICAgICAgICBwb3MubGVmdCA9IHBvcy5sZWZ0ID4gMCA/IDAgOiBwb3MubGVmdCA8IHRoaXMubWF4U2Nyb2xsWCA/IHRoaXMubWF4U2Nyb2xsWCA6IHBvcy5sZWZ0O1xuICAgICAgICAgICAgcG9zLnRvcCA9IHBvcy50b3AgPiAwID8gMCA6IHBvcy50b3AgPCB0aGlzLm1heFNjcm9sbFkgPyB0aGlzLm1heFNjcm9sbFkgOiBwb3MudG9wO1xuXG4gICAgICAgICAgICB0aW1lID0gdGltZSA9PT0gdW5kZWZpbmVkIHx8IHRpbWUgPT09IG51bGwgfHwgdGltZSA9PT0gJ2F1dG8nID8gTWF0aC5tYXgoTWF0aC5hYnModGhpcy54IC0gcG9zLmxlZnQpLCBNYXRoLmFicyh0aGlzLnkgLSBwb3MudG9wKSkgOiB0aW1lO1xuXG4gICAgICAgICAgICB0aGlzLnNjcm9sbFRvKHBvcy5sZWZ0LCBwb3MudG9wLCB0aW1lLCBlYXNpbmcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF90cmFuc2l0aW9uVGltZTogZnVuY3Rpb24odGltZSkge1xuICAgICAgICAgICAgdGltZSA9IHRpbWUgfHwgMDtcblxuICAgICAgICAgICAgdGhpcy5zY3JvbGxlclN0eWxlW3V0aWxzLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbl0gPSB0aW1lICsgJ21zJztcblxuICAgICAgICAgICAgaWYgKCF0aW1lICYmIHV0aWxzLmlzQmFkQW5kcm9pZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsZXJTdHlsZVt1dGlscy5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb25dID0gJzAuMDAxcyc7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgaWYgKHRoaXMuaW5kaWNhdG9ycykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSB0aGlzLmluZGljYXRvcnMubGVuZ3RoOyBpLS07KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNhdG9yc1tpXS50cmFuc2l0aW9uVGltZSh0aW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgLy8gSU5TRVJUIFBPSU5UOiBfdHJhbnNpdGlvblRpbWVcblxuICAgICAgICB9LFxuXG4gICAgICAgIF90cmFuc2l0aW9uVGltaW5nRnVuY3Rpb246IGZ1bmN0aW9uKGVhc2luZykge1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxlclN0eWxlW3V0aWxzLnN0eWxlLnRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbl0gPSBlYXNpbmc7XG5cblxuICAgICAgICAgICAgaWYgKHRoaXMuaW5kaWNhdG9ycykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSB0aGlzLmluZGljYXRvcnMubGVuZ3RoOyBpLS07KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNhdG9yc1tpXS50cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24oZWFzaW5nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgLy8gSU5TRVJUIFBPSU5UOiBfdHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uXG5cbiAgICAgICAgfSxcblxuICAgICAgICBfdHJhbnNsYXRlOiBmdW5jdGlvbih4LCB5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnVzZVRyYW5zZm9ybSkge1xuXG4gICAgICAgICAgICAgICAgLyogUkVQTEFDRSBTVEFSVDogX3RyYW5zbGF0ZSAqL1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxlclN0eWxlW3V0aWxzLnN0eWxlLnRyYW5zZm9ybV0gPSAndHJhbnNsYXRlKCcgKyB4ICsgJ3B4LCcgKyB5ICsgJ3B4KScgKyB0aGlzLnRyYW5zbGF0ZVo7XG5cbiAgICAgICAgICAgICAgICAvKiBSRVBMQUNFIEVORDogX3RyYW5zbGF0ZSAqL1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHggPSBNYXRoLnJvdW5kKHgpO1xuICAgICAgICAgICAgICAgIHkgPSBNYXRoLnJvdW5kKHkpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsZXJTdHlsZS5sZWZ0ID0geCArICdweCc7XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxlclN0eWxlLnRvcCA9IHkgKyAncHgnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICAgICAgdGhpcy55ID0geTtcblxuXG4gICAgICAgICAgICBpZiAodGhpcy5pbmRpY2F0b3JzKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMuaW5kaWNhdG9ycy5sZW5ndGg7IGktLTspIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JzW2ldLnVwZGF0ZVBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIC8vIElOU0VSVCBQT0lOVDogX3RyYW5zbGF0ZVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luaXRFdmVudHM6IGZ1bmN0aW9uKHJlbW92ZSkge1xuICAgICAgICAgICAgdmFyIGV2ZW50VHlwZSA9IHJlbW92ZSA/IHV0aWxzLnJlbW92ZUV2ZW50IDogdXRpbHMuYWRkRXZlbnQsXG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gdGhpcy5vcHRpb25zLmJpbmRUb1dyYXBwZXIgPyB0aGlzLndyYXBwZXIgOiB3aW5kb3c7XG5cbiAgICAgICAgICAgIGV2ZW50VHlwZSh3aW5kb3csICdvcmllbnRhdGlvbmNoYW5nZScsIHRoaXMpO1xuICAgICAgICAgICAgZXZlbnRUeXBlKHdpbmRvdywgJ3Jlc2l6ZScsIHRoaXMpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNsaWNrKSB7XG4gICAgICAgICAgICAgICAgZXZlbnRUeXBlKHRoaXMud3JhcHBlciwgJ2NsaWNrJywgdGhpcywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLmRpc2FibGVNb3VzZSkge1xuICAgICAgICAgICAgICAgIGV2ZW50VHlwZSh0aGlzLndyYXBwZXIsICdtb3VzZWRvd24nLCB0aGlzKTtcbiAgICAgICAgICAgICAgICBldmVudFR5cGUodGFyZ2V0LCAnbW91c2Vtb3ZlJywgdGhpcyk7XG4gICAgICAgICAgICAgICAgZXZlbnRUeXBlKHRhcmdldCwgJ21vdXNlY2FuY2VsJywgdGhpcyk7XG4gICAgICAgICAgICAgICAgZXZlbnRUeXBlKHRhcmdldCwgJ21vdXNldXAnLCB0aGlzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHV0aWxzLmhhc1BvaW50ZXIgJiYgIXRoaXMub3B0aW9ucy5kaXNhYmxlUG9pbnRlcikge1xuICAgICAgICAgICAgICAgIGV2ZW50VHlwZSh0aGlzLndyYXBwZXIsIHV0aWxzLnByZWZpeFBvaW50ZXJFdmVudCgncG9pbnRlcmRvd24nKSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgZXZlbnRUeXBlKHRhcmdldCwgdXRpbHMucHJlZml4UG9pbnRlckV2ZW50KCdwb2ludGVybW92ZScpLCB0aGlzKTtcbiAgICAgICAgICAgICAgICBldmVudFR5cGUodGFyZ2V0LCB1dGlscy5wcmVmaXhQb2ludGVyRXZlbnQoJ3BvaW50ZXJjYW5jZWwnKSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgZXZlbnRUeXBlKHRhcmdldCwgdXRpbHMucHJlZml4UG9pbnRlckV2ZW50KCdwb2ludGVydXAnKSwgdGhpcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh1dGlscy5oYXNUb3VjaCAmJiAhdGhpcy5vcHRpb25zLmRpc2FibGVUb3VjaCkge1xuICAgICAgICAgICAgICAgIGV2ZW50VHlwZSh0aGlzLndyYXBwZXIsICd0b3VjaHN0YXJ0JywgdGhpcyk7XG4gICAgICAgICAgICAgICAgZXZlbnRUeXBlKHRhcmdldCwgJ3RvdWNobW92ZScsIHRoaXMpO1xuICAgICAgICAgICAgICAgIGV2ZW50VHlwZSh0YXJnZXQsICd0b3VjaGNhbmNlbCcsIHRoaXMpO1xuICAgICAgICAgICAgICAgIGV2ZW50VHlwZSh0YXJnZXQsICd0b3VjaGVuZCcsIHRoaXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBldmVudFR5cGUodGhpcy5zY3JvbGxlciwgJ3RyYW5zaXRpb25lbmQnLCB0aGlzKTtcbiAgICAgICAgICAgIGV2ZW50VHlwZSh0aGlzLnNjcm9sbGVyLCAnd2Via2l0VHJhbnNpdGlvbkVuZCcsIHRoaXMpO1xuICAgICAgICAgICAgZXZlbnRUeXBlKHRoaXMuc2Nyb2xsZXIsICdvVHJhbnNpdGlvbkVuZCcsIHRoaXMpO1xuICAgICAgICAgICAgZXZlbnRUeXBlKHRoaXMuc2Nyb2xsZXIsICdNU1RyYW5zaXRpb25FbmQnLCB0aGlzKTtcbiAgICAgICAgfSxcblxuICAgICAgICBnZXRDb21wdXRlZFBvc2l0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBtYXRyaXggPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLnNjcm9sbGVyLCBudWxsKSxcbiAgICAgICAgICAgICAgICB4LCB5O1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnVzZVRyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgIG1hdHJpeCA9IG1hdHJpeFt1dGlscy5zdHlsZS50cmFuc2Zvcm1dLnNwbGl0KCcpJylbMF0uc3BsaXQoJywgJyk7XG4gICAgICAgICAgICAgICAgeCA9ICsobWF0cml4WzEyXSB8fCBtYXRyaXhbNF0pO1xuICAgICAgICAgICAgICAgIHkgPSArKG1hdHJpeFsxM10gfHwgbWF0cml4WzVdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgeCA9ICttYXRyaXgubGVmdC5yZXBsYWNlKC9bXi1cXGQuXS9nLCAnJyk7XG4gICAgICAgICAgICAgICAgeSA9ICttYXRyaXgudG9wLnJlcGxhY2UoL1teLVxcZC5dL2csICcnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgICAgIHk6IHlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luaXRJbmRpY2F0b3JzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGl2ZSA9IHRoaXMub3B0aW9ucy5pbnRlcmFjdGl2ZVNjcm9sbGJhcnMsXG4gICAgICAgICAgICAgICAgY3VzdG9tU3R5bGUgPSB0eXBlb2YgdGhpcy5vcHRpb25zLnNjcm9sbGJhcnMgIT0gJ3N0cmluZycsXG4gICAgICAgICAgICAgICAgaW5kaWNhdG9ycyA9IFtdLFxuICAgICAgICAgICAgICAgIGluZGljYXRvcjtcblxuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLmluZGljYXRvcnMgPSBbXTtcblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zY3JvbGxiYXJzKSB7XG4gICAgICAgICAgICAgICAgLy8gVmVydGljYWwgc2Nyb2xsYmFyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zY3JvbGxZKSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGljYXRvciA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsOiBjcmVhdGVEZWZhdWx0U2Nyb2xsYmFyKCd2JywgaW50ZXJhY3RpdmUsIHRoaXMub3B0aW9ucy5zY3JvbGxiYXJzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVyYWN0aXZlOiBpbnRlcmFjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTY3JvbGxiYXJzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tU3R5bGU6IGN1c3RvbVN0eWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzaXplOiB0aGlzLm9wdGlvbnMucmVzaXplU2Nyb2xsYmFycyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNocmluazogdGhpcy5vcHRpb25zLnNocmlua1Njcm9sbGJhcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWRlOiB0aGlzLm9wdGlvbnMuZmFkZVNjcm9sbGJhcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5YOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3JhcHBlci5hcHBlbmRDaGlsZChpbmRpY2F0b3IuZWwpO1xuICAgICAgICAgICAgICAgICAgICBpbmRpY2F0b3JzLnB1c2goaW5kaWNhdG9yKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBIb3Jpem9udGFsIHNjcm9sbGJhclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2Nyb2xsWCkge1xuICAgICAgICAgICAgICAgICAgICBpbmRpY2F0b3IgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbDogY3JlYXRlRGVmYXVsdFNjcm9sbGJhcignaCcsIGludGVyYWN0aXZlLCB0aGlzLm9wdGlvbnMuc2Nyb2xsYmFycyksXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGl2ZTogaW50ZXJhY3RpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U2Nyb2xsYmFyczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbVN0eWxlOiBjdXN0b21TdHlsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogdGhpcy5vcHRpb25zLnJlc2l6ZVNjcm9sbGJhcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaHJpbms6IHRoaXMub3B0aW9ucy5zaHJpbmtTY3JvbGxiYXJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmFkZTogdGhpcy5vcHRpb25zLmZhZGVTY3JvbGxiYXJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuWTogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLndyYXBwZXIuYXBwZW5kQ2hpbGQoaW5kaWNhdG9yLmVsKTtcbiAgICAgICAgICAgICAgICAgICAgaW5kaWNhdG9ycy5wdXNoKGluZGljYXRvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmluZGljYXRvcnMpIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBjaGVjayBjb25jYXQgY29tcGF0aWJpbGl0eVxuICAgICAgICAgICAgICAgIGluZGljYXRvcnMgPSBpbmRpY2F0b3JzLmNvbmNhdCh0aGlzLm9wdGlvbnMuaW5kaWNhdG9ycyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBpbmRpY2F0b3JzLmxlbmd0aDsgaS0tOykge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNhdG9ycy5wdXNoKG5ldyBJbmRpY2F0b3IodGhpcywgaW5kaWNhdG9yc1tpXSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBUT0RPOiBjaGVjayBpZiB3ZSBjYW4gdXNlIGFycmF5Lm1hcCAod2lkZSBjb21wYXRpYmlsaXR5IGFuZCBwZXJmb3JtYW5jZSBpc3N1ZXMpXG4gICAgICAgICAgICBmdW5jdGlvbiBfaW5kaWNhdG9yc01hcChmbikge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSB0aGF0LmluZGljYXRvcnMubGVuZ3RoOyBpLS07KSB7XG4gICAgICAgICAgICAgICAgICAgIGZuLmNhbGwodGhhdC5pbmRpY2F0b3JzW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZmFkZVNjcm9sbGJhcnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uKCdzY3JvbGxFbmQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgX2luZGljYXRvcnNNYXAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZhZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm9uKCdzY3JvbGxDYW5jZWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgX2luZGljYXRvcnNNYXAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZhZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm9uKCdzY3JvbGxTdGFydCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBfaW5kaWNhdG9yc01hcChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmFkZSgxKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm9uKCdiZWZvcmVTY3JvbGxTdGFydCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBfaW5kaWNhdG9yc01hcChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmFkZSgxLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgdGhpcy5vbigncmVmcmVzaCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9pbmRpY2F0b3JzTWFwKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLm9uKCdkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX2luZGljYXRvcnNNYXAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuaW5kaWNhdG9ycztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0V2hlZWw6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdXRpbHMuYWRkRXZlbnQodGhpcy53cmFwcGVyLCAnd2hlZWwnLCB0aGlzKTtcbiAgICAgICAgICAgIHV0aWxzLmFkZEV2ZW50KHRoaXMud3JhcHBlciwgJ21vdXNld2hlZWwnLCB0aGlzKTtcbiAgICAgICAgICAgIHV0aWxzLmFkZEV2ZW50KHRoaXMud3JhcHBlciwgJ0RPTU1vdXNlU2Nyb2xsJywgdGhpcyk7XG5cbiAgICAgICAgICAgIHRoaXMub24oJ2Rlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB1dGlscy5yZW1vdmVFdmVudCh0aGlzLndyYXBwZXIsICd3aGVlbCcsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHV0aWxzLnJlbW92ZUV2ZW50KHRoaXMud3JhcHBlciwgJ21vdXNld2hlZWwnLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB1dGlscy5yZW1vdmVFdmVudCh0aGlzLndyYXBwZXIsICdET01Nb3VzZVNjcm9sbCcsIHRoaXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX3doZWVsOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgdmFyIHdoZWVsRGVsdGFYLCB3aGVlbERlbHRhWSxcbiAgICAgICAgICAgICAgICBuZXdYLCBuZXdZLFxuICAgICAgICAgICAgICAgIHRoYXQgPSB0aGlzO1xuXG4gICAgICAgICAgICBpZiAodGhpcy53aGVlbFRpbWVvdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoYXQuX2V4ZWNFdmVudCgnc2Nyb2xsU3RhcnQnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRXhlY3V0ZSB0aGUgc2Nyb2xsRW5kIGV2ZW50IGFmdGVyIDQwMG1zIHRoZSB3aGVlbCBzdG9wcGVkIHNjcm9sbGluZ1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMud2hlZWxUaW1lb3V0KTtcbiAgICAgICAgICAgIHRoaXMud2hlZWxUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGF0Ll9leGVjRXZlbnQoJ3Njcm9sbEVuZCcpO1xuICAgICAgICAgICAgICAgIHRoYXQud2hlZWxUaW1lb3V0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSwgNDAwKTtcblxuICAgICAgICAgICAgaWYgKCdkZWx0YVgnIGluIGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZS5kZWx0YU1vZGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgd2hlZWxEZWx0YVggPSAtZS5kZWx0YVggKiB0aGlzLm9wdGlvbnMubW91c2VXaGVlbFNwZWVkO1xuICAgICAgICAgICAgICAgICAgICB3aGVlbERlbHRhWSA9IC1lLmRlbHRhWSAqIHRoaXMub3B0aW9ucy5tb3VzZVdoZWVsU3BlZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgd2hlZWxEZWx0YVggPSAtZS5kZWx0YVg7XG4gICAgICAgICAgICAgICAgICAgIHdoZWVsRGVsdGFZID0gLWUuZGVsdGFZO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJ3doZWVsRGVsdGFYJyBpbiBlKSB7XG4gICAgICAgICAgICAgICAgd2hlZWxEZWx0YVggPSBlLndoZWVsRGVsdGFYIC8gMTIwICogdGhpcy5vcHRpb25zLm1vdXNlV2hlZWxTcGVlZDtcbiAgICAgICAgICAgICAgICB3aGVlbERlbHRhWSA9IGUud2hlZWxEZWx0YVkgLyAxMjAgKiB0aGlzLm9wdGlvbnMubW91c2VXaGVlbFNwZWVkO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgnd2hlZWxEZWx0YScgaW4gZSkge1xuICAgICAgICAgICAgICAgIHdoZWVsRGVsdGFYID0gd2hlZWxEZWx0YVkgPSBlLndoZWVsRGVsdGEgLyAxMjAgKiB0aGlzLm9wdGlvbnMubW91c2VXaGVlbFNwZWVkO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgnZGV0YWlsJyBpbiBlKSB7XG4gICAgICAgICAgICAgICAgd2hlZWxEZWx0YVggPSB3aGVlbERlbHRhWSA9IC1lLmRldGFpbCAvIDMgKiB0aGlzLm9wdGlvbnMubW91c2VXaGVlbFNwZWVkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHdoZWVsRGVsdGFYICo9IHRoaXMub3B0aW9ucy5pbnZlcnRXaGVlbERpcmVjdGlvbjtcbiAgICAgICAgICAgIHdoZWVsRGVsdGFZICo9IHRoaXMub3B0aW9ucy5pbnZlcnRXaGVlbERpcmVjdGlvbjtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLmhhc1ZlcnRpY2FsU2Nyb2xsKSB7XG4gICAgICAgICAgICAgICAgd2hlZWxEZWx0YVggPSB3aGVlbERlbHRhWTtcbiAgICAgICAgICAgICAgICB3aGVlbERlbHRhWSA9IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcCkge1xuICAgICAgICAgICAgICAgIG5ld1ggPSB0aGlzLmN1cnJlbnRQYWdlLnBhZ2VYO1xuICAgICAgICAgICAgICAgIG5ld1kgPSB0aGlzLmN1cnJlbnRQYWdlLnBhZ2VZO1xuXG4gICAgICAgICAgICAgICAgaWYgKHdoZWVsRGVsdGFYID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBuZXdYLS07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh3aGVlbERlbHRhWCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3WCsrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh3aGVlbERlbHRhWSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3WS0tO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAod2hlZWxEZWx0YVkgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1krKztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmdvVG9QYWdlKG5ld1gsIG5ld1kpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBuZXdYID0gdGhpcy54ICsgTWF0aC5yb3VuZCh0aGlzLmhhc0hvcml6b250YWxTY3JvbGwgPyB3aGVlbERlbHRhWCA6IDApO1xuICAgICAgICAgICAgbmV3WSA9IHRoaXMueSArIE1hdGgucm91bmQodGhpcy5oYXNWZXJ0aWNhbFNjcm9sbCA/IHdoZWVsRGVsdGFZIDogMCk7XG5cbiAgICAgICAgICAgIGlmIChuZXdYID4gMCkge1xuICAgICAgICAgICAgICAgIG5ld1ggPSAwO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChuZXdYIDwgdGhpcy5tYXhTY3JvbGxYKSB7XG4gICAgICAgICAgICAgICAgbmV3WCA9IHRoaXMubWF4U2Nyb2xsWDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5ld1kgPiAwKSB7XG4gICAgICAgICAgICAgICAgbmV3WSA9IDA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5ld1kgPCB0aGlzLm1heFNjcm9sbFkpIHtcbiAgICAgICAgICAgICAgICBuZXdZID0gdGhpcy5tYXhTY3JvbGxZO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNjcm9sbFRvKG5ld1gsIG5ld1ksIDApO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnByb2JlVHlwZSA+IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9leGVjRXZlbnQoJ3Njcm9sbCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJTlNFUlQgUE9JTlQ6IF93aGVlbFxuICAgICAgICB9LFxuXG4gICAgICAgIF9pbml0U25hcDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0ge307XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLnNuYXAgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuc25hcCA9IHRoaXMuc2Nyb2xsZXIucXVlcnlTZWxlY3RvckFsbCh0aGlzLm9wdGlvbnMuc25hcCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMub24oJ3JlZnJlc2gnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgaSA9IDAsXG4gICAgICAgICAgICAgICAgICAgIGwsXG4gICAgICAgICAgICAgICAgICAgIG0gPSAwLFxuICAgICAgICAgICAgICAgICAgICBuLFxuICAgICAgICAgICAgICAgICAgICBjeCwgY3ksXG4gICAgICAgICAgICAgICAgICAgIHggPSAwLFxuICAgICAgICAgICAgICAgICAgICB5LFxuICAgICAgICAgICAgICAgICAgICBzdGVwWCA9IHRoaXMub3B0aW9ucy5zbmFwU3RlcFggfHwgdGhpcy53cmFwcGVyV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIHN0ZXBZID0gdGhpcy5vcHRpb25zLnNuYXBTdGVwWSB8fCB0aGlzLndyYXBwZXJIZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIGVsO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5wYWdlcyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLndyYXBwZXJXaWR0aCB8fCAhdGhpcy53cmFwcGVySGVpZ2h0IHx8ICF0aGlzLnNjcm9sbGVyV2lkdGggfHwgIXRoaXMuc2Nyb2xsZXJIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjeCA9IE1hdGgucm91bmQoc3RlcFggLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgY3kgPSBNYXRoLnJvdW5kKHN0ZXBZIC8gMik7XG5cbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHggPiAtdGhpcy5zY3JvbGxlcldpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhZ2VzW2ldID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBsID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoeSA+IC10aGlzLnNjcm9sbGVySGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlc1tpXVtsXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogTWF0aC5tYXgoeCwgdGhpcy5tYXhTY3JvbGxYKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogTWF0aC5tYXgoeSwgdGhpcy5tYXhTY3JvbGxZKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHN0ZXBYLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHN0ZXBZLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjeDogeCAtIGN4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjeTogeSAtIGN5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkgLT0gc3RlcFk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB4IC09IHN0ZXBYO1xuICAgICAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZWwgPSB0aGlzLm9wdGlvbnMuc25hcDtcbiAgICAgICAgICAgICAgICAgICAgbCA9IGVsLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgbiA9IC0xO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMCB8fCBlbFtpXS5vZmZzZXRMZWZ0IDw9IGVsW2kgLSAxXS5vZmZzZXRMZWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbisrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMucGFnZXNbbV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhZ2VzW21dID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSBNYXRoLm1heCgtZWxbaV0ub2Zmc2V0TGVmdCwgdGhpcy5tYXhTY3JvbGxYKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSBNYXRoLm1heCgtZWxbaV0ub2Zmc2V0VG9wLCB0aGlzLm1heFNjcm9sbFkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3ggPSB4IC0gTWF0aC5yb3VuZChlbFtpXS5vZmZzZXRXaWR0aCAvIDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3kgPSB5IC0gTWF0aC5yb3VuZChlbFtpXS5vZmZzZXRIZWlnaHQgLyAyKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlc1ttXVtuXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGVsW2ldLm9mZnNldFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogZWxbaV0ub2Zmc2V0SGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN4OiBjeCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjeTogY3lcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4ID4gdGhpcy5tYXhTY3JvbGxYKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbSsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5nb1RvUGFnZSh0aGlzLmN1cnJlbnRQYWdlLnBhZ2VYIHx8IDAsIHRoaXMuY3VycmVudFBhZ2UucGFnZVkgfHwgMCwgMCk7XG5cbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgc25hcCB0aHJlc2hvbGQgaWYgbmVlZGVkXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zbmFwVGhyZXNob2xkICUgMSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNuYXBUaHJlc2hvbGRYID0gdGhpcy5vcHRpb25zLnNuYXBUaHJlc2hvbGQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc25hcFRocmVzaG9sZFkgPSB0aGlzLm9wdGlvbnMuc25hcFRocmVzaG9sZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNuYXBUaHJlc2hvbGRYID0gTWF0aC5yb3VuZCh0aGlzLnBhZ2VzW3RoaXMuY3VycmVudFBhZ2UucGFnZVhdW3RoaXMuY3VycmVudFBhZ2UucGFnZVldLndpZHRoICogdGhpcy5vcHRpb25zLnNuYXBUaHJlc2hvbGQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNuYXBUaHJlc2hvbGRZID0gTWF0aC5yb3VuZCh0aGlzLnBhZ2VzW3RoaXMuY3VycmVudFBhZ2UucGFnZVhdW3RoaXMuY3VycmVudFBhZ2UucGFnZVldLmhlaWdodCAqIHRoaXMub3B0aW9ucy5zbmFwVGhyZXNob2xkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5vbignZmxpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGltZSA9IHRoaXMub3B0aW9ucy5zbmFwU3BlZWQgfHwgTWF0aC5tYXgoXG4gICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KFxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5taW4oTWF0aC5hYnModGhpcy54IC0gdGhpcy5zdGFydFgpLCAxMDAwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWluKE1hdGguYWJzKHRoaXMueSAtIHRoaXMuc3RhcnRZKSwgMTAwMClcbiAgICAgICAgICAgICAgICAgICAgKSwgMzAwKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZ29Ub1BhZ2UoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2UucGFnZVggKyB0aGlzLmRpcmVjdGlvblgsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2UucGFnZVkgKyB0aGlzLmRpcmVjdGlvblksXG4gICAgICAgICAgICAgICAgICAgIHRpbWVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX25lYXJlc3RTbmFwOiBmdW5jdGlvbih4LCB5KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucGFnZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgICAgICAgICAgcGFnZVg6IDAsXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VZOiAwXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGkgPSAwLFxuICAgICAgICAgICAgICAgIGwgPSB0aGlzLnBhZ2VzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBtID0gMDtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgd2UgZXhjZWVkZWQgdGhlIHNuYXAgdGhyZXNob2xkXG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoeCAtIHRoaXMuYWJzU3RhcnRYKSA8IHRoaXMuc25hcFRocmVzaG9sZFggJiZcbiAgICAgICAgICAgICAgICBNYXRoLmFicyh5IC0gdGhpcy5hYnNTdGFydFkpIDwgdGhpcy5zbmFwVGhyZXNob2xkWSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRQYWdlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoeCA+IDApIHtcbiAgICAgICAgICAgICAgICB4ID0gMDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoeCA8IHRoaXMubWF4U2Nyb2xsWCkge1xuICAgICAgICAgICAgICAgIHggPSB0aGlzLm1heFNjcm9sbFg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh5ID4gMCkge1xuICAgICAgICAgICAgICAgIHkgPSAwO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh5IDwgdGhpcy5tYXhTY3JvbGxZKSB7XG4gICAgICAgICAgICAgICAgeSA9IHRoaXMubWF4U2Nyb2xsWTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoeCA+PSB0aGlzLnBhZ2VzW2ldWzBdLmN4KSB7XG4gICAgICAgICAgICAgICAgICAgIHggPSB0aGlzLnBhZ2VzW2ldWzBdLng7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbCA9IHRoaXMucGFnZXNbaV0ubGVuZ3RoO1xuXG4gICAgICAgICAgICBmb3IgKDsgbSA8IGw7IG0rKykge1xuICAgICAgICAgICAgICAgIGlmICh5ID49IHRoaXMucGFnZXNbMF1bbV0uY3kpIHtcbiAgICAgICAgICAgICAgICAgICAgeSA9IHRoaXMucGFnZXNbMF1bbV0ueTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaSA9PSB0aGlzLmN1cnJlbnRQYWdlLnBhZ2VYKSB7XG4gICAgICAgICAgICAgICAgaSArPSB0aGlzLmRpcmVjdGlvblg7XG5cbiAgICAgICAgICAgICAgICBpZiAoaSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpID49IHRoaXMucGFnZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGkgPSB0aGlzLnBhZ2VzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgeCA9IHRoaXMucGFnZXNbaV1bMF0ueDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG0gPT0gdGhpcy5jdXJyZW50UGFnZS5wYWdlWSkge1xuICAgICAgICAgICAgICAgIG0gKz0gdGhpcy5kaXJlY3Rpb25ZO1xuXG4gICAgICAgICAgICAgICAgaWYgKG0gPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG0gPSAwO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobSA+PSB0aGlzLnBhZ2VzWzBdLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBtID0gdGhpcy5wYWdlc1swXS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHkgPSB0aGlzLnBhZ2VzWzBdW21dLnk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgICAgICB5OiB5LFxuICAgICAgICAgICAgICAgIHBhZ2VYOiBpLFxuICAgICAgICAgICAgICAgIHBhZ2VZOiBtXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuXG4gICAgICAgIGdvVG9QYWdlOiBmdW5jdGlvbih4LCB5LCB0aW1lLCBlYXNpbmcpIHtcbiAgICAgICAgICAgIGVhc2luZyA9IGVhc2luZyB8fCB0aGlzLm9wdGlvbnMuYm91bmNlRWFzaW5nO1xuXG4gICAgICAgICAgICBpZiAoeCA+PSB0aGlzLnBhZ2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHggPSB0aGlzLnBhZ2VzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHggPCAwKSB7XG4gICAgICAgICAgICAgICAgeCA9IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh5ID49IHRoaXMucGFnZXNbeF0ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgeSA9IHRoaXMucGFnZXNbeF0ubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoeSA8IDApIHtcbiAgICAgICAgICAgICAgICB5ID0gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHBvc1ggPSB0aGlzLnBhZ2VzW3hdW3ldLngsXG4gICAgICAgICAgICAgICAgcG9zWSA9IHRoaXMucGFnZXNbeF1beV0ueTtcblxuICAgICAgICAgICAgdGltZSA9IHRpbWUgPT09IHVuZGVmaW5lZCA/IHRoaXMub3B0aW9ucy5zbmFwU3BlZWQgfHwgTWF0aC5tYXgoXG4gICAgICAgICAgICAgICAgTWF0aC5tYXgoXG4gICAgICAgICAgICAgICAgICAgIE1hdGgubWluKE1hdGguYWJzKHBvc1ggLSB0aGlzLngpLCAxMDAwKSxcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5taW4oTWF0aC5hYnMocG9zWSAtIHRoaXMueSksIDEwMDApXG4gICAgICAgICAgICAgICAgKSwgMzAwKSA6IHRpbWU7XG5cbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSB7XG4gICAgICAgICAgICAgICAgeDogcG9zWCxcbiAgICAgICAgICAgICAgICB5OiBwb3NZLFxuICAgICAgICAgICAgICAgIHBhZ2VYOiB4LFxuICAgICAgICAgICAgICAgIHBhZ2VZOiB5XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLnNjcm9sbFRvKHBvc1gsIHBvc1ksIHRpbWUsIGVhc2luZyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbmV4dDogZnVuY3Rpb24odGltZSwgZWFzaW5nKSB7XG4gICAgICAgICAgICB2YXIgeCA9IHRoaXMuY3VycmVudFBhZ2UucGFnZVgsXG4gICAgICAgICAgICAgICAgeSA9IHRoaXMuY3VycmVudFBhZ2UucGFnZVk7XG5cbiAgICAgICAgICAgIHgrKztcblxuICAgICAgICAgICAgaWYgKHggPj0gdGhpcy5wYWdlcy5sZW5ndGggJiYgdGhpcy5oYXNWZXJ0aWNhbFNjcm9sbCkge1xuICAgICAgICAgICAgICAgIHggPSAwO1xuICAgICAgICAgICAgICAgIHkrKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5nb1RvUGFnZSh4LCB5LCB0aW1lLCBlYXNpbmcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHByZXY6IGZ1bmN0aW9uKHRpbWUsIGVhc2luZykge1xuICAgICAgICAgICAgdmFyIHggPSB0aGlzLmN1cnJlbnRQYWdlLnBhZ2VYLFxuICAgICAgICAgICAgICAgIHkgPSB0aGlzLmN1cnJlbnRQYWdlLnBhZ2VZO1xuXG4gICAgICAgICAgICB4LS07XG5cbiAgICAgICAgICAgIGlmICh4IDwgMCAmJiB0aGlzLmhhc1ZlcnRpY2FsU2Nyb2xsKSB7XG4gICAgICAgICAgICAgICAgeCA9IDA7XG4gICAgICAgICAgICAgICAgeS0tO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmdvVG9QYWdlKHgsIHksIHRpbWUsIGVhc2luZyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2luaXRLZXlzOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAvLyBkZWZhdWx0IGtleSBiaW5kaW5nc1xuICAgICAgICAgICAgdmFyIGtleXMgPSB7XG4gICAgICAgICAgICAgICAgcGFnZVVwOiAzMyxcbiAgICAgICAgICAgICAgICBwYWdlRG93bjogMzQsXG4gICAgICAgICAgICAgICAgZW5kOiAzNSxcbiAgICAgICAgICAgICAgICBob21lOiAzNixcbiAgICAgICAgICAgICAgICBsZWZ0OiAzNyxcbiAgICAgICAgICAgICAgICB1cDogMzgsXG4gICAgICAgICAgICAgICAgcmlnaHQ6IDM5LFxuICAgICAgICAgICAgICAgIGRvd246IDQwXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGk7XG5cbiAgICAgICAgICAgIC8vIGlmIHlvdSBnaXZlIG1lIGNoYXJhY3RlcnMgSSBnaXZlIHlvdSBrZXljb2RlXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5rZXlCaW5kaW5ncyA9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIGZvciAoaSBpbiB0aGlzLm9wdGlvbnMua2V5QmluZGluZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMua2V5QmluZGluZ3NbaV0gPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5rZXlCaW5kaW5nc1tpXSA9IHRoaXMub3B0aW9ucy5rZXlCaW5kaW5nc1tpXS50b1VwcGVyQ2FzZSgpLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5rZXlCaW5kaW5ncyA9IHt9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGkgaW4ga2V5cykge1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5rZXlCaW5kaW5nc1tpXSA9IHRoaXMub3B0aW9ucy5rZXlCaW5kaW5nc1tpXSB8fCBrZXlzW2ldO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB1dGlscy5hZGRFdmVudCh3aW5kb3csICdrZXlkb3duJywgdGhpcyk7XG5cbiAgICAgICAgICAgIHRoaXMub24oJ2Rlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB1dGlscy5yZW1vdmVFdmVudCh3aW5kb3csICdrZXlkb3duJywgdGhpcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBfa2V5OiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHNuYXAgPSB0aGlzLm9wdGlvbnMuc25hcCwgLy8gd2UgYXJlIHVzaW5nIHRoaXMgYWxvdCwgYmV0dGVyIHRvIGNhY2hlIGl0XG4gICAgICAgICAgICAgICAgbmV3WCA9IHNuYXAgPyB0aGlzLmN1cnJlbnRQYWdlLnBhZ2VYIDogdGhpcy54LFxuICAgICAgICAgICAgICAgIG5ld1kgPSBzbmFwID8gdGhpcy5jdXJyZW50UGFnZS5wYWdlWSA6IHRoaXMueSxcbiAgICAgICAgICAgICAgICBub3cgPSB1dGlscy5nZXRUaW1lKCksXG4gICAgICAgICAgICAgICAgcHJldlRpbWUgPSB0aGlzLmtleVRpbWUgfHwgMCxcbiAgICAgICAgICAgICAgICBhY2NlbGVyYXRpb24gPSAwLjI1MCxcbiAgICAgICAgICAgICAgICBwb3M7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMudXNlVHJhbnNpdGlvbiAmJiB0aGlzLmlzSW5UcmFuc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgcG9zID0gdGhpcy5nZXRDb21wdXRlZFBvc2l0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2xhdGUoTWF0aC5yb3VuZChwb3MueCksIE1hdGgucm91bmQocG9zLnkpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzSW5UcmFuc2l0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMua2V5QWNjZWxlcmF0aW9uID0gbm93IC0gcHJldlRpbWUgPCAyMDAgPyBNYXRoLm1pbih0aGlzLmtleUFjY2VsZXJhdGlvbiArIGFjY2VsZXJhdGlvbiwgNTApIDogMDtcblxuICAgICAgICAgICAgc3dpdGNoIChlLmtleUNvZGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIHRoaXMub3B0aW9ucy5rZXlCaW5kaW5ncy5wYWdlVXA6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc0hvcml6b250YWxTY3JvbGwgJiYgIXRoaXMuaGFzVmVydGljYWxTY3JvbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ggKz0gc25hcCA/IDEgOiB0aGlzLndyYXBwZXJXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1kgKz0gc25hcCA/IDEgOiB0aGlzLndyYXBwZXJIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLm9wdGlvbnMua2V5QmluZGluZ3MucGFnZURvd246XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc0hvcml6b250YWxTY3JvbGwgJiYgIXRoaXMuaGFzVmVydGljYWxTY3JvbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ggLT0gc25hcCA/IDEgOiB0aGlzLndyYXBwZXJXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1kgLT0gc25hcCA/IDEgOiB0aGlzLndyYXBwZXJIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLm9wdGlvbnMua2V5QmluZGluZ3MuZW5kOlxuICAgICAgICAgICAgICAgICAgICBuZXdYID0gc25hcCA/IHRoaXMucGFnZXMubGVuZ3RoIC0gMSA6IHRoaXMubWF4U2Nyb2xsWDtcbiAgICAgICAgICAgICAgICAgICAgbmV3WSA9IHNuYXAgPyB0aGlzLnBhZ2VzWzBdLmxlbmd0aCAtIDEgOiB0aGlzLm1heFNjcm9sbFk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5vcHRpb25zLmtleUJpbmRpbmdzLmhvbWU6XG4gICAgICAgICAgICAgICAgICAgIG5ld1ggPSAwO1xuICAgICAgICAgICAgICAgICAgICBuZXdZID0gMDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLm9wdGlvbnMua2V5QmluZGluZ3MubGVmdDpcbiAgICAgICAgICAgICAgICAgICAgbmV3WCArPSBzbmFwID8gLTEgOiA1ICsgdGhpcy5rZXlBY2NlbGVyYXRpb24gPj4gMDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLm9wdGlvbnMua2V5QmluZGluZ3MudXA6XG4gICAgICAgICAgICAgICAgICAgIG5ld1kgKz0gc25hcCA/IDEgOiA1ICsgdGhpcy5rZXlBY2NlbGVyYXRpb24gPj4gMDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLm9wdGlvbnMua2V5QmluZGluZ3MucmlnaHQ6XG4gICAgICAgICAgICAgICAgICAgIG5ld1ggLT0gc25hcCA/IC0xIDogNSArIHRoaXMua2V5QWNjZWxlcmF0aW9uID4+IDA7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5vcHRpb25zLmtleUJpbmRpbmdzLmRvd246XG4gICAgICAgICAgICAgICAgICAgIG5ld1kgLT0gc25hcCA/IDEgOiA1ICsgdGhpcy5rZXlBY2NlbGVyYXRpb24gPj4gMDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc25hcCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZ29Ub1BhZ2UobmV3WCwgbmV3WSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobmV3WCA+IDApIHtcbiAgICAgICAgICAgICAgICBuZXdYID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLmtleUFjY2VsZXJhdGlvbiA9IDA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5ld1ggPCB0aGlzLm1heFNjcm9sbFgpIHtcbiAgICAgICAgICAgICAgICBuZXdYID0gdGhpcy5tYXhTY3JvbGxYO1xuICAgICAgICAgICAgICAgIHRoaXMua2V5QWNjZWxlcmF0aW9uID0gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5ld1kgPiAwKSB7XG4gICAgICAgICAgICAgICAgbmV3WSA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5rZXlBY2NlbGVyYXRpb24gPSAwO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChuZXdZIDwgdGhpcy5tYXhTY3JvbGxZKSB7XG4gICAgICAgICAgICAgICAgbmV3WSA9IHRoaXMubWF4U2Nyb2xsWTtcbiAgICAgICAgICAgICAgICB0aGlzLmtleUFjY2VsZXJhdGlvbiA9IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsVG8obmV3WCwgbmV3WSwgMCk7XG5cbiAgICAgICAgICAgIHRoaXMua2V5VGltZSA9IG5vdztcbiAgICAgICAgfSxcblxuICAgICAgICBfYW5pbWF0ZTogZnVuY3Rpb24oZGVzdFgsIGRlc3RZLCBkdXJhdGlvbiwgZWFzaW5nRm4pIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcyxcbiAgICAgICAgICAgICAgICBzdGFydFggPSB0aGlzLngsXG4gICAgICAgICAgICAgICAgc3RhcnRZID0gdGhpcy55LFxuICAgICAgICAgICAgICAgIHN0YXJ0VGltZSA9IHV0aWxzLmdldFRpbWUoKSxcbiAgICAgICAgICAgICAgICBkZXN0VGltZSA9IHN0YXJ0VGltZSArIGR1cmF0aW9uO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBzdGVwKCkge1xuICAgICAgICAgICAgICAgIHZhciBub3cgPSB1dGlscy5nZXRUaW1lKCksXG4gICAgICAgICAgICAgICAgICAgIG5ld1gsIG5ld1ksXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZztcblxuICAgICAgICAgICAgICAgIGlmIChub3cgPj0gZGVzdFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5pc0FuaW1hdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGF0Ll90cmFuc2xhdGUoZGVzdFgsIGRlc3RZKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoYXQucmVzZXRQb3NpdGlvbih0aGF0Lm9wdGlvbnMuYm91bmNlVGltZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuX2V4ZWNFdmVudCgnc2Nyb2xsRW5kJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbm93ID0gKG5vdyAtIHN0YXJ0VGltZSkgLyBkdXJhdGlvbjtcbiAgICAgICAgICAgICAgICBlYXNpbmcgPSBlYXNpbmdGbihub3cpO1xuICAgICAgICAgICAgICAgIG5ld1ggPSAoZGVzdFggLSBzdGFydFgpICogZWFzaW5nICsgc3RhcnRYO1xuICAgICAgICAgICAgICAgIG5ld1kgPSAoZGVzdFkgLSBzdGFydFkpICogZWFzaW5nICsgc3RhcnRZO1xuICAgICAgICAgICAgICAgIHRoYXQuX3RyYW5zbGF0ZShuZXdYLCBuZXdZKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGF0LmlzQW5pbWF0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJBRihzdGVwKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhhdC5vcHRpb25zLnByb2JlVHlwZSA9PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuX2V4ZWNFdmVudCgnc2Nyb2xsJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmlzQW5pbWF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHN0ZXAoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBoYW5kbGVFdmVudDogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgc3dpdGNoIChlLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICd0b3VjaHN0YXJ0JzpcbiAgICAgICAgICAgICAgICBjYXNlICdwb2ludGVyZG93bic6XG4gICAgICAgICAgICAgICAgY2FzZSAnTVNQb2ludGVyRG93bic6XG4gICAgICAgICAgICAgICAgY2FzZSAnbW91c2Vkb3duJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhcnQoZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3RvdWNobW92ZSc6XG4gICAgICAgICAgICAgICAgY2FzZSAncG9pbnRlcm1vdmUnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ01TUG9pbnRlck1vdmUnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ21vdXNlbW92ZSc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21vdmUoZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3RvdWNoZW5kJzpcbiAgICAgICAgICAgICAgICBjYXNlICdwb2ludGVydXAnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ01TUG9pbnRlclVwJzpcbiAgICAgICAgICAgICAgICBjYXNlICdtb3VzZXVwJzpcbiAgICAgICAgICAgICAgICBjYXNlICd0b3VjaGNhbmNlbCc6XG4gICAgICAgICAgICAgICAgY2FzZSAncG9pbnRlcmNhbmNlbCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnTVNQb2ludGVyQ2FuY2VsJzpcbiAgICAgICAgICAgICAgICBjYXNlICdtb3VzZWNhbmNlbCc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VuZChlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnb3JpZW50YXRpb25jaGFuZ2UnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3Jlc2l6ZSc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Jlc2l6ZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd0cmFuc2l0aW9uZW5kJzpcbiAgICAgICAgICAgICAgICBjYXNlICd3ZWJraXRUcmFuc2l0aW9uRW5kJzpcbiAgICAgICAgICAgICAgICBjYXNlICdvVHJhbnNpdGlvbkVuZCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnTVNUcmFuc2l0aW9uRW5kJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNpdGlvbkVuZChlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnd2hlZWwnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ0RPTU1vdXNlU2Nyb2xsJzpcbiAgICAgICAgICAgICAgICBjYXNlICdtb3VzZXdoZWVsJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fd2hlZWwoZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2tleWRvd24nOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXkoZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2NsaWNrJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlLl9jb25zdHJ1Y3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVEZWZhdWx0U2Nyb2xsYmFyKGRpcmVjdGlvbiwgaW50ZXJhY3RpdmUsIHR5cGUpIHtcbiAgICAgICAgdmFyIHNjcm9sbGJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgICAgICAgaW5kaWNhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAgICAgaWYgKHR5cGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHNjcm9sbGJhci5zdHlsZS5jc3NUZXh0ID0gJ3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6OTk5OSc7XG4gICAgICAgICAgICBpbmRpY2F0b3Iuc3R5bGUuY3NzVGV4dCA9ICctd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDstbW96LWJveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2l6aW5nOmJvcmRlci1ib3g7cG9zaXRpb246YWJzb2x1dGU7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLDAuNSk7Ym9yZGVyOjFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuOSk7Ym9yZGVyLXJhZGl1czozcHgnO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5kaWNhdG9yLmNsYXNzTmFtZSA9ICdpU2Nyb2xsSW5kaWNhdG9yJztcblxuICAgICAgICBpZiAoZGlyZWN0aW9uID09ICdoJykge1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBzY3JvbGxiYXIuc3R5bGUuY3NzVGV4dCArPSAnO2hlaWdodDo3cHg7bGVmdDoycHg7cmlnaHQ6MnB4O2JvdHRvbTowJztcbiAgICAgICAgICAgICAgICBpbmRpY2F0b3Iuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2Nyb2xsYmFyLmNsYXNzTmFtZSA9ICdpU2Nyb2xsSG9yaXpvbnRhbFNjcm9sbGJhcic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHNjcm9sbGJhci5zdHlsZS5jc3NUZXh0ICs9ICc7d2lkdGg6N3B4O2JvdHRvbToycHg7dG9wOjJweDtyaWdodDoxcHgnO1xuICAgICAgICAgICAgICAgIGluZGljYXRvci5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNjcm9sbGJhci5jbGFzc05hbWUgPSAnaVNjcm9sbFZlcnRpY2FsU2Nyb2xsYmFyJztcbiAgICAgICAgfVxuXG4gICAgICAgIHNjcm9sbGJhci5zdHlsZS5jc3NUZXh0ICs9ICc7b3ZlcmZsb3c6aGlkZGVuJztcblxuICAgICAgICBpZiAoIWludGVyYWN0aXZlKSB7XG4gICAgICAgICAgICBzY3JvbGxiYXIuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcbiAgICAgICAgfVxuXG4gICAgICAgIHNjcm9sbGJhci5hcHBlbmRDaGlsZChpbmRpY2F0b3IpO1xuXG4gICAgICAgIHJldHVybiBzY3JvbGxiYXI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gSW5kaWNhdG9yKHNjcm9sbGVyLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMud3JhcHBlciA9IHR5cGVvZiBvcHRpb25zLmVsID09ICdzdHJpbmcnID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRpb25zLmVsKSA6IG9wdGlvbnMuZWw7XG4gICAgICAgIHRoaXMud3JhcHBlclN0eWxlID0gdGhpcy53cmFwcGVyLnN0eWxlO1xuICAgICAgICB0aGlzLmluZGljYXRvciA9IHRoaXMud3JhcHBlci5jaGlsZHJlblswXTtcbiAgICAgICAgdGhpcy5pbmRpY2F0b3JTdHlsZSA9IHRoaXMuaW5kaWNhdG9yLnN0eWxlO1xuICAgICAgICB0aGlzLnNjcm9sbGVyID0gc2Nyb2xsZXI7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgICAgICAgbGlzdGVuWDogdHJ1ZSxcbiAgICAgICAgICAgIGxpc3Rlblk6IHRydWUsXG4gICAgICAgICAgICBpbnRlcmFjdGl2ZTogZmFsc2UsXG4gICAgICAgICAgICByZXNpemU6IHRydWUsXG4gICAgICAgICAgICBkZWZhdWx0U2Nyb2xsYmFyczogZmFsc2UsXG4gICAgICAgICAgICBzaHJpbms6IGZhbHNlLFxuICAgICAgICAgICAgZmFkZTogZmFsc2UsXG4gICAgICAgICAgICBzcGVlZFJhdGlvWDogMCxcbiAgICAgICAgICAgIHNwZWVkUmF0aW9ZOiAwXG4gICAgICAgIH07XG5cbiAgICAgICAgZm9yICh2YXIgaSBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnNbaV0gPSBvcHRpb25zW2ldO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zaXplUmF0aW9YID0gMTtcbiAgICAgICAgdGhpcy5zaXplUmF0aW9ZID0gMTtcbiAgICAgICAgdGhpcy5tYXhQb3NYID0gMDtcbiAgICAgICAgdGhpcy5tYXhQb3NZID0gMDtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmludGVyYWN0aXZlKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5kaXNhYmxlVG91Y2gpIHtcbiAgICAgICAgICAgICAgICB1dGlscy5hZGRFdmVudCh0aGlzLmluZGljYXRvciwgJ3RvdWNoc3RhcnQnLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB1dGlscy5hZGRFdmVudCh3aW5kb3csICd0b3VjaGVuZCcsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuZGlzYWJsZVBvaW50ZXIpIHtcbiAgICAgICAgICAgICAgICB1dGlscy5hZGRFdmVudCh0aGlzLmluZGljYXRvciwgdXRpbHMucHJlZml4UG9pbnRlckV2ZW50KCdwb2ludGVyZG93bicpLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB1dGlscy5hZGRFdmVudCh3aW5kb3csIHV0aWxzLnByZWZpeFBvaW50ZXJFdmVudCgncG9pbnRlcnVwJyksIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuZGlzYWJsZU1vdXNlKSB7XG4gICAgICAgICAgICAgICAgdXRpbHMuYWRkRXZlbnQodGhpcy5pbmRpY2F0b3IsICdtb3VzZWRvd24nLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB1dGlscy5hZGRFdmVudCh3aW5kb3csICdtb3VzZXVwJywgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmZhZGUpIHtcbiAgICAgICAgICAgIHRoaXMud3JhcHBlclN0eWxlW3V0aWxzLnN0eWxlLnRyYW5zZm9ybV0gPSB0aGlzLnNjcm9sbGVyLnRyYW5zbGF0ZVo7XG4gICAgICAgICAgICB0aGlzLndyYXBwZXJTdHlsZVt1dGlscy5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb25dID0gdXRpbHMuaXNCYWRBbmRyb2lkID8gJzAuMDAxcycgOiAnMG1zJztcbiAgICAgICAgICAgIHRoaXMud3JhcHBlclN0eWxlLm9wYWNpdHkgPSAnMCc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBJbmRpY2F0b3IucHJvdG90eXBlID0ge1xuICAgICAgICBoYW5kbGVFdmVudDogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgc3dpdGNoIChlLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICd0b3VjaHN0YXJ0JzpcbiAgICAgICAgICAgICAgICBjYXNlICdwb2ludGVyZG93bic6XG4gICAgICAgICAgICAgICAgY2FzZSAnTVNQb2ludGVyRG93bic6XG4gICAgICAgICAgICAgICAgY2FzZSAnbW91c2Vkb3duJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhcnQoZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3RvdWNobW92ZSc6XG4gICAgICAgICAgICAgICAgY2FzZSAncG9pbnRlcm1vdmUnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ01TUG9pbnRlck1vdmUnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ21vdXNlbW92ZSc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21vdmUoZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3RvdWNoZW5kJzpcbiAgICAgICAgICAgICAgICBjYXNlICdwb2ludGVydXAnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ01TUG9pbnRlclVwJzpcbiAgICAgICAgICAgICAgICBjYXNlICdtb3VzZXVwJzpcbiAgICAgICAgICAgICAgICBjYXNlICd0b3VjaGNhbmNlbCc6XG4gICAgICAgICAgICAgICAgY2FzZSAncG9pbnRlcmNhbmNlbCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnTVNQb2ludGVyQ2FuY2VsJzpcbiAgICAgICAgICAgICAgICBjYXNlICdtb3VzZWNhbmNlbCc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VuZChlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmludGVyYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgdXRpbHMucmVtb3ZlRXZlbnQodGhpcy5pbmRpY2F0b3IsICd0b3VjaHN0YXJ0JywgdGhpcyk7XG4gICAgICAgICAgICAgICAgdXRpbHMucmVtb3ZlRXZlbnQodGhpcy5pbmRpY2F0b3IsIHV0aWxzLnByZWZpeFBvaW50ZXJFdmVudCgncG9pbnRlcmRvd24nKSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgdXRpbHMucmVtb3ZlRXZlbnQodGhpcy5pbmRpY2F0b3IsICdtb3VzZWRvd24nLCB0aGlzKTtcblxuICAgICAgICAgICAgICAgIHV0aWxzLnJlbW92ZUV2ZW50KHdpbmRvdywgJ3RvdWNobW92ZScsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHV0aWxzLnJlbW92ZUV2ZW50KHdpbmRvdywgdXRpbHMucHJlZml4UG9pbnRlckV2ZW50KCdwb2ludGVybW92ZScpLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB1dGlscy5yZW1vdmVFdmVudCh3aW5kb3csICdtb3VzZW1vdmUnLCB0aGlzKTtcblxuICAgICAgICAgICAgICAgIHV0aWxzLnJlbW92ZUV2ZW50KHdpbmRvdywgJ3RvdWNoZW5kJywgdGhpcyk7XG4gICAgICAgICAgICAgICAgdXRpbHMucmVtb3ZlRXZlbnQod2luZG93LCB1dGlscy5wcmVmaXhQb2ludGVyRXZlbnQoJ3BvaW50ZXJ1cCcpLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB1dGlscy5yZW1vdmVFdmVudCh3aW5kb3csICdtb3VzZXVwJywgdGhpcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZGVmYXVsdFNjcm9sbGJhcnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndyYXBwZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLndyYXBwZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9zdGFydDogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdmFyIHBvaW50ID0gZS50b3VjaGVzID8gZS50b3VjaGVzWzBdIDogZTtcblxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgdGhpcy50cmFuc2l0aW9uVGltZSgpO1xuXG4gICAgICAgICAgICB0aGlzLmluaXRpYXRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLm1vdmVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmxhc3RQb2ludFggPSBwb2ludC5wYWdlWDtcbiAgICAgICAgICAgIHRoaXMubGFzdFBvaW50WSA9IHBvaW50LnBhZ2VZO1xuXG4gICAgICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IHV0aWxzLmdldFRpbWUoKTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuZGlzYWJsZVRvdWNoKSB7XG4gICAgICAgICAgICAgICAgdXRpbHMuYWRkRXZlbnQod2luZG93LCAndG91Y2htb3ZlJywgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5kaXNhYmxlUG9pbnRlcikge1xuICAgICAgICAgICAgICAgIHV0aWxzLmFkZEV2ZW50KHdpbmRvdywgdXRpbHMucHJlZml4UG9pbnRlckV2ZW50KCdwb2ludGVybW92ZScpLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLmRpc2FibGVNb3VzZSkge1xuICAgICAgICAgICAgICAgIHV0aWxzLmFkZEV2ZW50KHdpbmRvdywgJ21vdXNlbW92ZScsIHRoaXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNjcm9sbGVyLl9leGVjRXZlbnQoJ2JlZm9yZVNjcm9sbFN0YXJ0Jyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX21vdmU6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciBwb2ludCA9IGUudG91Y2hlcyA/IGUudG91Y2hlc1swXSA6IGUsXG4gICAgICAgICAgICAgICAgZGVsdGFYLCBkZWx0YVksXG4gICAgICAgICAgICAgICAgbmV3WCwgbmV3WSxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXAgPSB1dGlscy5nZXRUaW1lKCk7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5tb3ZlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsZXIuX2V4ZWNFdmVudCgnc2Nyb2xsU3RhcnQnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5tb3ZlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIGRlbHRhWCA9IHBvaW50LnBhZ2VYIC0gdGhpcy5sYXN0UG9pbnRYO1xuICAgICAgICAgICAgdGhpcy5sYXN0UG9pbnRYID0gcG9pbnQucGFnZVg7XG5cbiAgICAgICAgICAgIGRlbHRhWSA9IHBvaW50LnBhZ2VZIC0gdGhpcy5sYXN0UG9pbnRZO1xuICAgICAgICAgICAgdGhpcy5sYXN0UG9pbnRZID0gcG9pbnQucGFnZVk7XG5cbiAgICAgICAgICAgIG5ld1ggPSB0aGlzLnggKyBkZWx0YVg7XG4gICAgICAgICAgICBuZXdZID0gdGhpcy55ICsgZGVsdGFZO1xuXG4gICAgICAgICAgICB0aGlzLl9wb3MobmV3WCwgbmV3WSk7XG5cblxuICAgICAgICAgICAgaWYgKHRoaXMuc2Nyb2xsZXIub3B0aW9ucy5wcm9iZVR5cGUgPT0gMSAmJiB0aW1lc3RhbXAgLSB0aGlzLnN0YXJ0VGltZSA+IDMwMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRUaW1lID0gdGltZXN0YW1wO1xuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsZXIuX2V4ZWNFdmVudCgnc2Nyb2xsJyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2Nyb2xsZXIub3B0aW9ucy5wcm9iZVR5cGUgPiAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxlci5fZXhlY0V2ZW50KCdzY3JvbGwnKTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAvLyBJTlNFUlQgUE9JTlQ6IGluZGljYXRvci5fbW92ZVxuXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9lbmQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pbml0aWF0ZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuaW5pdGlhdGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgIHV0aWxzLnJlbW92ZUV2ZW50KHdpbmRvdywgJ3RvdWNobW92ZScsIHRoaXMpO1xuICAgICAgICAgICAgdXRpbHMucmVtb3ZlRXZlbnQod2luZG93LCB1dGlscy5wcmVmaXhQb2ludGVyRXZlbnQoJ3BvaW50ZXJtb3ZlJyksIHRoaXMpO1xuICAgICAgICAgICAgdXRpbHMucmVtb3ZlRXZlbnQod2luZG93LCAnbW91c2Vtb3ZlJywgdGhpcyk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnNjcm9sbGVyLm9wdGlvbnMuc25hcCkge1xuICAgICAgICAgICAgICAgIHZhciBzbmFwID0gdGhpcy5zY3JvbGxlci5fbmVhcmVzdFNuYXAodGhpcy5zY3JvbGxlci54LCB0aGlzLnNjcm9sbGVyLnkpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHRpbWUgPSB0aGlzLm9wdGlvbnMuc25hcFNwZWVkIHx8IE1hdGgubWF4KFxuICAgICAgICAgICAgICAgICAgICBNYXRoLm1heChcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWluKE1hdGguYWJzKHRoaXMuc2Nyb2xsZXIueCAtIHNuYXAueCksIDEwMDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5taW4oTWF0aC5hYnModGhpcy5zY3JvbGxlci55IC0gc25hcC55KSwgMTAwMClcbiAgICAgICAgICAgICAgICAgICAgKSwgMzAwKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNjcm9sbGVyLnggIT0gc25hcC54IHx8IHRoaXMuc2Nyb2xsZXIueSAhPSBzbmFwLnkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxlci5kaXJlY3Rpb25YID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxlci5kaXJlY3Rpb25ZID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxlci5jdXJyZW50UGFnZSA9IHNuYXA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsZXIuc2Nyb2xsVG8oc25hcC54LCBzbmFwLnksIHRpbWUsIHRoaXMuc2Nyb2xsZXIub3B0aW9ucy5ib3VuY2VFYXNpbmcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMubW92ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbGVyLl9leGVjRXZlbnQoJ3Njcm9sbEVuZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHRyYW5zaXRpb25UaW1lOiBmdW5jdGlvbih0aW1lKSB7XG4gICAgICAgICAgICB0aW1lID0gdGltZSB8fCAwO1xuICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JTdHlsZVt1dGlscy5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb25dID0gdGltZSArICdtcyc7XG5cbiAgICAgICAgICAgIGlmICghdGltZSAmJiB1dGlscy5pc0JhZEFuZHJvaWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluZGljYXRvclN0eWxlW3V0aWxzLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbl0gPSAnMC4wMDFzJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICB0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb246IGZ1bmN0aW9uKGVhc2luZykge1xuICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JTdHlsZVt1dGlscy5zdHlsZS50cmFuc2l0aW9uVGltaW5nRnVuY3Rpb25dID0gZWFzaW5nO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlZnJlc2g6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy50cmFuc2l0aW9uVGltZSgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmxpc3RlblggJiYgIXRoaXMub3B0aW9ucy5saXN0ZW5ZKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JTdHlsZS5kaXNwbGF5ID0gdGhpcy5zY3JvbGxlci5oYXNIb3Jpem9udGFsU2Nyb2xsID8gJ2Jsb2NrJyA6ICdub25lJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLmxpc3RlblkgJiYgIXRoaXMub3B0aW9ucy5saXN0ZW5YKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JTdHlsZS5kaXNwbGF5ID0gdGhpcy5zY3JvbGxlci5oYXNWZXJ0aWNhbFNjcm9sbCA/ICdibG9jaycgOiAnbm9uZSc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNhdG9yU3R5bGUuZGlzcGxheSA9IHRoaXMuc2Nyb2xsZXIuaGFzSG9yaXpvbnRhbFNjcm9sbCB8fCB0aGlzLnNjcm9sbGVyLmhhc1ZlcnRpY2FsU2Nyb2xsID8gJ2Jsb2NrJyA6ICdub25lJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuc2Nyb2xsZXIuaGFzSG9yaXpvbnRhbFNjcm9sbCAmJiB0aGlzLnNjcm9sbGVyLmhhc1ZlcnRpY2FsU2Nyb2xsKSB7XG4gICAgICAgICAgICAgICAgdXRpbHMuYWRkQ2xhc3ModGhpcy53cmFwcGVyLCAnaVNjcm9sbEJvdGhTY3JvbGxiYXJzJyk7XG4gICAgICAgICAgICAgICAgdXRpbHMucmVtb3ZlQ2xhc3ModGhpcy53cmFwcGVyLCAnaVNjcm9sbExvbmVTY3JvbGxiYXInKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZGVmYXVsdFNjcm9sbGJhcnMgJiYgdGhpcy5vcHRpb25zLmN1c3RvbVN0eWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubGlzdGVuWCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53cmFwcGVyLnN0eWxlLnJpZ2h0ID0gJzhweCc7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndyYXBwZXIuc3R5bGUuYm90dG9tID0gJzhweCc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHV0aWxzLnJlbW92ZUNsYXNzKHRoaXMud3JhcHBlciwgJ2lTY3JvbGxCb3RoU2Nyb2xsYmFycycpO1xuICAgICAgICAgICAgICAgIHV0aWxzLmFkZENsYXNzKHRoaXMud3JhcHBlciwgJ2lTY3JvbGxMb25lU2Nyb2xsYmFyJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmRlZmF1bHRTY3JvbGxiYXJzICYmIHRoaXMub3B0aW9ucy5jdXN0b21TdHlsZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmxpc3RlblgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud3JhcHBlci5zdHlsZS5yaWdodCA9ICcycHgnO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53cmFwcGVyLnN0eWxlLmJvdHRvbSA9ICcycHgnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgciA9IHRoaXMud3JhcHBlci5vZmZzZXRIZWlnaHQ7IC8vIGZvcmNlIHJlZnJlc2hcblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5saXN0ZW5YKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53cmFwcGVyV2lkdGggPSB0aGlzLndyYXBwZXIuY2xpZW50V2lkdGg7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZXNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JXaWR0aCA9IE1hdGgubWF4KE1hdGgucm91bmQodGhpcy53cmFwcGVyV2lkdGggKiB0aGlzLndyYXBwZXJXaWR0aCAvICh0aGlzLnNjcm9sbGVyLnNjcm9sbGVyV2lkdGggfHwgdGhpcy53cmFwcGVyV2lkdGggfHwgMSkpLCA4KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JTdHlsZS53aWR0aCA9IHRoaXMuaW5kaWNhdG9yV2lkdGggKyAncHgnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNhdG9yV2lkdGggPSB0aGlzLmluZGljYXRvci5jbGllbnRXaWR0aDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLm1heFBvc1ggPSB0aGlzLndyYXBwZXJXaWR0aCAtIHRoaXMuaW5kaWNhdG9yV2lkdGg7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNocmluayA9PSAnY2xpcCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5taW5Cb3VuZGFyeVggPSAtdGhpcy5pbmRpY2F0b3JXaWR0aCArIDg7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWF4Qm91bmRhcnlYID0gdGhpcy53cmFwcGVyV2lkdGggLSA4O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWluQm91bmRhcnlYID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXhCb3VuZGFyeVggPSB0aGlzLm1heFBvc1g7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5zaXplUmF0aW9YID0gdGhpcy5vcHRpb25zLnNwZWVkUmF0aW9YIHx8ICh0aGlzLnNjcm9sbGVyLm1heFNjcm9sbFggJiYgKHRoaXMubWF4UG9zWCAvIHRoaXMuc2Nyb2xsZXIubWF4U2Nyb2xsWCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmxpc3RlblkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndyYXBwZXJIZWlnaHQgPSB0aGlzLndyYXBwZXIuY2xpZW50SGVpZ2h0O1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMucmVzaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNhdG9ySGVpZ2h0ID0gTWF0aC5tYXgoTWF0aC5yb3VuZCh0aGlzLndyYXBwZXJIZWlnaHQgKiB0aGlzLndyYXBwZXJIZWlnaHQgLyAodGhpcy5zY3JvbGxlci5zY3JvbGxlckhlaWdodCB8fCB0aGlzLndyYXBwZXJIZWlnaHQgfHwgMSkpLCA4KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JTdHlsZS5oZWlnaHQgPSB0aGlzLmluZGljYXRvckhlaWdodCArICdweCc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JIZWlnaHQgPSB0aGlzLmluZGljYXRvci5jbGllbnRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5tYXhQb3NZID0gdGhpcy53cmFwcGVySGVpZ2h0IC0gdGhpcy5pbmRpY2F0b3JIZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNocmluayA9PSAnY2xpcCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5taW5Cb3VuZGFyeVkgPSAtdGhpcy5pbmRpY2F0b3JIZWlnaHQgKyA4O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1heEJvdW5kYXJ5WSA9IHRoaXMud3JhcHBlckhlaWdodCAtIDg7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5taW5Cb3VuZGFyeVkgPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1heEJvdW5kYXJ5WSA9IHRoaXMubWF4UG9zWTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLm1heFBvc1kgPSB0aGlzLndyYXBwZXJIZWlnaHQgLSB0aGlzLmluZGljYXRvckhlaWdodDtcbiAgICAgICAgICAgICAgICB0aGlzLnNpemVSYXRpb1kgPSB0aGlzLm9wdGlvbnMuc3BlZWRSYXRpb1kgfHwgKHRoaXMuc2Nyb2xsZXIubWF4U2Nyb2xsWSAmJiAodGhpcy5tYXhQb3NZIC8gdGhpcy5zY3JvbGxlci5tYXhTY3JvbGxZKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlUG9zaXRpb24oKTtcbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGVQb3NpdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgeCA9IHRoaXMub3B0aW9ucy5saXN0ZW5YICYmIE1hdGgucm91bmQodGhpcy5zaXplUmF0aW9YICogdGhpcy5zY3JvbGxlci54KSB8fCAwLFxuICAgICAgICAgICAgICAgIHkgPSB0aGlzLm9wdGlvbnMubGlzdGVuWSAmJiBNYXRoLnJvdW5kKHRoaXMuc2l6ZVJhdGlvWSAqIHRoaXMuc2Nyb2xsZXIueSkgfHwgMDtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuaWdub3JlQm91bmRhcmllcykge1xuICAgICAgICAgICAgICAgIGlmICh4IDwgdGhpcy5taW5Cb3VuZGFyeVgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaHJpbmsgPT0gJ3NjYWxlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53aWR0aCA9IE1hdGgubWF4KHRoaXMuaW5kaWNhdG9yV2lkdGggKyB4LCA4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNhdG9yU3R5bGUud2lkdGggPSB0aGlzLndpZHRoICsgJ3B4JztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB4ID0gdGhpcy5taW5Cb3VuZGFyeVg7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh4ID4gdGhpcy5tYXhCb3VuZGFyeVgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaHJpbmsgPT0gJ3NjYWxlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53aWR0aCA9IE1hdGgubWF4KHRoaXMuaW5kaWNhdG9yV2lkdGggLSAoeCAtIHRoaXMubWF4UG9zWCksIDgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JTdHlsZS53aWR0aCA9IHRoaXMud2lkdGggKyAncHgnO1xuICAgICAgICAgICAgICAgICAgICAgICAgeCA9IHRoaXMubWF4UG9zWCArIHRoaXMuaW5kaWNhdG9yV2lkdGggLSB0aGlzLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgeCA9IHRoaXMubWF4Qm91bmRhcnlYO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuc2hyaW5rID09ICdzY2FsZScgJiYgdGhpcy53aWR0aCAhPSB0aGlzLmluZGljYXRvcldpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2lkdGggPSB0aGlzLmluZGljYXRvcldpZHRoO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGljYXRvclN0eWxlLndpZHRoID0gdGhpcy53aWR0aCArICdweCc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHkgPCB0aGlzLm1pbkJvdW5kYXJ5WSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNocmluayA9PSAnc2NhbGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhlaWdodCA9IE1hdGgubWF4KHRoaXMuaW5kaWNhdG9ySGVpZ2h0ICsgeSAqIDMsIDgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JTdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodCArICdweCc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgeSA9IHRoaXMubWluQm91bmRhcnlZO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoeSA+IHRoaXMubWF4Qm91bmRhcnlZKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hyaW5rID09ICdzY2FsZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5tYXgodGhpcy5pbmRpY2F0b3JIZWlnaHQgLSAoeSAtIHRoaXMubWF4UG9zWSkgKiAzLCA4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNhdG9yU3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyAncHgnO1xuICAgICAgICAgICAgICAgICAgICAgICAgeSA9IHRoaXMubWF4UG9zWSArIHRoaXMuaW5kaWNhdG9ySGVpZ2h0IC0gdGhpcy5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB5ID0gdGhpcy5tYXhCb3VuZGFyeVk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5zaHJpbmsgPT0gJ3NjYWxlJyAmJiB0aGlzLmhlaWdodCAhPSB0aGlzLmluZGljYXRvckhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMuaW5kaWNhdG9ySGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGljYXRvclN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgICAgICB0aGlzLnkgPSB5O1xuXG4gICAgICAgICAgICBpZiAodGhpcy5zY3JvbGxlci5vcHRpb25zLnVzZVRyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNhdG9yU3R5bGVbdXRpbHMuc3R5bGUudHJhbnNmb3JtXSA9ICd0cmFuc2xhdGUoJyArIHggKyAncHgsJyArIHkgKyAncHgpJyArIHRoaXMuc2Nyb2xsZXIudHJhbnNsYXRlWjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JTdHlsZS5sZWZ0ID0geCArICdweCc7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JTdHlsZS50b3AgPSB5ICsgJ3B4JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBfcG9zOiBmdW5jdGlvbih4LCB5KSB7XG4gICAgICAgICAgICBpZiAoeCA8IDApIHtcbiAgICAgICAgICAgICAgICB4ID0gMDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoeCA+IHRoaXMubWF4UG9zWCkge1xuICAgICAgICAgICAgICAgIHggPSB0aGlzLm1heFBvc1g7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh5IDwgMCkge1xuICAgICAgICAgICAgICAgIHkgPSAwO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh5ID4gdGhpcy5tYXhQb3NZKSB7XG4gICAgICAgICAgICAgICAgeSA9IHRoaXMubWF4UG9zWTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgeCA9IHRoaXMub3B0aW9ucy5saXN0ZW5YID8gTWF0aC5yb3VuZCh4IC8gdGhpcy5zaXplUmF0aW9YKSA6IHRoaXMuc2Nyb2xsZXIueDtcbiAgICAgICAgICAgIHkgPSB0aGlzLm9wdGlvbnMubGlzdGVuWSA/IE1hdGgucm91bmQoeSAvIHRoaXMuc2l6ZVJhdGlvWSkgOiB0aGlzLnNjcm9sbGVyLnk7XG5cbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsZXIuc2Nyb2xsVG8oeCwgeSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmFkZTogZnVuY3Rpb24odmFsLCBob2xkKSB7XG4gICAgICAgICAgICBpZiAoaG9sZCAmJiAhdGhpcy52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5mYWRlVGltZW91dCk7XG4gICAgICAgICAgICB0aGlzLmZhZGVUaW1lb3V0ID0gbnVsbDtcblxuICAgICAgICAgICAgdmFyIHRpbWUgPSB2YWwgPyAyNTAgOiA1MDAsXG4gICAgICAgICAgICAgICAgZGVsYXkgPSB2YWwgPyAwIDogMzAwO1xuXG4gICAgICAgICAgICB2YWwgPSB2YWwgPyAnMScgOiAnMCc7XG5cbiAgICAgICAgICAgIHRoaXMud3JhcHBlclN0eWxlW3V0aWxzLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbl0gPSB0aW1lICsgJ21zJztcblxuICAgICAgICAgICAgdGhpcy5mYWRlVGltZW91dCA9IHNldFRpbWVvdXQoKGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgICAgIHRoaXMud3JhcHBlclN0eWxlLm9wYWNpdHkgPSB2YWw7XG4gICAgICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gK3ZhbDtcbiAgICAgICAgICAgIH0pLmJpbmQodGhpcywgdmFsKSwgZGVsYXkpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGlmICh0eXBlb2YgbW9kdWxlICE9ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gSVNjcm9sbDtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIGRlZmluZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBJU2Nyb2xsO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3cuSVNjcm9sbCA9IElTY3JvbGw7XG4gICAgfVxufSkoKTsiXX0=
