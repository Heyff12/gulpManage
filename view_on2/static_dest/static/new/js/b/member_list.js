"use strict";function memberto(e){_hmt.push(["_trackEvent","member","click","member_detail"]);var o=$(e).attr("data-c"),t=location.protocol+"//"+location.host+"/prepaid/v1/page/b/members/detail.html?c="+o;"undefined"!=typeof QFPAY?QFPAY.call("openUri",{uri:t},function(e){console.log(e.ret)}):location.href=t}require(["../require-config2"],function(){require(["zepto","yanzheng","ajax_rule","scroll_more","if_menu"],function($,e,o,t,l){$(function(){t.add_load_img(".js_member_list");new Vue({el:".js_member_detail",data:{searchkey:"",members_all:"",members:"",members_count:10,members_pos:10,apiUrl:location.protocol+"//"+location.host+"/prepaid/v1/api/b/members",getdata:{pos:0,count:1e4}},mounted:function(){this.get_members(),t.scroll_more(this.get_moredata)},updated:function(){t.scroll_data.body_height=Math.floor($("body").height()).toFixed(0),console.log("AJAX:body_height=="+t.scroll_data.body_height)},methods:{member_ser:function(e){var o=this.searchkey;return!(e.length<=0)&&e.filter(function(e){return"-1"!=e.name.indexOf(o)||"-1"!=e.mobile.indexOf(o)})},get_members:function(){var e=this;this.$http.get(this.apiUrl,{before:function(){$("#load_small_bg").show()}}).then(function(o){$("#load_small_bg").hide();var l=JSON.parse(o.data);if("0000"==l.respcd){if(e.members_all=l.data,0==e.members_all.length)return $(".js_li_none").show(),$(".js_member_detail").hide(),!1;$(".js_li_none").hide(),$(".js_member_detail").show(),e.members=e.members_all.slice(0,e.members_pos),e.members_all.length-e.members_pos<=0?(t.nomoredata_show(),window.setTimeout(t.nomoredata_hide,2e3),t.scroll_data.nomor_show=!1,t.scroll_data.scroll_if=!1):(e.members_pos+=e.members_count,t.scroll_data.scroll_if=!0),t.scroll_data.body_height=Math.floor($("body").height()).toFixed(0),$(".load").hide()}else $("#alert_alert").show(),$(".zheceng").show(),l.respmsg?$("#alert_alert .alert_con_br").html(l.respmsg):$("#alert_alert .alert_con_br").html(l.resperr)},function(e){$("#load_small_bg").hide(),$("#alert_alert").show(),$(".zheceng").show(),$("#alert_alert .alert_con_br").html("网络超时!")}).catch(function(e){$("#load_small_bg").hide()})},get_moredata:function(){this.members=this.members_all.slice(0,this.members_pos),console.log(this.members.length),this.members_all.length-this.members_pos<=0?(t.nomoredata_show(),window.setTimeout(t.nomoredata_hide,2e3),t.scroll_data.nomor_show=!1,t.scroll_data.scroll_if=!1):(this.members_pos+=this.members_count,t.scroll_data.scroll_if=!0),$(".load").hide(),console.log("AJAX:scroll_if=="+t.scroll_data.scroll_if),console.log("AJAX:nomor_show=="+t.scroll_data.nomor_show)}}})})})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImIvbWVtYmVyX2xpc3QuanMiXSwibmFtZXMiOlsibWVtYmVydG8iLCJvYmoiLCJfaG10IiwicHVzaCIsImMiLCIkIiwiYXR0ciIsInVybF92YWwiLCJsb2NhdGlvbiIsInByb3RvY29sIiwiaG9zdCIsIlFGUEFZIiwiY2FsbCIsInVyaSIsImNiIiwiY29uc29sZSIsImxvZyIsInJldCIsImhyZWYiLCJyZXF1aXJlIiwieWFuemhlbmciLCJhamF4X3J1bGUiLCJzY3JvbGxfbW9yZSIsImlmX21lbnUiLCJhZGRfbG9hZF9pbWciLCJWdWUiLCJlbCIsImRhdGEiLCJzZWFyY2hrZXkiLCJtZW1iZXJzX2FsbCIsIm1lbWJlcnMiLCJtZW1iZXJzX2NvdW50IiwibWVtYmVyc19wb3MiLCJhcGlVcmwiLCJnZXRkYXRhIiwicG9zIiwiY291bnQiLCJtb3VudGVkIiwidGhpcyIsImdldF9tZW1iZXJzIiwiZ2V0X21vcmVkYXRhIiwidXBkYXRlZCIsInNjcm9sbF9kYXRhIiwiYm9keV9oZWlnaHQiLCJNYXRoIiwiZmxvb3IiLCJoZWlnaHQiLCJ0b0ZpeGVkIiwibWV0aG9kcyIsIm1lbWJlcl9zZXIiLCJrZXkiLCJsZW5ndGgiLCJmaWx0ZXIiLCJtZW1iZXIiLCJuYW1lIiwiaW5kZXhPZiIsIm1vYmlsZSIsInZtIiwiJGh0dHAiLCJnZXQiLCJiZWZvcmUiLCJzaG93IiwidGhlbiIsInJlc3BvbnNlIiwiaGlkZSIsImRhdGFfcmV0dXJuIiwiSlNPTiIsInBhcnNlIiwicmVzcGNkIiwic2xpY2UiLCJub21vcmVkYXRhX3Nob3ciLCJ3aW5kb3ciLCJzZXRUaW1lb3V0Iiwibm9tb3JlZGF0YV9oaWRlIiwibm9tb3Jfc2hvdyIsInNjcm9sbF9pZiIsInJlc3Btc2ciLCJodG1sIiwicmVzcGVyciIsImNhdGNoIl0sIm1hcHBpbmdzIjoiWUFDQSxTQUFTQSxVQUFTQyxHQUNkQyxLQUFLQyxNQUFNLGNBQWUsU0FBVSxRQUFTLGlCQUM3QyxJQUFJQyxHQUFJQyxFQUFFSixHQUFLSyxL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QUNyQmIsS0FBS1QsWUFBWXNCLE9BQVNiLEtBQUtOLGFBQWUsR0FDOUNWLEVBQVlnRCxrQkFDWkMsT0FBT0MsV0FBV2xELEVBQVltRCxnQkFBaUIsS0FDL0NuRCxFQUFZb0IsWUFBWWdDLFlBQWEsRUFDckNwRCxFQUFZb0IsWUFBWWlDLFdBQVksSUFFcENyQyxLQUFLTixhQUFlTSxLQUFLUCxjQUN6QlQsRUFBWW9CLFlBQVlpQyxXQUFZLEdBRXhDdEUsRUFBRSxTQUFTMkQsT0FDWGpELFFBQVFDLElBQUksbUJBQXFCTSxFQUFZb0IsWUFBWWlDLFdBQ3pENUQsUUFBUUMsSUFBSSxvQkFBc0JNLEVBQVlvQixZQUFZZ0MiLCJmaWxlIjoiYi9tZW1iZXJfbGlzdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8v54K55Ye75Lya5ZGY5YiX6KGoXG5mdW5jdGlvbiBtZW1iZXJ0byhvYmopIHtcbiAgICBfaG10LnB1c2goWydfdHJhY2tFdmVudCcsICdtZW1iZXInLCAnY2xpY2snLCAnbWVtYmVyX2RldGFpbCddKTtcbiAgICB2YXIgYyA9ICQob2JqKS5hdHRyKCdkYXRhLWMnKTtcbiAgICB2YXIgdXJsX3ZhbCA9IGxvY2F0aW9uLnByb3RvY29sICsgJy8vJyArIGxvY2F0aW9uLmhvc3QgKyAnL3ByZXBhaWQvdjEvcGFnZS9iL21lbWJlcnMvZGV0YWlsLmh0bWw/Yz0nICsgYztcbiAgICBpZiAodHlwZW9mIFFGUEFZICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIFFGUEFZLmNhbGwoJ29wZW5VcmknLCB7XG4gICAgICAgICAgICB1cmk6IHVybF92YWwsXG4gICAgICAgIH0sIGZ1bmN0aW9uKGNiKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjYi5yZXQpXG4gICAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgICAgbG9jYXRpb24uaHJlZiA9IHVybF92YWw7XG4gICAgfVxufVxucmVxdWlyZShbJy4uL3JlcXVpcmUtY29uZmlnMiddLCBmdW5jdGlvbigpIHtcbiAgICByZXF1aXJlKFtcInplcHRvXCIsIFwieWFuemhlbmdcIiwgXCJhamF4X3J1bGVcIiwgXCJzY3JvbGxfbW9yZVwiLFwiaWZfbWVudVwiXSwgZnVuY3Rpb24oJCwgeWFuemhlbmcsIGFqYXhfcnVsZSwgc2Nyb2xsX21vcmUsaWZfbWVudSkge1xuICAgICAgICAkKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy/orr7nva7oj5zljZXnqbotLS3lj5bmtojkuoZuYXRpdmXnmoTlvJXnlKhcbiAgICAgICAgICAgIC8vIHZhciBtZW51X2RhdGEgPSB7IG1lbnVzOiBbXSB9O1xuICAgICAgICAgICAgLy8gbmF0aXZlLnNldE5hdk1lbnUobWVudV9kYXRhLCBmdW5jdGlvbihjYikge1xuICAgICAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKGNiLnJldCk7XG4gICAgICAgICAgICAvLyB9KTtcbiAgICAgICAgICAgIC8v5re75Yqg5Zu+5qCH5ZKM5rKh5pyJ5pu05aSa5paH5a2X5o+Q56S6XG4gICAgICAgICAgICBzY3JvbGxfbW9yZS5hZGRfbG9hZF9pbWcoJy5qc19tZW1iZXJfbGlzdCcpO1xuICAgICAgICAgICAgLy/mu5rliqjliqDovb0tLS0tLeS8muWRmOS/oeaBry0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIHZhciBkZW1vID0gbmV3IFZ1ZSh7XG4gICAgICAgICAgICAgICAgZWw6ICcuanNfbWVtYmVyX2RldGFpbCcsXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBzZWFyY2hrZXk6ICcnLFxuICAgICAgICAgICAgICAgICAgICBtZW1iZXJzX2FsbDogJycsXG4gICAgICAgICAgICAgICAgICAgIG1lbWJlcnM6ICcnLFxuICAgICAgICAgICAgICAgICAgICBtZW1iZXJzX2NvdW50OiAxMCxcbiAgICAgICAgICAgICAgICAgICAgbWVtYmVyc19wb3M6IDEwLFxuICAgICAgICAgICAgICAgICAgICBhcGlVcmw6IGxvY2F0aW9uLnByb3RvY29sICsgJy8vJyArIGxvY2F0aW9uLmhvc3QgKyAnL3ByZXBhaWQvdjEvYXBpL2IvbWVtYmVycycsXG4gICAgICAgICAgICAgICAgICAgIGdldGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvczogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50OiAxMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1vdW50ZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldF9tZW1iZXJzKCk7IC8v6I635Y+W572R57uc5YWo6YOo5pWw5o2u5pWw5o2uXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbF9tb3JlLnNjcm9sbF9tb3JlKHRoaXMuZ2V0X21vcmVkYXRhKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVwZGF0ZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGxfbW9yZS5zY3JvbGxfZGF0YS5ib2R5X2hlaWdodCA9IE1hdGguZmxvb3IoJCgnYm9keScpLmhlaWdodCgpKS50b0ZpeGVkKDApO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQUpBWDpib2R5X2hlaWdodD09JyArIHNjcm9sbF9tb3JlLnNjcm9sbF9kYXRhLmJvZHlfaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1ldGhvZHM6IHtcbiAgICAgICAgICAgICAgICAgICAgbWVtYmVyX3NlcjogZnVuY3Rpb24obWVtYmVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IHRoaXMuc2VhcmNoa2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lbWJlcnMubGVuZ3RoIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZW1iZXJzLmZpbHRlcihmdW5jdGlvbihtZW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lbWJlci5uYW1lLmluZGV4T2Yoa2V5KSAhPSAnLTEnIHx8IG1lbWJlci5tb2JpbGUuaW5kZXhPZihrZXkpICE9ICctMSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0X21lbWJlcnM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZtID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGh0dHAuZ2V0KHRoaXMuYXBpVXJsLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlZm9yZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjbG9hZF9zbWFsbF9iZycpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2xvYWRfc21hbGxfYmcnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhX3JldHVybiA9IEpTT04ucGFyc2UocmVzcG9uc2UuZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFfcmV0dXJuLnJlc3BjZCA9PSAnMDAwMCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtLm1lbWJlcnNfYWxsID0gZGF0YV9yZXR1cm4uZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2codm0ubWVtYmVyc19hbGwubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2bS5tZW1iZXJzX2FsbC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5qc19saV9ub25lJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5qc19tZW1iZXJfZGV0YWlsJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5qc19saV9ub25lJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmpzX21lbWJlcl9kZXRhaWwnKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bS5tZW1iZXJzID0gdm0ubWVtYmVyc19hbGwuc2xpY2UoMCwgdm0ubWVtYmVyc19wb3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZtLm1lbWJlcnNfYWxsLmxlbmd0aCAtIHZtLm1lbWJlcnNfcG9zIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxfbW9yZS5ub21vcmVkYXRhX3Nob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChzY3JvbGxfbW9yZS5ub21vcmVkYXRhX2hpZGUsIDIwMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbF9tb3JlLnNjcm9sbF9kYXRhLm5vbW9yX3Nob3cgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxfbW9yZS5zY3JvbGxfZGF0YS5zY3JvbGxfaWYgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0ubWVtYmVyc19wb3MgKz0gdm0ubWVtYmVyc19jb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxfbW9yZS5zY3JvbGxfZGF0YS5zY3JvbGxfaWYgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsX21vcmUuc2Nyb2xsX2RhdGEuYm9keV9oZWlnaHQgPSBNYXRoLmZsb29yKCQoJ2JvZHknKS5oZWlnaHQoKSkudG9GaXhlZCgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5sb2FkJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnQUpBWDpzY3JvbGxfaWY9PScgKyBzY3JvbGxfbW9yZS5zY3JvbGxfZGF0YS5zY3JvbGxfaWYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnQUpBWDpub21vcl9zaG93PT0nICsgc2Nyb2xsX21vcmUuc2Nyb2xsX2RhdGEubm9tb3Jfc2hvdyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjYWxlcnRfYWxlcnQnKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuemhlY2VuZycpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhX3JldHVybi5yZXNwbXNnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2FsZXJ0X2FsZXJ0IC5hbGVydF9jb25fYnInKS5odG1sKGRhdGFfcmV0dXJuLnJlc3Btc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjYWxlcnRfYWxlcnQgLmFsZXJ0X2Nvbl9icicpLmh0bWwoZGF0YV9yZXR1cm4ucmVzcGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjbG9hZF9zbWFsbF9iZycpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2FsZXJ0X2FsZXJ0Jykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuemhlY2VuZycpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2FsZXJ0X2FsZXJ0IC5hbGVydF9jb25fYnInKS5odG1sKCfnvZHnu5zotoXml7YhJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2xvYWRfc21hbGxfYmcnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2cocmVzcG9uc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdldF9tb3JlZGF0YTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lbWJlcnMgPSB0aGlzLm1lbWJlcnNfYWxsLnNsaWNlKDAsIHRoaXMubWVtYmVyc19wb3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5tZW1iZXJzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tZW1iZXJzX2FsbC5sZW5ndGggLSB0aGlzLm1lbWJlcnNfcG9zIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxfbW9yZS5ub21vcmVkYXRhX3Nob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChzY3JvbGxfbW9yZS5ub21vcmVkYXRhX2hpZGUsIDIwMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbF9tb3JlLnNjcm9sbF9kYXRhLm5vbW9yX3Nob3cgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxfbW9yZS5zY3JvbGxfZGF0YS5zY3JvbGxfaWYgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZW1iZXJzX3BvcyArPSB0aGlzLm1lbWJlcnNfY291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsX21vcmUuc2Nyb2xsX2RhdGEuc2Nyb2xsX2lmID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5sb2FkJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0FKQVg6c2Nyb2xsX2lmPT0nICsgc2Nyb2xsX21vcmUuc2Nyb2xsX2RhdGEuc2Nyb2xsX2lmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBSkFYOm5vbW9yX3Nob3c9PScgKyBzY3JvbGxfbW9yZS5zY3JvbGxfZGF0YS5ub21vcl9zaG93KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH0pXG59KVxuIl19
