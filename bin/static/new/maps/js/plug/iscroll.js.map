{"version":3,"sources":["plug/iscroll.js"],"names":["IScroll","el","options","this","wrapper","document","querySelector","scroller","children","scrollerStyle","style","resizeScrollbars","mouseWheelSpeed","snapThreshold","startX","startY","scrollY","directionLockThreshold","momentum","bounce","bounceTime","bounceEasing","preventDefault","preventDefaultException","tagName","HWCompositing","useTransition","useTransform","i","translateZ","utils","hasPerspective","hasTransition","hasTransform","eventPassthrough","scrollX","freeScroll","ease","circular","resizePolling","undefined","tap","shrinkScrollbars","invertWheelDirection","probeType","x","y","directionX","directionY","_events","_init","refresh","scrollTo","enable","createDefaultScrollbar","direction","interactive","type","scrollbar","createElement","indicator","cssText","className","height","width","pointerEvents","appendChild","Indicator","wrapperStyle","indicatorStyle","listenX","listenY","resize","defaultScrollbars","shrink","fade","speedRatioX","speedRatioY","sizeRatioX","sizeRatioY","maxPosX","maxPosY","disableTouch","addEvent","window","disablePointer","prefixPointerEvent","disableMouse","transform","transitionDuration","isBadAndroid","opacity","rAF","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","_prefixStyle","_vendor","charAt","toUpperCase","substr","me","_elementStyle","vendors","l","length","getTime","Date","now","extend","target","obj","fn","capture","addEventListener","removeEvent","removeEventListener","pointerEvent","MSPointerEvent","current","start","time","lowerMargin","wrapperSize","deceleration","destination","duration","distance","speed","Math","abs","round","_transform","hasTouch","hasPointer","PointerEvent","test","navigator","appVersion","transitionTimingFunction","transitionDelay","transformOrigin","hasClass","e","c","re","RegExp","addClass","newclass","split","push","join","removeClass","replace","offset","left","offsetLeft","top","offsetTop","offsetParent","exceptions","eventType","touchstart","touchmove","touchend","mousedown","mousemove","mouseup","pointerdown","pointermove","pointerup","MSPointerDown","MSPointerMove","MSPointerUp","quadratic","k","sqrt","back","b","elastic","f","pow","sin","PI","eventName","ev","createEvent","initEvent","pageX","pageY","dispatchEvent","click","initMouseEvent","view","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","_constructed","prototype","version","_initEvents","scrollbars","indicators","_initIndicators","mouseWheel","_initWheel","snap","_initSnap","keyBindings","_initKeys","destroy","_execEvent","_transitionEnd","isInTransition","_transitionTime","resetPosition","_start","button","enabled","initiated","pos","point","touches","moved","distX","distY","directionLocked","startTime","getComputedPosition","_translate","isAnimating","absStartX","absStartY","pointX","pointY","_move","newX","newY","absDistX","absDistY","deltaX","deltaY","timestamp","endTime","hasHorizontalScroll","hasVerticalScroll","maxScrollX","maxScrollY","_end","momentumX","momentumY","changedTouches","distanceX","distanceY","easing","flick","wrapperWidth","wrapperHeight","max","_nearestSnap","currentPage","snapSpeed","min","_resize","that","clearTimeout","resizeTimeout","disable","offsetHeight","clientWidth","clientHeight","scrollerWidth","offsetWidth","scrollerHeight","wrapperOffset","on","off","index","indexOf","splice","apply","slice","call","arguments","scrollBy","_transitionTimingFunction","_animate","scrollToElement","offsetX","offsetY","nodeType","transitionTime","updatePosition","remove","bindToWrapper","matrix","getComputedStyle","_indicatorsMap","interactiveScrollbars","customStyle","fadeScrollbars","concat","_wheel","stopPropagation","wheelDeltaX","wheelDeltaY","wheelTimeout","deltaMode","wheelDelta","detail","goToPage","querySelectorAll","n","cx","cy","m","stepX","snapStepX","stepY","snapStepY","pages","snapThresholdX","snapThresholdY","posX","posY","next","prev","keys","pageUp","pageDown","end","home","up","right","down","charCodeAt","_key","prevTime","keyTime","acceleration","keyAcceleration","keyCode","destX","destY","easingFn","step","destTime","handleEvent","parentNode","removeChild","lastPointX","lastPointY","_pos","display","bottom","indicatorWidth","minBoundaryX","maxBoundaryX","indicatorHeight","minBoundaryY","maxBoundaryY","ignoreBoundaries","val","hold","visible","fadeTimeout","delay","bind","module","exports","define","amd"],"mappings":"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","file":"../../../js/plug/iscroll.js","sourcesContent":["(function() {\n    var rAF = window.requestAnimationFrame ||\n        window.webkitRequestAnimationFrame ||\n        window.mozRequestAnimationFrame ||\n        window.oRequestAnimationFrame ||\n        window.msRequestAnimationFrame ||\n        function(callback) {\n            window.setTimeout(callback, 1000 / 60);\n        };\n\n    var utils = (function() {\n        var me = {};\n\n        var _elementStyle = document.createElement('div').style;\n        var _vendor = (function() {\n            var vendors = ['t', 'webkitT', 'MozT', 'msT', 'OT'],\n                transform,\n                i = 0,\n                l = vendors.length;\n\n            for (; i < l; i++) {\n                transform = vendors[i] + 'ransform';\n                if (transform in _elementStyle) return vendors[i].substr(0, vendors[i].length - 1);\n            }\n\n            return false;\n        })();\n\n        function _prefixStyle(style) {\n            if (_vendor === false) return false;\n            if (_vendor === '') return style;\n            return _vendor + style.charAt(0).toUpperCase() + style.substr(1);\n        }\n\n        me.getTime = Date.now || function getTime() {\n            return new Date().getTime();\n        };\n\n        me.extend = function(target, obj) {\n            for (var i in obj) {\n                target[i] = obj[i];\n            }\n        };\n\n        me.addEvent = function(el, type, fn, capture) {\n            el.addEventListener(type, fn, !!capture);\n        };\n\n        me.removeEvent = function(el, type, fn, capture) {\n            el.removeEventListener(type, fn, !!capture);\n        };\n\n        me.prefixPointerEvent = function(pointerEvent) {\n            return window.MSPointerEvent ?\n                'MSPointer' + pointerEvent.charAt(9).toUpperCase() + pointerEvent.substr(10) :\n                pointerEvent;\n        };\n\n        me.momentum = function(current, start, time, lowerMargin, wrapperSize, deceleration) {\n            var distance = current - start,\n                speed = Math.abs(distance) / time,\n                destination,\n                duration;\n\n            deceleration = deceleration === undefined ? 0.0006 : deceleration;\n\n            destination = current + (speed * speed) / (2 * deceleration) * (distance < 0 ? -1 : 1);\n            duration = speed / deceleration;\n\n            if (destination < lowerMargin) {\n                destination = wrapperSize ? lowerMargin - (wrapperSize / 2.5 * (speed / 8)) : lowerMargin;\n                distance = Math.abs(destination - current);\n                duration = distance / speed;\n            } else if (destination > 0) {\n                destination = wrapperSize ? wrapperSize / 2.5 * (speed / 8) : 0;\n                distance = Math.abs(current) + destination;\n                duration = distance / speed;\n            }\n\n            return {\n                destination: Math.round(destination),\n                duration: duration\n            };\n        };\n\n        var _transform = _prefixStyle('transform');\n\n        me.extend(me, {\n            hasTransform: _transform !== false,\n            hasPerspective: _prefixStyle('perspective') in _elementStyle,\n            hasTouch: 'ontouchstart' in window,\n            hasPointer: window.PointerEvent || window.MSPointerEvent, // IE10 is prefixed\n            hasTransition: _prefixStyle('transition') in _elementStyle\n        });\n\n        // This should find all Android browsers lower than build 535.19 (both stock browser and webview)\n        me.isBadAndroid = /Android /.test(window.navigator.appVersion) && !(/Chrome\\/\\d/.test(window.navigator.appVersion));\n\n        me.extend(me.style = {}, {\n            transform: _transform,\n            transitionTimingFunction: _prefixStyle('transitionTimingFunction'),\n            transitionDuration: _prefixStyle('transitionDuration'),\n            transitionDelay: _prefixStyle('transitionDelay'),\n            transformOrigin: _prefixStyle('transformOrigin')\n        });\n\n        me.hasClass = function(e, c) {\n            var re = new RegExp(\"(^|\\\\s)\" + c + \"(\\\\s|$)\");\n            return re.test(e.className);\n        };\n\n        me.addClass = function(e, c) {\n            if (me.hasClass(e, c)) {\n                return;\n            }\n\n            var newclass = e.className.split(' ');\n            newclass.push(c);\n            e.className = newclass.join(' ');\n        };\n\n        me.removeClass = function(e, c) {\n            if (!me.hasClass(e, c)) {\n                return;\n            }\n\n            var re = new RegExp(\"(^|\\\\s)\" + c + \"(\\\\s|$)\", 'g');\n            e.className = e.className.replace(re, ' ');\n        };\n\n        me.offset = function(el) {\n            var left = -el.offsetLeft,\n                top = -el.offsetTop;\n\n            // jshint -W084\n            while (el = el.offsetParent) {\n                left -= el.offsetLeft;\n                top -= el.offsetTop;\n            }\n            // jshint +W084\n\n            return {\n                left: left,\n                top: top\n            };\n        };\n\n        me.preventDefaultException = function(el, exceptions) {\n            for (var i in exceptions) {\n                if (exceptions[i].test(el[i])) {\n                    return true;\n                }\n            }\n\n            return false;\n        };\n\n        me.extend(me.eventType = {}, {\n            touchstart: 1,\n            touchmove: 1,\n            touchend: 1,\n\n            mousedown: 2,\n            mousemove: 2,\n            mouseup: 2,\n\n            pointerdown: 3,\n            pointermove: 3,\n            pointerup: 3,\n\n            MSPointerDown: 3,\n            MSPointerMove: 3,\n            MSPointerUp: 3\n        });\n\n        me.extend(me.ease = {}, {\n            quadratic: {\n                style: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n                fn: function(k) {\n                    return k * (2 - k);\n                }\n            },\n            circular: {\n                style: 'cubic-bezier(0.1, 0.57, 0.1, 1)', // Not properly \"circular\" but this looks better, it should be (0.075, 0.82, 0.165, 1)\n                fn: function(k) {\n                    return Math.sqrt(1 - (--k * k));\n                }\n            },\n            back: {\n                style: 'cubic-bezier(0.175, 0.885, 0.32, 1.275)',\n                fn: function(k) {\n                    var b = 4;\n                    return (k = k - 1) * k * ((b + 1) * k + b) + 1;\n                }\n            },\n            bounce: {\n                style: '',\n                fn: function(k) {\n                    if ((k /= 1) < (1 / 2.75)) {\n                        return 7.5625 * k * k;\n                    } else if (k < (2 / 2.75)) {\n                        return 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;\n                    } else if (k < (2.5 / 2.75)) {\n                        return 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;\n                    } else {\n                        return 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;\n                    }\n                }\n            },\n            elastic: {\n                style: '',\n                fn: function(k) {\n                    var f = 0.22,\n                        e = 0.4;\n\n                    if (k === 0) {\n                        return 0;\n                    }\n                    if (k == 1) {\n                        return 1;\n                    }\n\n                    return (e * Math.pow(2, -10 * k) * Math.sin((k - f / 4) * (2 * Math.PI) / f) + 1);\n                }\n            }\n        });\n\n        me.tap = function(e, eventName) {\n            var ev = document.createEvent('Event');\n            ev.initEvent(eventName, true, true);\n            ev.pageX = e.pageX;\n            ev.pageY = e.pageY;\n            e.target.dispatchEvent(ev);\n        };\n\n        me.click = function(e) {\n            var target = e.target,\n                ev;\n\n            if (!(/(SELECT|INPUT|TEXTAREA)/i).test(target.tagName)) {\n                ev = document.createEvent('MouseEvents');\n                ev.initMouseEvent('click', true, true, e.view, 1,\n                    target.screenX, target.screenY, target.clientX, target.clientY,\n                    e.ctrlKey, e.altKey, e.shiftKey, e.metaKey,\n                    0, null);\n\n                ev._constructed = true;\n                target.dispatchEvent(ev);\n            }\n        };\n\n        return me;\n    })();\n\n    function IScroll(el, options) {\n        this.wrapper = typeof el == 'string' ? document.querySelector(el) : el;\n        this.scroller = this.wrapper.children[0];\n        this.scrollerStyle = this.scroller.style; // cache style for better performance\n\n        this.options = {\n\n            resizeScrollbars: true,\n\n            mouseWheelSpeed: 20,\n\n            snapThreshold: 0.334,\n\n            // INSERT POINT: OPTIONS \n\n            startX: 0,\n            startY: 0,\n            scrollY: true,\n            directionLockThreshold: 5,\n            momentum: true,\n\n            bounce: true,\n            bounceTime: 600,\n            bounceEasing: '',\n\n            preventDefault: true,\n            preventDefaultException: {\n                tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT)$/\n            },\n\n            HWCompositing: true,\n            useTransition: true,\n            useTransform: true\n        };\n\n        for (var i in options) {\n            this.options[i] = options[i];\n        }\n\n        // Normalize options\n        this.translateZ = this.options.HWCompositing && utils.hasPerspective ? ' translateZ(0)' : '';\n\n        this.options.useTransition = utils.hasTransition && this.options.useTransition;\n        this.options.useTransform = utils.hasTransform && this.options.useTransform;\n\n        this.options.eventPassthrough = this.options.eventPassthrough === true ? 'vertical' : this.options.eventPassthrough;\n        this.options.preventDefault = !this.options.eventPassthrough && this.options.preventDefault;\n\n        // If you want eventPassthrough I have to lock one of the axes\n        this.options.scrollY = this.options.eventPassthrough == 'vertical' ? false : this.options.scrollY;\n        this.options.scrollX = this.options.eventPassthrough == 'horizontal' ? false : this.options.scrollX;\n\n        // With eventPassthrough we also need lockDirection mechanism\n        this.options.freeScroll = this.options.freeScroll && !this.options.eventPassthrough;\n        this.options.directionLockThreshold = this.options.eventPassthrough ? 0 : this.options.directionLockThreshold;\n\n        this.options.bounceEasing = typeof this.options.bounceEasing == 'string' ? utils.ease[this.options.bounceEasing] || utils.ease.circular : this.options.bounceEasing;\n\n        this.options.resizePolling = this.options.resizePolling === undefined ? 60 : this.options.resizePolling;\n\n        if (this.options.tap === true) {\n            this.options.tap = 'tap';\n        }\n\n        if (this.options.shrinkScrollbars == 'scale') {\n            this.options.useTransition = false;\n        }\n\n        this.options.invertWheelDirection = this.options.invertWheelDirection ? -1 : 1;\n\n        if (this.options.probeType == 3) {\n            this.options.useTransition = false;\n        }\n\n        // INSERT POINT: NORMALIZATION\n\n        // Some defaults\t\n        this.x = 0;\n        this.y = 0;\n        this.directionX = 0;\n        this.directionY = 0;\n        this._events = {};\n\n        // INSERT POINT: DEFAULTS\n\n        this._init();\n        this.refresh();\n\n        this.scrollTo(this.options.startX, this.options.startY);\n        this.enable();\n    }\n\n    IScroll.prototype = {\n        version: '5.1.3',\n\n        _init: function() {\n            this._initEvents();\n\n            if (this.options.scrollbars || this.options.indicators) {\n                this._initIndicators();\n            }\n\n            if (this.options.mouseWheel) {\n                this._initWheel();\n            }\n\n            if (this.options.snap) {\n                this._initSnap();\n            }\n\n            if (this.options.keyBindings) {\n                this._initKeys();\n            }\n\n            // INSERT POINT: _init\n\n        },\n\n        destroy: function() {\n            this._initEvents(true);\n\n            this._execEvent('destroy');\n        },\n\n        _transitionEnd: function(e) {\n            if (e.target != this.scroller || !this.isInTransition) {\n                return;\n            }\n\n            this._transitionTime();\n            if (!this.resetPosition(this.options.bounceTime)) {\n                this.isInTransition = false;\n                this._execEvent('scrollEnd');\n            }\n        },\n\n        _start: function(e) {\n            // React to left mouse button only\n            if (utils.eventType[e.type] != 1) {\n                if (e.button !== 0) {\n                    return;\n                }\n            }\n\n            if (!this.enabled || (this.initiated && utils.eventType[e.type] !== this.initiated)) {\n                return;\n            }\n\n            if (this.options.preventDefault && !utils.isBadAndroid && !utils.preventDefaultException(e.target, this.options.preventDefaultException)) {\n                e.preventDefault();\n            }\n\n            var point = e.touches ? e.touches[0] : e,\n                pos;\n\n            this.initiated = utils.eventType[e.type];\n            this.moved = false;\n            this.distX = 0;\n            this.distY = 0;\n            this.directionX = 0;\n            this.directionY = 0;\n            this.directionLocked = 0;\n\n            this._transitionTime();\n\n            this.startTime = utils.getTime();\n\n            if (this.options.useTransition && this.isInTransition) {\n                this.isInTransition = false;\n                pos = this.getComputedPosition();\n                this._translate(Math.round(pos.x), Math.round(pos.y));\n                this._execEvent('scrollEnd');\n            } else if (!this.options.useTransition && this.isAnimating) {\n                this.isAnimating = false;\n                this._execEvent('scrollEnd');\n            }\n\n            this.startX = this.x;\n            this.startY = this.y;\n            this.absStartX = this.x;\n            this.absStartY = this.y;\n            this.pointX = point.pageX;\n            this.pointY = point.pageY;\n\n            this._execEvent('beforeScrollStart');\n        },\n\n        _move: function(e) {\n            if (!this.enabled || utils.eventType[e.type] !== this.initiated) {\n                return;\n            }\n\n            if (this.options.preventDefault) { // increases performance on Android? TODO: check!\n                e.preventDefault();\n            }\n\n            var point = e.touches ? e.touches[0] : e,\n                deltaX = point.pageX - this.pointX,\n                deltaY = point.pageY - this.pointY,\n                timestamp = utils.getTime(),\n                newX, newY,\n                absDistX, absDistY;\n\n            this.pointX = point.pageX;\n            this.pointY = point.pageY;\n\n            this.distX += deltaX;\n            this.distY += deltaY;\n            absDistX = Math.abs(this.distX);\n            absDistY = Math.abs(this.distY);\n\n            // We need to move at least 10 pixels for the scrolling to initiate\n            if (timestamp - this.endTime > 300 && (absDistX < 10 && absDistY < 10)) {\n                return;\n            }\n\n            // If you are scrolling in one direction lock the other\n            if (!this.directionLocked && !this.options.freeScroll) {\n                if (absDistX > absDistY + this.options.directionLockThreshold) {\n                    this.directionLocked = 'h'; // lock horizontally\n                } else if (absDistY >= absDistX + this.options.directionLockThreshold) {\n                    this.directionLocked = 'v'; // lock vertically\n                } else {\n                    this.directionLocked = 'n'; // no lock\n                }\n            }\n\n            if (this.directionLocked == 'h') {\n                if (this.options.eventPassthrough == 'vertical') {\n                    e.preventDefault();\n                } else if (this.options.eventPassthrough == 'horizontal') {\n                    this.initiated = false;\n                    return;\n                }\n\n                deltaY = 0;\n            } else if (this.directionLocked == 'v') {\n                if (this.options.eventPassthrough == 'horizontal') {\n                    e.preventDefault();\n                } else if (this.options.eventPassthrough == 'vertical') {\n                    this.initiated = false;\n                    return;\n                }\n\n                deltaX = 0;\n            }\n\n            deltaX = this.hasHorizontalScroll ? deltaX : 0;\n            deltaY = this.hasVerticalScroll ? deltaY : 0;\n\n            newX = this.x + deltaX;\n            newY = this.y + deltaY;\n\n            // Slow down if outside of the boundaries\n            if (newX > 0 || newX < this.maxScrollX) {\n                newX = this.options.bounce ? this.x + deltaX / 3 : newX > 0 ? 0 : this.maxScrollX;\n            }\n            if (newY > 0 || newY < this.maxScrollY) {\n                newY = this.options.bounce ? this.y + deltaY / 3 : newY > 0 ? 0 : this.maxScrollY;\n            }\n\n            this.directionX = deltaX > 0 ? -1 : deltaX < 0 ? 1 : 0;\n            this.directionY = deltaY > 0 ? -1 : deltaY < 0 ? 1 : 0;\n\n            if (!this.moved) {\n                this._execEvent('scrollStart');\n            }\n\n            this.moved = true;\n\n            this._translate(newX, newY);\n\n            /* REPLACE START: _move */\n            if (timestamp - this.startTime > 300) {\n                this.startTime = timestamp;\n                this.startX = this.x;\n                this.startY = this.y;\n\n                if (this.options.probeType == 1) {\n                    this._execEvent('scroll');\n                }\n            }\n\n            if (this.options.probeType > 1) {\n                this._execEvent('scroll');\n            }\n            /* REPLACE END: _move */\n\n        },\n\n        _end: function(e) {\n            if (!this.enabled || utils.eventType[e.type] !== this.initiated) {\n                return;\n            }\n\n            if (this.options.preventDefault && !utils.preventDefaultException(e.target, this.options.preventDefaultException)) {\n                e.preventDefault();\n            }\n\n            var point = e.changedTouches ? e.changedTouches[0] : e,\n                momentumX,\n                momentumY,\n                duration = utils.getTime() - this.startTime,\n                newX = Math.round(this.x),\n                newY = Math.round(this.y),\n                distanceX = Math.abs(newX - this.startX),\n                distanceY = Math.abs(newY - this.startY),\n                time = 0,\n                easing = '';\n\n            this.isInTransition = 0;\n            this.initiated = 0;\n            this.endTime = utils.getTime();\n\n            // reset if we are outside of the boundaries\n            if (this.resetPosition(this.options.bounceTime)) {\n                return;\n            }\n\n            this.scrollTo(newX, newY); // ensures that the last position is rounded\n\n            // we scrolled less than 10 pixels\n            if (!this.moved) {\n                if (this.options.tap) {\n                    utils.tap(e, this.options.tap);\n                }\n\n                if (this.options.click) {\n                    utils.click(e);\n                }\n\n                this._execEvent('scrollCancel');\n                return;\n            }\n\n            if (this._events.flick && duration < 200 && distanceX < 100 && distanceY < 100) {\n                this._execEvent('flick');\n                return;\n            }\n\n            // start momentum animation if needed\n            if (this.options.momentum && duration < 300) {\n                momentumX = this.hasHorizontalScroll ? utils.momentum(this.x, this.startX, duration, this.maxScrollX, this.options.bounce ? this.wrapperWidth : 0, this.options.deceleration) : {\n                    destination: newX,\n                    duration: 0\n                };\n                momentumY = this.hasVerticalScroll ? utils.momentum(this.y, this.startY, duration, this.maxScrollY, this.options.bounce ? this.wrapperHeight : 0, this.options.deceleration) : {\n                    destination: newY,\n                    duration: 0\n                };\n                newX = momentumX.destination;\n                newY = momentumY.destination;\n                time = Math.max(momentumX.duration, momentumY.duration);\n                this.isInTransition = 1;\n            }\n\n\n            if (this.options.snap) {\n                var snap = this._nearestSnap(newX, newY);\n                this.currentPage = snap;\n                time = this.options.snapSpeed || Math.max(\n                    Math.max(\n                        Math.min(Math.abs(newX - snap.x), 1000),\n                        Math.min(Math.abs(newY - snap.y), 1000)\n                    ), 300);\n                newX = snap.x;\n                newY = snap.y;\n\n                this.directionX = 0;\n                this.directionY = 0;\n                easing = this.options.bounceEasing;\n            }\n\n            // INSERT POINT: _end\n\n            if (newX != this.x || newY != this.y) {\n                // change easing function when scroller goes out of the boundaries\n                if (newX > 0 || newX < this.maxScrollX || newY > 0 || newY < this.maxScrollY) {\n                    easing = utils.ease.quadratic;\n                }\n\n                this.scrollTo(newX, newY, time, easing);\n                return;\n            }\n\n            this._execEvent('scrollEnd');\n        },\n\n        _resize: function() {\n            var that = this;\n\n            clearTimeout(this.resizeTimeout);\n\n            this.resizeTimeout = setTimeout(function() {\n                that.refresh();\n            }, this.options.resizePolling);\n        },\n\n        resetPosition: function(time) {\n            var x = this.x,\n                y = this.y;\n\n            time = time || 0;\n\n            if (!this.hasHorizontalScroll || this.x > 0) {\n                x = 0;\n            } else if (this.x < this.maxScrollX) {\n                x = this.maxScrollX;\n            }\n\n            if (!this.hasVerticalScroll || this.y > 0) {\n                y = 0;\n            } else if (this.y < this.maxScrollY) {\n                y = this.maxScrollY;\n            }\n\n            if (x == this.x && y == this.y) {\n                return false;\n            }\n\n            this.scrollTo(x, y, time, this.options.bounceEasing);\n\n            return true;\n        },\n\n        disable: function() {\n            this.enabled = false;\n        },\n\n        enable: function() {\n            this.enabled = true;\n        },\n\n        refresh: function() {\n            var rf = this.wrapper.offsetHeight; // Force reflow\n\n            this.wrapperWidth = this.wrapper.clientWidth;\n            this.wrapperHeight = this.wrapper.clientHeight;\n\n            /* REPLACE START: refresh */\n\n            this.scrollerWidth = this.scroller.offsetWidth;\n            this.scrollerHeight = this.scroller.offsetHeight;\n\n            this.maxScrollX = this.wrapperWidth - this.scrollerWidth;\n            this.maxScrollY = this.wrapperHeight - this.scrollerHeight;\n\n            /* REPLACE END: refresh */\n\n            this.hasHorizontalScroll = this.options.scrollX && this.maxScrollX < 0;\n            this.hasVerticalScroll = this.options.scrollY && this.maxScrollY < 0;\n\n            if (!this.hasHorizontalScroll) {\n                this.maxScrollX = 0;\n                this.scrollerWidth = this.wrapperWidth;\n            }\n\n            if (!this.hasVerticalScroll) {\n                this.maxScrollY = 0;\n                this.scrollerHeight = this.wrapperHeight;\n            }\n\n            this.endTime = 0;\n            this.directionX = 0;\n            this.directionY = 0;\n\n            this.wrapperOffset = utils.offset(this.wrapper);\n\n            this._execEvent('refresh');\n\n            this.resetPosition();\n\n            // INSERT POINT: _refresh\n\n        },\n\n        on: function(type, fn) {\n            if (!this._events[type]) {\n                this._events[type] = [];\n            }\n\n            this._events[type].push(fn);\n        },\n\n        off: function(type, fn) {\n            if (!this._events[type]) {\n                return;\n            }\n\n            var index = this._events[type].indexOf(fn);\n\n            if (index > -1) {\n                this._events[type].splice(index, 1);\n            }\n        },\n\n        _execEvent: function(type) {\n            if (!this._events[type]) {\n                return;\n            }\n\n            var i = 0,\n                l = this._events[type].length;\n\n            if (!l) {\n                return;\n            }\n\n            for (; i < l; i++) {\n                this._events[type][i].apply(this, [].slice.call(arguments, 1));\n            }\n        },\n\n        scrollBy: function(x, y, time, easing) {\n            x = this.x + x;\n            y = this.y + y;\n            time = time || 0;\n\n            this.scrollTo(x, y, time, easing);\n        },\n\n        scrollTo: function(x, y, time, easing) {\n            easing = easing || utils.ease.circular;\n\n            this.isInTransition = this.options.useTransition && time > 0;\n\n            if (!time || (this.options.useTransition && easing.style)) {\n                this._transitionTimingFunction(easing.style);\n                this._transitionTime(time);\n                this._translate(x, y);\n            } else {\n                this._animate(x, y, time, easing.fn);\n            }\n        },\n\n        scrollToElement: function(el, time, offsetX, offsetY, easing) {\n            el = el.nodeType ? el : this.scroller.querySelector(el);\n\n            if (!el) {\n                return;\n            }\n\n            var pos = utils.offset(el);\n\n            pos.left -= this.wrapperOffset.left;\n            pos.top -= this.wrapperOffset.top;\n\n            // if offsetX/Y are true we center the element to the screen\n            if (offsetX === true) {\n                offsetX = Math.round(el.offsetWidth / 2 - this.wrapper.offsetWidth / 2);\n            }\n            if (offsetY === true) {\n                offsetY = Math.round(el.offsetHeight / 2 - this.wrapper.offsetHeight / 2);\n            }\n\n            pos.left -= offsetX || 0;\n            pos.top -= offsetY || 0;\n\n            pos.left = pos.left > 0 ? 0 : pos.left < this.maxScrollX ? this.maxScrollX : pos.left;\n            pos.top = pos.top > 0 ? 0 : pos.top < this.maxScrollY ? this.maxScrollY : pos.top;\n\n            time = time === undefined || time === null || time === 'auto' ? Math.max(Math.abs(this.x - pos.left), Math.abs(this.y - pos.top)) : time;\n\n            this.scrollTo(pos.left, pos.top, time, easing);\n        },\n\n        _transitionTime: function(time) {\n            time = time || 0;\n\n            this.scrollerStyle[utils.style.transitionDuration] = time + 'ms';\n\n            if (!time && utils.isBadAndroid) {\n                this.scrollerStyle[utils.style.transitionDuration] = '0.001s';\n            }\n\n\n            if (this.indicators) {\n                for (var i = this.indicators.length; i--;) {\n                    this.indicators[i].transitionTime(time);\n                }\n            }\n\n\n            // INSERT POINT: _transitionTime\n\n        },\n\n        _transitionTimingFunction: function(easing) {\n            this.scrollerStyle[utils.style.transitionTimingFunction] = easing;\n\n\n            if (this.indicators) {\n                for (var i = this.indicators.length; i--;) {\n                    this.indicators[i].transitionTimingFunction(easing);\n                }\n            }\n\n\n            // INSERT POINT: _transitionTimingFunction\n\n        },\n\n        _translate: function(x, y) {\n            if (this.options.useTransform) {\n\n                /* REPLACE START: _translate */\n\n                this.scrollerStyle[utils.style.transform] = 'translate(' + x + 'px,' + y + 'px)' + this.translateZ;\n\n                /* REPLACE END: _translate */\n\n            } else {\n                x = Math.round(x);\n                y = Math.round(y);\n                this.scrollerStyle.left = x + 'px';\n                this.scrollerStyle.top = y + 'px';\n            }\n\n            this.x = x;\n            this.y = y;\n\n\n            if (this.indicators) {\n                for (var i = this.indicators.length; i--;) {\n                    this.indicators[i].updatePosition();\n                }\n            }\n\n\n            // INSERT POINT: _translate\n\n        },\n\n        _initEvents: function(remove) {\n            var eventType = remove ? utils.removeEvent : utils.addEvent,\n                target = this.options.bindToWrapper ? this.wrapper : window;\n\n            eventType(window, 'orientationchange', this);\n            eventType(window, 'resize', this);\n\n            if (this.options.click) {\n                eventType(this.wrapper, 'click', this, true);\n            }\n\n            if (!this.options.disableMouse) {\n                eventType(this.wrapper, 'mousedown', this);\n                eventType(target, 'mousemove', this);\n                eventType(target, 'mousecancel', this);\n                eventType(target, 'mouseup', this);\n            }\n\n            if (utils.hasPointer && !this.options.disablePointer) {\n                eventType(this.wrapper, utils.prefixPointerEvent('pointerdown'), this);\n                eventType(target, utils.prefixPointerEvent('pointermove'), this);\n                eventType(target, utils.prefixPointerEvent('pointercancel'), this);\n                eventType(target, utils.prefixPointerEvent('pointerup'), this);\n            }\n\n            if (utils.hasTouch && !this.options.disableTouch) {\n                eventType(this.wrapper, 'touchstart', this);\n                eventType(target, 'touchmove', this);\n                eventType(target, 'touchcancel', this);\n                eventType(target, 'touchend', this);\n            }\n\n            eventType(this.scroller, 'transitionend', this);\n            eventType(this.scroller, 'webkitTransitionEnd', this);\n            eventType(this.scroller, 'oTransitionEnd', this);\n            eventType(this.scroller, 'MSTransitionEnd', this);\n        },\n\n        getComputedPosition: function() {\n            var matrix = window.getComputedStyle(this.scroller, null),\n                x, y;\n\n            if (this.options.useTransform) {\n                matrix = matrix[utils.style.transform].split(')')[0].split(', ');\n                x = +(matrix[12] || matrix[4]);\n                y = +(matrix[13] || matrix[5]);\n            } else {\n                x = +matrix.left.replace(/[^-\\d.]/g, '');\n                y = +matrix.top.replace(/[^-\\d.]/g, '');\n            }\n\n            return {\n                x: x,\n                y: y\n            };\n        },\n\n        _initIndicators: function() {\n            var interactive = this.options.interactiveScrollbars,\n                customStyle = typeof this.options.scrollbars != 'string',\n                indicators = [],\n                indicator;\n\n            var that = this;\n\n            this.indicators = [];\n\n            if (this.options.scrollbars) {\n                // Vertical scrollbar\n                if (this.options.scrollY) {\n                    indicator = {\n                        el: createDefaultScrollbar('v', interactive, this.options.scrollbars),\n                        interactive: interactive,\n                        defaultScrollbars: true,\n                        customStyle: customStyle,\n                        resize: this.options.resizeScrollbars,\n                        shrink: this.options.shrinkScrollbars,\n                        fade: this.options.fadeScrollbars,\n                        listenX: false\n                    };\n\n                    this.wrapper.appendChild(indicator.el);\n                    indicators.push(indicator);\n                }\n\n                // Horizontal scrollbar\n                if (this.options.scrollX) {\n                    indicator = {\n                        el: createDefaultScrollbar('h', interactive, this.options.scrollbars),\n                        interactive: interactive,\n                        defaultScrollbars: true,\n                        customStyle: customStyle,\n                        resize: this.options.resizeScrollbars,\n                        shrink: this.options.shrinkScrollbars,\n                        fade: this.options.fadeScrollbars,\n                        listenY: false\n                    };\n\n                    this.wrapper.appendChild(indicator.el);\n                    indicators.push(indicator);\n                }\n            }\n\n            if (this.options.indicators) {\n                // TODO: check concat compatibility\n                indicators = indicators.concat(this.options.indicators);\n            }\n\n            for (var i = indicators.length; i--;) {\n                this.indicators.push(new Indicator(this, indicators[i]));\n            }\n\n            // TODO: check if we can use array.map (wide compatibility and performance issues)\n            function _indicatorsMap(fn) {\n                for (var i = that.indicators.length; i--;) {\n                    fn.call(that.indicators[i]);\n                }\n            }\n\n            if (this.options.fadeScrollbars) {\n                this.on('scrollEnd', function() {\n                    _indicatorsMap(function() {\n                        this.fade();\n                    });\n                });\n\n                this.on('scrollCancel', function() {\n                    _indicatorsMap(function() {\n                        this.fade();\n                    });\n                });\n\n                this.on('scrollStart', function() {\n                    _indicatorsMap(function() {\n                        this.fade(1);\n                    });\n                });\n\n                this.on('beforeScrollStart', function() {\n                    _indicatorsMap(function() {\n                        this.fade(1, true);\n                    });\n                });\n            }\n\n\n            this.on('refresh', function() {\n                _indicatorsMap(function() {\n                    this.refresh();\n                });\n            });\n\n            this.on('destroy', function() {\n                _indicatorsMap(function() {\n                    this.destroy();\n                });\n\n                delete this.indicators;\n            });\n        },\n\n        _initWheel: function() {\n            utils.addEvent(this.wrapper, 'wheel', this);\n            utils.addEvent(this.wrapper, 'mousewheel', this);\n            utils.addEvent(this.wrapper, 'DOMMouseScroll', this);\n\n            this.on('destroy', function() {\n                utils.removeEvent(this.wrapper, 'wheel', this);\n                utils.removeEvent(this.wrapper, 'mousewheel', this);\n                utils.removeEvent(this.wrapper, 'DOMMouseScroll', this);\n            });\n        },\n\n        _wheel: function(e) {\n            if (!this.enabled) {\n                return;\n            }\n\n            e.preventDefault();\n            e.stopPropagation();\n\n            var wheelDeltaX, wheelDeltaY,\n                newX, newY,\n                that = this;\n\n            if (this.wheelTimeout === undefined) {\n                that._execEvent('scrollStart');\n            }\n\n            // Execute the scrollEnd event after 400ms the wheel stopped scrolling\n            clearTimeout(this.wheelTimeout);\n            this.wheelTimeout = setTimeout(function() {\n                that._execEvent('scrollEnd');\n                that.wheelTimeout = undefined;\n            }, 400);\n\n            if ('deltaX' in e) {\n                if (e.deltaMode === 1) {\n                    wheelDeltaX = -e.deltaX * this.options.mouseWheelSpeed;\n                    wheelDeltaY = -e.deltaY * this.options.mouseWheelSpeed;\n                } else {\n                    wheelDeltaX = -e.deltaX;\n                    wheelDeltaY = -e.deltaY;\n                }\n            } else if ('wheelDeltaX' in e) {\n                wheelDeltaX = e.wheelDeltaX / 120 * this.options.mouseWheelSpeed;\n                wheelDeltaY = e.wheelDeltaY / 120 * this.options.mouseWheelSpeed;\n            } else if ('wheelDelta' in e) {\n                wheelDeltaX = wheelDeltaY = e.wheelDelta / 120 * this.options.mouseWheelSpeed;\n            } else if ('detail' in e) {\n                wheelDeltaX = wheelDeltaY = -e.detail / 3 * this.options.mouseWheelSpeed;\n            } else {\n                return;\n            }\n\n            wheelDeltaX *= this.options.invertWheelDirection;\n            wheelDeltaY *= this.options.invertWheelDirection;\n\n            if (!this.hasVerticalScroll) {\n                wheelDeltaX = wheelDeltaY;\n                wheelDeltaY = 0;\n            }\n\n            if (this.options.snap) {\n                newX = this.currentPage.pageX;\n                newY = this.currentPage.pageY;\n\n                if (wheelDeltaX > 0) {\n                    newX--;\n                } else if (wheelDeltaX < 0) {\n                    newX++;\n                }\n\n                if (wheelDeltaY > 0) {\n                    newY--;\n                } else if (wheelDeltaY < 0) {\n                    newY++;\n                }\n\n                this.goToPage(newX, newY);\n\n                return;\n            }\n\n            newX = this.x + Math.round(this.hasHorizontalScroll ? wheelDeltaX : 0);\n            newY = this.y + Math.round(this.hasVerticalScroll ? wheelDeltaY : 0);\n\n            if (newX > 0) {\n                newX = 0;\n            } else if (newX < this.maxScrollX) {\n                newX = this.maxScrollX;\n            }\n\n            if (newY > 0) {\n                newY = 0;\n            } else if (newY < this.maxScrollY) {\n                newY = this.maxScrollY;\n            }\n\n            this.scrollTo(newX, newY, 0);\n\n            if (this.options.probeType > 1) {\n                this._execEvent('scroll');\n            }\n\n            // INSERT POINT: _wheel\n        },\n\n        _initSnap: function() {\n            this.currentPage = {};\n\n            if (typeof this.options.snap == 'string') {\n                this.options.snap = this.scroller.querySelectorAll(this.options.snap);\n            }\n\n            this.on('refresh', function() {\n                var i = 0,\n                    l,\n                    m = 0,\n                    n,\n                    cx, cy,\n                    x = 0,\n                    y,\n                    stepX = this.options.snapStepX || this.wrapperWidth,\n                    stepY = this.options.snapStepY || this.wrapperHeight,\n                    el;\n\n                this.pages = [];\n\n                if (!this.wrapperWidth || !this.wrapperHeight || !this.scrollerWidth || !this.scrollerHeight) {\n                    return;\n                }\n\n                if (this.options.snap === true) {\n                    cx = Math.round(stepX / 2);\n                    cy = Math.round(stepY / 2);\n\n                    while (x > -this.scrollerWidth) {\n                        this.pages[i] = [];\n                        l = 0;\n                        y = 0;\n\n                        while (y > -this.scrollerHeight) {\n                            this.pages[i][l] = {\n                                x: Math.max(x, this.maxScrollX),\n                                y: Math.max(y, this.maxScrollY),\n                                width: stepX,\n                                height: stepY,\n                                cx: x - cx,\n                                cy: y - cy\n                            };\n\n                            y -= stepY;\n                            l++;\n                        }\n\n                        x -= stepX;\n                        i++;\n                    }\n                } else {\n                    el = this.options.snap;\n                    l = el.length;\n                    n = -1;\n\n                    for (; i < l; i++) {\n                        if (i === 0 || el[i].offsetLeft <= el[i - 1].offsetLeft) {\n                            m = 0;\n                            n++;\n                        }\n\n                        if (!this.pages[m]) {\n                            this.pages[m] = [];\n                        }\n\n                        x = Math.max(-el[i].offsetLeft, this.maxScrollX);\n                        y = Math.max(-el[i].offsetTop, this.maxScrollY);\n                        cx = x - Math.round(el[i].offsetWidth / 2);\n                        cy = y - Math.round(el[i].offsetHeight / 2);\n\n                        this.pages[m][n] = {\n                            x: x,\n                            y: y,\n                            width: el[i].offsetWidth,\n                            height: el[i].offsetHeight,\n                            cx: cx,\n                            cy: cy\n                        };\n\n                        if (x > this.maxScrollX) {\n                            m++;\n                        }\n                    }\n                }\n\n                this.goToPage(this.currentPage.pageX || 0, this.currentPage.pageY || 0, 0);\n\n                // Update snap threshold if needed\n                if (this.options.snapThreshold % 1 === 0) {\n                    this.snapThresholdX = this.options.snapThreshold;\n                    this.snapThresholdY = this.options.snapThreshold;\n                } else {\n                    this.snapThresholdX = Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width * this.options.snapThreshold);\n                    this.snapThresholdY = Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height * this.options.snapThreshold);\n                }\n            });\n\n            this.on('flick', function() {\n                var time = this.options.snapSpeed || Math.max(\n                    Math.max(\n                        Math.min(Math.abs(this.x - this.startX), 1000),\n                        Math.min(Math.abs(this.y - this.startY), 1000)\n                    ), 300);\n\n                this.goToPage(\n                    this.currentPage.pageX + this.directionX,\n                    this.currentPage.pageY + this.directionY,\n                    time\n                );\n            });\n        },\n\n        _nearestSnap: function(x, y) {\n            if (!this.pages.length) {\n                return {\n                    x: 0,\n                    y: 0,\n                    pageX: 0,\n                    pageY: 0\n                };\n            }\n\n            var i = 0,\n                l = this.pages.length,\n                m = 0;\n\n            // Check if we exceeded the snap threshold\n            if (Math.abs(x - this.absStartX) < this.snapThresholdX &&\n                Math.abs(y - this.absStartY) < this.snapThresholdY) {\n                return this.currentPage;\n            }\n\n            if (x > 0) {\n                x = 0;\n            } else if (x < this.maxScrollX) {\n                x = this.maxScrollX;\n            }\n\n            if (y > 0) {\n                y = 0;\n            } else if (y < this.maxScrollY) {\n                y = this.maxScrollY;\n            }\n\n            for (; i < l; i++) {\n                if (x >= this.pages[i][0].cx) {\n                    x = this.pages[i][0].x;\n                    break;\n                }\n            }\n\n            l = this.pages[i].length;\n\n            for (; m < l; m++) {\n                if (y >= this.pages[0][m].cy) {\n                    y = this.pages[0][m].y;\n                    break;\n                }\n            }\n\n            if (i == this.currentPage.pageX) {\n                i += this.directionX;\n\n                if (i < 0) {\n                    i = 0;\n                } else if (i >= this.pages.length) {\n                    i = this.pages.length - 1;\n                }\n\n                x = this.pages[i][0].x;\n            }\n\n            if (m == this.currentPage.pageY) {\n                m += this.directionY;\n\n                if (m < 0) {\n                    m = 0;\n                } else if (m >= this.pages[0].length) {\n                    m = this.pages[0].length - 1;\n                }\n\n                y = this.pages[0][m].y;\n            }\n\n            return {\n                x: x,\n                y: y,\n                pageX: i,\n                pageY: m\n            };\n        },\n\n        goToPage: function(x, y, time, easing) {\n            easing = easing || this.options.bounceEasing;\n\n            if (x >= this.pages.length) {\n                x = this.pages.length - 1;\n            } else if (x < 0) {\n                x = 0;\n            }\n\n            if (y >= this.pages[x].length) {\n                y = this.pages[x].length - 1;\n            } else if (y < 0) {\n                y = 0;\n            }\n\n            var posX = this.pages[x][y].x,\n                posY = this.pages[x][y].y;\n\n            time = time === undefined ? this.options.snapSpeed || Math.max(\n                Math.max(\n                    Math.min(Math.abs(posX - this.x), 1000),\n                    Math.min(Math.abs(posY - this.y), 1000)\n                ), 300) : time;\n\n            this.currentPage = {\n                x: posX,\n                y: posY,\n                pageX: x,\n                pageY: y\n            };\n\n            this.scrollTo(posX, posY, time, easing);\n        },\n\n        next: function(time, easing) {\n            var x = this.currentPage.pageX,\n                y = this.currentPage.pageY;\n\n            x++;\n\n            if (x >= this.pages.length && this.hasVerticalScroll) {\n                x = 0;\n                y++;\n            }\n\n            this.goToPage(x, y, time, easing);\n        },\n\n        prev: function(time, easing) {\n            var x = this.currentPage.pageX,\n                y = this.currentPage.pageY;\n\n            x--;\n\n            if (x < 0 && this.hasVerticalScroll) {\n                x = 0;\n                y--;\n            }\n\n            this.goToPage(x, y, time, easing);\n        },\n\n        _initKeys: function(e) {\n            // default key bindings\n            var keys = {\n                pageUp: 33,\n                pageDown: 34,\n                end: 35,\n                home: 36,\n                left: 37,\n                up: 38,\n                right: 39,\n                down: 40\n            };\n            var i;\n\n            // if you give me characters I give you keycode\n            if (typeof this.options.keyBindings == 'object') {\n                for (i in this.options.keyBindings) {\n                    if (typeof this.options.keyBindings[i] == 'string') {\n                        this.options.keyBindings[i] = this.options.keyBindings[i].toUpperCase().charCodeAt(0);\n                    }\n                }\n            } else {\n                this.options.keyBindings = {};\n            }\n\n            for (i in keys) {\n                this.options.keyBindings[i] = this.options.keyBindings[i] || keys[i];\n            }\n\n            utils.addEvent(window, 'keydown', this);\n\n            this.on('destroy', function() {\n                utils.removeEvent(window, 'keydown', this);\n            });\n        },\n\n        _key: function(e) {\n            if (!this.enabled) {\n                return;\n            }\n\n            var snap = this.options.snap, // we are using this alot, better to cache it\n                newX = snap ? this.currentPage.pageX : this.x,\n                newY = snap ? this.currentPage.pageY : this.y,\n                now = utils.getTime(),\n                prevTime = this.keyTime || 0,\n                acceleration = 0.250,\n                pos;\n\n            if (this.options.useTransition && this.isInTransition) {\n                pos = this.getComputedPosition();\n\n                this._translate(Math.round(pos.x), Math.round(pos.y));\n                this.isInTransition = false;\n            }\n\n            this.keyAcceleration = now - prevTime < 200 ? Math.min(this.keyAcceleration + acceleration, 50) : 0;\n\n            switch (e.keyCode) {\n                case this.options.keyBindings.pageUp:\n                    if (this.hasHorizontalScroll && !this.hasVerticalScroll) {\n                        newX += snap ? 1 : this.wrapperWidth;\n                    } else {\n                        newY += snap ? 1 : this.wrapperHeight;\n                    }\n                    break;\n                case this.options.keyBindings.pageDown:\n                    if (this.hasHorizontalScroll && !this.hasVerticalScroll) {\n                        newX -= snap ? 1 : this.wrapperWidth;\n                    } else {\n                        newY -= snap ? 1 : this.wrapperHeight;\n                    }\n                    break;\n                case this.options.keyBindings.end:\n                    newX = snap ? this.pages.length - 1 : this.maxScrollX;\n                    newY = snap ? this.pages[0].length - 1 : this.maxScrollY;\n                    break;\n                case this.options.keyBindings.home:\n                    newX = 0;\n                    newY = 0;\n                    break;\n                case this.options.keyBindings.left:\n                    newX += snap ? -1 : 5 + this.keyAcceleration >> 0;\n                    break;\n                case this.options.keyBindings.up:\n                    newY += snap ? 1 : 5 + this.keyAcceleration >> 0;\n                    break;\n                case this.options.keyBindings.right:\n                    newX -= snap ? -1 : 5 + this.keyAcceleration >> 0;\n                    break;\n                case this.options.keyBindings.down:\n                    newY -= snap ? 1 : 5 + this.keyAcceleration >> 0;\n                    break;\n                default:\n                    return;\n            }\n\n            if (snap) {\n                this.goToPage(newX, newY);\n                return;\n            }\n\n            if (newX > 0) {\n                newX = 0;\n                this.keyAcceleration = 0;\n            } else if (newX < this.maxScrollX) {\n                newX = this.maxScrollX;\n                this.keyAcceleration = 0;\n            }\n\n            if (newY > 0) {\n                newY = 0;\n                this.keyAcceleration = 0;\n            } else if (newY < this.maxScrollY) {\n                newY = this.maxScrollY;\n                this.keyAcceleration = 0;\n            }\n\n            this.scrollTo(newX, newY, 0);\n\n            this.keyTime = now;\n        },\n\n        _animate: function(destX, destY, duration, easingFn) {\n            var that = this,\n                startX = this.x,\n                startY = this.y,\n                startTime = utils.getTime(),\n                destTime = startTime + duration;\n\n            function step() {\n                var now = utils.getTime(),\n                    newX, newY,\n                    easing;\n\n                if (now >= destTime) {\n                    that.isAnimating = false;\n                    that._translate(destX, destY);\n\n                    if (!that.resetPosition(that.options.bounceTime)) {\n                        that._execEvent('scrollEnd');\n                    }\n\n                    return;\n                }\n\n                now = (now - startTime) / duration;\n                easing = easingFn(now);\n                newX = (destX - startX) * easing + startX;\n                newY = (destY - startY) * easing + startY;\n                that._translate(newX, newY);\n\n                if (that.isAnimating) {\n                    rAF(step);\n                }\n\n                if (that.options.probeType == 3) {\n                    that._execEvent('scroll');\n                }\n            }\n\n            this.isAnimating = true;\n            step();\n        },\n\n        handleEvent: function(e) {\n            switch (e.type) {\n                case 'touchstart':\n                case 'pointerdown':\n                case 'MSPointerDown':\n                case 'mousedown':\n                    this._start(e);\n                    break;\n                case 'touchmove':\n                case 'pointermove':\n                case 'MSPointerMove':\n                case 'mousemove':\n                    this._move(e);\n                    break;\n                case 'touchend':\n                case 'pointerup':\n                case 'MSPointerUp':\n                case 'mouseup':\n                case 'touchcancel':\n                case 'pointercancel':\n                case 'MSPointerCancel':\n                case 'mousecancel':\n                    this._end(e);\n                    break;\n                case 'orientationchange':\n                case 'resize':\n                    this._resize();\n                    break;\n                case 'transitionend':\n                case 'webkitTransitionEnd':\n                case 'oTransitionEnd':\n                case 'MSTransitionEnd':\n                    this._transitionEnd(e);\n                    break;\n                case 'wheel':\n                case 'DOMMouseScroll':\n                case 'mousewheel':\n                    this._wheel(e);\n                    break;\n                case 'keydown':\n                    this._key(e);\n                    break;\n                case 'click':\n                    if (!e._constructed) {\n                        e.preventDefault();\n                        e.stopPropagation();\n                    }\n                    break;\n            }\n        }\n    };\n\n    function createDefaultScrollbar(direction, interactive, type) {\n        var scrollbar = document.createElement('div'),\n            indicator = document.createElement('div');\n\n        if (type === true) {\n            scrollbar.style.cssText = 'position:absolute;z-index:9999';\n            indicator.style.cssText = '-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px';\n        }\n\n        indicator.className = 'iScrollIndicator';\n\n        if (direction == 'h') {\n            if (type === true) {\n                scrollbar.style.cssText += ';height:7px;left:2px;right:2px;bottom:0';\n                indicator.style.height = '100%';\n            }\n            scrollbar.className = 'iScrollHorizontalScrollbar';\n        } else {\n            if (type === true) {\n                scrollbar.style.cssText += ';width:7px;bottom:2px;top:2px;right:1px';\n                indicator.style.width = '100%';\n            }\n            scrollbar.className = 'iScrollVerticalScrollbar';\n        }\n\n        scrollbar.style.cssText += ';overflow:hidden';\n\n        if (!interactive) {\n            scrollbar.style.pointerEvents = 'none';\n        }\n\n        scrollbar.appendChild(indicator);\n\n        return scrollbar;\n    }\n\n    function Indicator(scroller, options) {\n        this.wrapper = typeof options.el == 'string' ? document.querySelector(options.el) : options.el;\n        this.wrapperStyle = this.wrapper.style;\n        this.indicator = this.wrapper.children[0];\n        this.indicatorStyle = this.indicator.style;\n        this.scroller = scroller;\n\n        this.options = {\n            listenX: true,\n            listenY: true,\n            interactive: false,\n            resize: true,\n            defaultScrollbars: false,\n            shrink: false,\n            fade: false,\n            speedRatioX: 0,\n            speedRatioY: 0\n        };\n\n        for (var i in options) {\n            this.options[i] = options[i];\n        }\n\n        this.sizeRatioX = 1;\n        this.sizeRatioY = 1;\n        this.maxPosX = 0;\n        this.maxPosY = 0;\n\n        if (this.options.interactive) {\n            if (!this.options.disableTouch) {\n                utils.addEvent(this.indicator, 'touchstart', this);\n                utils.addEvent(window, 'touchend', this);\n            }\n            if (!this.options.disablePointer) {\n                utils.addEvent(this.indicator, utils.prefixPointerEvent('pointerdown'), this);\n                utils.addEvent(window, utils.prefixPointerEvent('pointerup'), this);\n            }\n            if (!this.options.disableMouse) {\n                utils.addEvent(this.indicator, 'mousedown', this);\n                utils.addEvent(window, 'mouseup', this);\n            }\n        }\n\n        if (this.options.fade) {\n            this.wrapperStyle[utils.style.transform] = this.scroller.translateZ;\n            this.wrapperStyle[utils.style.transitionDuration] = utils.isBadAndroid ? '0.001s' : '0ms';\n            this.wrapperStyle.opacity = '0';\n        }\n    }\n\n    Indicator.prototype = {\n        handleEvent: function(e) {\n            switch (e.type) {\n                case 'touchstart':\n                case 'pointerdown':\n                case 'MSPointerDown':\n                case 'mousedown':\n                    this._start(e);\n                    break;\n                case 'touchmove':\n                case 'pointermove':\n                case 'MSPointerMove':\n                case 'mousemove':\n                    this._move(e);\n                    break;\n                case 'touchend':\n                case 'pointerup':\n                case 'MSPointerUp':\n                case 'mouseup':\n                case 'touchcancel':\n                case 'pointercancel':\n                case 'MSPointerCancel':\n                case 'mousecancel':\n                    this._end(e);\n                    break;\n            }\n        },\n\n        destroy: function() {\n            if (this.options.interactive) {\n                utils.removeEvent(this.indicator, 'touchstart', this);\n                utils.removeEvent(this.indicator, utils.prefixPointerEvent('pointerdown'), this);\n                utils.removeEvent(this.indicator, 'mousedown', this);\n\n                utils.removeEvent(window, 'touchmove', this);\n                utils.removeEvent(window, utils.prefixPointerEvent('pointermove'), this);\n                utils.removeEvent(window, 'mousemove', this);\n\n                utils.removeEvent(window, 'touchend', this);\n                utils.removeEvent(window, utils.prefixPointerEvent('pointerup'), this);\n                utils.removeEvent(window, 'mouseup', this);\n            }\n\n            if (this.options.defaultScrollbars) {\n                this.wrapper.parentNode.removeChild(this.wrapper);\n            }\n        },\n\n        _start: function(e) {\n            var point = e.touches ? e.touches[0] : e;\n\n            e.preventDefault();\n            e.stopPropagation();\n\n            this.transitionTime();\n\n            this.initiated = true;\n            this.moved = false;\n            this.lastPointX = point.pageX;\n            this.lastPointY = point.pageY;\n\n            this.startTime = utils.getTime();\n\n            if (!this.options.disableTouch) {\n                utils.addEvent(window, 'touchmove', this);\n            }\n            if (!this.options.disablePointer) {\n                utils.addEvent(window, utils.prefixPointerEvent('pointermove'), this);\n            }\n            if (!this.options.disableMouse) {\n                utils.addEvent(window, 'mousemove', this);\n            }\n\n            this.scroller._execEvent('beforeScrollStart');\n        },\n\n        _move: function(e) {\n            var point = e.touches ? e.touches[0] : e,\n                deltaX, deltaY,\n                newX, newY,\n                timestamp = utils.getTime();\n\n            if (!this.moved) {\n                this.scroller._execEvent('scrollStart');\n            }\n\n            this.moved = true;\n\n            deltaX = point.pageX - this.lastPointX;\n            this.lastPointX = point.pageX;\n\n            deltaY = point.pageY - this.lastPointY;\n            this.lastPointY = point.pageY;\n\n            newX = this.x + deltaX;\n            newY = this.y + deltaY;\n\n            this._pos(newX, newY);\n\n\n            if (this.scroller.options.probeType == 1 && timestamp - this.startTime > 300) {\n                this.startTime = timestamp;\n                this.scroller._execEvent('scroll');\n            } else if (this.scroller.options.probeType > 1) {\n                this.scroller._execEvent('scroll');\n            }\n\n\n            // INSERT POINT: indicator._move\n\n            e.preventDefault();\n            e.stopPropagation();\n        },\n\n        _end: function(e) {\n            if (!this.initiated) {\n                return;\n            }\n\n            this.initiated = false;\n\n            e.preventDefault();\n            e.stopPropagation();\n\n            utils.removeEvent(window, 'touchmove', this);\n            utils.removeEvent(window, utils.prefixPointerEvent('pointermove'), this);\n            utils.removeEvent(window, 'mousemove', this);\n\n            if (this.scroller.options.snap) {\n                var snap = this.scroller._nearestSnap(this.scroller.x, this.scroller.y);\n\n                var time = this.options.snapSpeed || Math.max(\n                    Math.max(\n                        Math.min(Math.abs(this.scroller.x - snap.x), 1000),\n                        Math.min(Math.abs(this.scroller.y - snap.y), 1000)\n                    ), 300);\n\n                if (this.scroller.x != snap.x || this.scroller.y != snap.y) {\n                    this.scroller.directionX = 0;\n                    this.scroller.directionY = 0;\n                    this.scroller.currentPage = snap;\n                    this.scroller.scrollTo(snap.x, snap.y, time, this.scroller.options.bounceEasing);\n                }\n            }\n\n            if (this.moved) {\n                this.scroller._execEvent('scrollEnd');\n            }\n        },\n\n        transitionTime: function(time) {\n            time = time || 0;\n            this.indicatorStyle[utils.style.transitionDuration] = time + 'ms';\n\n            if (!time && utils.isBadAndroid) {\n                this.indicatorStyle[utils.style.transitionDuration] = '0.001s';\n            }\n        },\n\n        transitionTimingFunction: function(easing) {\n            this.indicatorStyle[utils.style.transitionTimingFunction] = easing;\n        },\n\n        refresh: function() {\n            this.transitionTime();\n\n            if (this.options.listenX && !this.options.listenY) {\n                this.indicatorStyle.display = this.scroller.hasHorizontalScroll ? 'block' : 'none';\n            } else if (this.options.listenY && !this.options.listenX) {\n                this.indicatorStyle.display = this.scroller.hasVerticalScroll ? 'block' : 'none';\n            } else {\n                this.indicatorStyle.display = this.scroller.hasHorizontalScroll || this.scroller.hasVerticalScroll ? 'block' : 'none';\n            }\n\n            if (this.scroller.hasHorizontalScroll && this.scroller.hasVerticalScroll) {\n                utils.addClass(this.wrapper, 'iScrollBothScrollbars');\n                utils.removeClass(this.wrapper, 'iScrollLoneScrollbar');\n\n                if (this.options.defaultScrollbars && this.options.customStyle) {\n                    if (this.options.listenX) {\n                        this.wrapper.style.right = '8px';\n                    } else {\n                        this.wrapper.style.bottom = '8px';\n                    }\n                }\n            } else {\n                utils.removeClass(this.wrapper, 'iScrollBothScrollbars');\n                utils.addClass(this.wrapper, 'iScrollLoneScrollbar');\n\n                if (this.options.defaultScrollbars && this.options.customStyle) {\n                    if (this.options.listenX) {\n                        this.wrapper.style.right = '2px';\n                    } else {\n                        this.wrapper.style.bottom = '2px';\n                    }\n                }\n            }\n\n            var r = this.wrapper.offsetHeight; // force refresh\n\n            if (this.options.listenX) {\n                this.wrapperWidth = this.wrapper.clientWidth;\n                if (this.options.resize) {\n                    this.indicatorWidth = Math.max(Math.round(this.wrapperWidth * this.wrapperWidth / (this.scroller.scrollerWidth || this.wrapperWidth || 1)), 8);\n                    this.indicatorStyle.width = this.indicatorWidth + 'px';\n                } else {\n                    this.indicatorWidth = this.indicator.clientWidth;\n                }\n\n                this.maxPosX = this.wrapperWidth - this.indicatorWidth;\n\n                if (this.options.shrink == 'clip') {\n                    this.minBoundaryX = -this.indicatorWidth + 8;\n                    this.maxBoundaryX = this.wrapperWidth - 8;\n                } else {\n                    this.minBoundaryX = 0;\n                    this.maxBoundaryX = this.maxPosX;\n                }\n\n                this.sizeRatioX = this.options.speedRatioX || (this.scroller.maxScrollX && (this.maxPosX / this.scroller.maxScrollX));\n            }\n\n            if (this.options.listenY) {\n                this.wrapperHeight = this.wrapper.clientHeight;\n                if (this.options.resize) {\n                    this.indicatorHeight = Math.max(Math.round(this.wrapperHeight * this.wrapperHeight / (this.scroller.scrollerHeight || this.wrapperHeight || 1)), 8);\n                    this.indicatorStyle.height = this.indicatorHeight + 'px';\n                } else {\n                    this.indicatorHeight = this.indicator.clientHeight;\n                }\n\n                this.maxPosY = this.wrapperHeight - this.indicatorHeight;\n\n                if (this.options.shrink == 'clip') {\n                    this.minBoundaryY = -this.indicatorHeight + 8;\n                    this.maxBoundaryY = this.wrapperHeight - 8;\n                } else {\n                    this.minBoundaryY = 0;\n                    this.maxBoundaryY = this.maxPosY;\n                }\n\n                this.maxPosY = this.wrapperHeight - this.indicatorHeight;\n                this.sizeRatioY = this.options.speedRatioY || (this.scroller.maxScrollY && (this.maxPosY / this.scroller.maxScrollY));\n            }\n\n            this.updatePosition();\n        },\n\n        updatePosition: function() {\n            var x = this.options.listenX && Math.round(this.sizeRatioX * this.scroller.x) || 0,\n                y = this.options.listenY && Math.round(this.sizeRatioY * this.scroller.y) || 0;\n\n            if (!this.options.ignoreBoundaries) {\n                if (x < this.minBoundaryX) {\n                    if (this.options.shrink == 'scale') {\n                        this.width = Math.max(this.indicatorWidth + x, 8);\n                        this.indicatorStyle.width = this.width + 'px';\n                    }\n                    x = this.minBoundaryX;\n                } else if (x > this.maxBoundaryX) {\n                    if (this.options.shrink == 'scale') {\n                        this.width = Math.max(this.indicatorWidth - (x - this.maxPosX), 8);\n                        this.indicatorStyle.width = this.width + 'px';\n                        x = this.maxPosX + this.indicatorWidth - this.width;\n                    } else {\n                        x = this.maxBoundaryX;\n                    }\n                } else if (this.options.shrink == 'scale' && this.width != this.indicatorWidth) {\n                    this.width = this.indicatorWidth;\n                    this.indicatorStyle.width = this.width + 'px';\n                }\n\n                if (y < this.minBoundaryY) {\n                    if (this.options.shrink == 'scale') {\n                        this.height = Math.max(this.indicatorHeight + y * 3, 8);\n                        this.indicatorStyle.height = this.height + 'px';\n                    }\n                    y = this.minBoundaryY;\n                } else if (y > this.maxBoundaryY) {\n                    if (this.options.shrink == 'scale') {\n                        this.height = Math.max(this.indicatorHeight - (y - this.maxPosY) * 3, 8);\n                        this.indicatorStyle.height = this.height + 'px';\n                        y = this.maxPosY + this.indicatorHeight - this.height;\n                    } else {\n                        y = this.maxBoundaryY;\n                    }\n                } else if (this.options.shrink == 'scale' && this.height != this.indicatorHeight) {\n                    this.height = this.indicatorHeight;\n                    this.indicatorStyle.height = this.height + 'px';\n                }\n            }\n\n            this.x = x;\n            this.y = y;\n\n            if (this.scroller.options.useTransform) {\n                this.indicatorStyle[utils.style.transform] = 'translate(' + x + 'px,' + y + 'px)' + this.scroller.translateZ;\n            } else {\n                this.indicatorStyle.left = x + 'px';\n                this.indicatorStyle.top = y + 'px';\n            }\n        },\n\n        _pos: function(x, y) {\n            if (x < 0) {\n                x = 0;\n            } else if (x > this.maxPosX) {\n                x = this.maxPosX;\n            }\n\n            if (y < 0) {\n                y = 0;\n            } else if (y > this.maxPosY) {\n                y = this.maxPosY;\n            }\n\n            x = this.options.listenX ? Math.round(x / this.sizeRatioX) : this.scroller.x;\n            y = this.options.listenY ? Math.round(y / this.sizeRatioY) : this.scroller.y;\n\n            this.scroller.scrollTo(x, y);\n        },\n\n        fade: function(val, hold) {\n            if (hold && !this.visible) {\n                return;\n            }\n\n            clearTimeout(this.fadeTimeout);\n            this.fadeTimeout = null;\n\n            var time = val ? 250 : 500,\n                delay = val ? 0 : 300;\n\n            val = val ? '1' : '0';\n\n            this.wrapperStyle[utils.style.transitionDuration] = time + 'ms';\n\n            this.fadeTimeout = setTimeout((function(val) {\n                this.wrapperStyle.opacity = val;\n                this.visible = +val;\n            }).bind(this, val), delay);\n        }\n    };\n\n    if (typeof module != 'undefined' && module.exports) {\n        module.exports = IScroll;\n    } else if (typeof define == 'function' && define.amd) {\n        define(function() {\n            return IScroll;\n        });\n    } else {\n        window.IScroll = IScroll;\n    }\n})();"]}