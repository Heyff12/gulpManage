{"version":3,"sources":["plug/jquery.jsonp.js"],"names":["$","noop","genericCallback","data","lastValue","callIfDefined","method","object","parameters","apply","context","qMarkOrAmp","url","test","jsonp","xOptions","notifySuccess","json","done","cleanUp","pageCacheFlag","pageCache","s","dataFilter","successCallback","STR_SUCCESS","completeCallback","notifyError","type","STR_TIMEOUT","errorCallback","extend","xOptionsDefaults","pageCached","firstChild","script","scriptAfter","timeoutTimer","success","error","complete","callbackParameter","successCallbackName","callback","cacheFlag","cache","charset","timeout","Deferred","defer","fail","resolve","reject","promise","abort","beforeSend","STR_EMPTY","param","traditional","encodeURIComponent","Date","getTime","replace","win","STR_SCRIPT_TAG","id","STR_JQUERY_JSONP","count","STR_CHARSET","opera","version","text","STR_ON_ERROR","STR_ASYNC","oldIE","htmlFor","event","STR_ON_CLICK","STR_ON_LOAD","STR_ON_READY_STATE_CHANGE","result","STR_READY_STATE","_","STR_ERROR","src","i","clearTimeout","head","STR_REMOVE_CHILD","STR_INSERT_BEFORE","setTimeout","STR_ON","window","document","documentElement","location","href","html","find","length","setup","jQuery"],"mappings":"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","file":"../../../js/plug/jquery.jsonp.js","sourcesContent":["/*\r\n * jQuery JSONP Core Plugin 2.4.0 (2012-08-21)\r\n *\r\n * https://github.com/jaubourg/jquery-jsonp\r\n *\r\n * Copyright (c) 2012 Julian Aubourg\r\n *\r\n * This document is licensed as free software under the terms of the\r\n * MIT License: http://www.opensource.org/licenses/mit-license.php\r\n */\r\n(function($){function noop(){}function genericCallback(data){lastValue=[data]}function callIfDefined(method,object,parameters){return method&&method.apply(object.context||object,parameters)}function qMarkOrAmp(url){return/\\?/.test(url)?\"&\":\"?\";}var STR_ASYNC=\"async\",STR_CHARSET=\"charset\",STR_EMPTY=\"\",STR_ERROR=\"error\",STR_INSERT_BEFORE=\"insertBefore\",STR_JQUERY_JSONP=\"_jqjsp\",STR_ON=\"on\",STR_ON_CLICK=STR_ON+\"click\",STR_ON_ERROR=STR_ON+STR_ERROR,STR_ON_LOAD=STR_ON+\"load\",STR_ON_READY_STATE_CHANGE=STR_ON+\"readystatechange\",STR_READY_STATE=\"readyState\",STR_REMOVE_CHILD=\"removeChild\",STR_SCRIPT_TAG=\"<script>\",STR_SUCCESS=\"success\",STR_TIMEOUT=\"timeout\",win=window,Deferred=$.Deferred,head=$(\"head\")[0]||document.documentElement,pageCache={},count=0,lastValue,xOptionsDefaults={callback:STR_JQUERY_JSONP,url:location.href},opera=win.opera,oldIE=!!$(\"<div>\").html(\"<!--[if IE]><i><![endif]-->\").find(\"i\").length;function jsonp(xOptions){xOptions=$.extend({},xOptionsDefaults,xOptions);var successCallback=xOptions.success,errorCallback=xOptions.error,completeCallback=xOptions.complete,dataFilter=xOptions.dataFilter,callbackParameter=xOptions.callbackParameter,successCallbackName=xOptions.callback,cacheFlag=xOptions.cache,pageCacheFlag=xOptions.pageCache,charset=xOptions.charset,url=xOptions.url,data=xOptions.data,timeout=xOptions.timeout,pageCached,done=0,cleanUp=noop,supportOnload,supportOnreadystatechange,firstChild,script,scriptAfter,timeoutTimer;Deferred&&Deferred(function(defer){defer.done(successCallback).fail(errorCallback);successCallback=defer.resolve;errorCallback=defer.reject;}).promise(xOptions);xOptions.abort=function(){!(done++)&&cleanUp();};if(callIfDefined(xOptions.beforeSend,xOptions,[xOptions])===!1||done){return xOptions;}url=url||STR_EMPTY;data=data?((typeof data)==\"string\"?data:$.param(data,xOptions.traditional)):STR_EMPTY;url+=data?(qMarkOrAmp(url)+data):STR_EMPTY;callbackParameter&&(url+=qMarkOrAmp(url)+encodeURIComponent(callbackParameter)+\"=?\");!cacheFlag&&!pageCacheFlag&&(url+=qMarkOrAmp(url)+\"_\"+(new Date()).getTime()+\"=\");url=url.replace(/=\\?(&|$)/,\"=\"+successCallbackName+\"$1\");function notifySuccess(json){if(!(done++)){cleanUp();pageCacheFlag&&(pageCache[url]={s:[json]});dataFilter&&(json=dataFilter.apply(xOptions,[json]));callIfDefined(successCallback,xOptions,[json,STR_SUCCESS,xOptions]);callIfDefined(completeCallback,xOptions,[xOptions,STR_SUCCESS])}}function notifyError(type){if(!(done++)){cleanUp();pageCacheFlag&&type!=STR_TIMEOUT&&(pageCache[url]=type);callIfDefined(errorCallback,xOptions,[xOptions,type]);callIfDefined(completeCallback,xOptions,[xOptions,type])}}if(pageCacheFlag&&(pageCached=pageCache[url])){pageCached.s?notifySuccess(pageCached.s[0]):notifyError(pageCached)}else{win[successCallbackName]=genericCallback;script=$(STR_SCRIPT_TAG)[0];script.id=STR_JQUERY_JSONP+count++;if(charset){script[STR_CHARSET]=charset}opera&&opera.version()<11.60?((scriptAfter=$(STR_SCRIPT_TAG)[0]).text=\"document.getElementById('\"+script.id+\"').\"+STR_ON_ERROR+\"()\"):(script[STR_ASYNC]=STR_ASYNC);if(oldIE){script.htmlFor=script.id;script.event=STR_ON_CLICK}script[STR_ON_LOAD]=script[STR_ON_ERROR]=script[STR_ON_READY_STATE_CHANGE]=function(result){if(!script[STR_READY_STATE]||!/i/.test(script[STR_READY_STATE])){try{script[STR_ON_CLICK]&&script[STR_ON_CLICK]()}catch(_){}result=lastValue;lastValue=0;result?notifySuccess(result[0]):notifyError(STR_ERROR)}};script.src=url;cleanUp=function(i){timeoutTimer&&clearTimeout(timeoutTimer);script[STR_ON_READY_STATE_CHANGE]=script[STR_ON_LOAD]=script[STR_ON_ERROR]=null;head[STR_REMOVE_CHILD](script);scriptAfter&&head[STR_REMOVE_CHILD](scriptAfter)};head[STR_INSERT_BEFORE](script,(firstChild=head.firstChild));scriptAfter&&head[STR_INSERT_BEFORE](scriptAfter,firstChild);timeoutTimer=timeout>0&&setTimeout(function(){notifyError(STR_TIMEOUT)},timeout)}return xOptions}jsonp.setup=function(xOptions){$.extend(xOptionsDefaults,xOptions)};$.jsonp=jsonp})(jQuery);"]}