{"version":3,"sources":["common/localstorage.js"],"names":["define","set_storage","$","each","i","item","key","this","attr","key_val","val","localStorage","setItem","get_storage","callback","key_if","getItem","text","clear_storage","clear","clean_storage","data","getone_storage","setone_storage","get_data_all","ajax_data","data_all"],"mappings":"AAAAA,OAAO,WAEH,QAASC,KACLC,EAAE,eAAeC,KAAK,SAASC,EAAGC,GAC9B,GAAIC,GAAMJ,EAAEK,MAAMC,KAAK,QACnBC,EAAUP,EAAEK,MAAMG,KACtBC,cAAaC,QAAQN,EAAKG,KAIlC,QAASI,GAAYC,GACjBZ,EAAE,eAAeC,KAAK,SAASC,EAAGC,GAC9B,GACIC,GADAS,EAASb,EAAEK,MAAMC,KAAK,OAGtBF,GADO,MAARS,EACKb,EAAEK,MAAMC,KAAK,aAEXN,EAAEK,MAAMC,KAAK,OAEvB,IAAIC,GAAUE,aAAaK,QAAQV,EACnC,QAAKG,QAGM,MAARM,EACCb,EAAEK,MAAMU,KAAKR,GAEbP,EAAEK,MAAMG,IAAID,MAGhBK,GACAA,IAIR,QAASI,KACLP,aAAaQ,QAGjB,QAASC,GAAcC,GACnBnB,EAAEmB,GAAMlB,KAAK,SAASC,EAAGC,GACrB,GAAIC,GAAMe,EAAKjB,EACfO,cAAaC,QAAQN,EAAK,MAIlC,QAASgB,GAAeZ,GACpB,MAAOC,cAAaK,QAAQN,GAGhC,QAASa,GAAejB,EAAKG,GACzBE,aAAaC,QAAQN,EAAKG,GAI9B,QAASe,GAAaC,GAClB,GAAIC,KASJ,OARAxB,GAAEuB,GAAWtB,KAAK,SAASC,EAAGC,GAC1B,GAAIC,GAAMmB,EAAUrB,GAChBK,EAAUE,aAAaK,QAAQV,EACnC,QAAKG,QAGLiB,EAASpB,GAAOG,KAEbiB,EAGX,OACIzB,YAAaA,EACbY,YAAaA,EACbK,cAAeA,EACfE,cAAeA,EACfE,eAAgBA,EAChBC,eAAgBA,EAChBC,aAAcA","file":"../../../js/common/localstorage.js","sourcesContent":["define(function() {　\n    //设置数据\n    function set_storage() {\n        $('.js_storage').each(function(i, item) {\n            var key = $(this).attr('name');\n            var key_val = $(this).val();\n            localStorage.setItem(key, key_val);\n        });\n    }\n    //获取数据\n    function get_storage(callback) {\n        $('.js_storage').each(function(i, item) {\n            var key_if = $(this).attr('name');\n            var key;\n            if(key_if==null){\n                key=$(this).attr('data-name');\n            }else{\n                key = $(this).attr('name');\n            }\n            var key_val = localStorage.getItem(key);\n            if (!key_val) {\n                return true;\n            }\n            if(key_if==null){\n                $(this).text(key_val);\n            }else{\n                $(this).val(key_val);\n            }            \n        });\n        if (callback) {\n            callback();\n        }\n    }\n    //清空数据\n    function clear_storage() {\n        localStorage.clear();\n    }\n    //清空指定数据值\n    function clean_storage(data) { //data是个包含数据属性名称的数组\n        $(data).each(function(i, item) {\n            var key = data[i];\n            localStorage.setItem(key, '');\n        });\n    }\n    //获取指定数据值\n    function getone_storage(val) {\n        return localStorage.getItem(val);\n    }\n    //设置指定数据值\n    function setone_storage(key, key_val) {\n        localStorage.setItem(key, key_val);\n    }\n\n    //获取指定数据组\n    function get_data_all(ajax_data) {\n        var data_all = {};\n        $(ajax_data).each(function(i, item) {\n            var key = ajax_data[i];\n            var key_val = localStorage.getItem(key);\n            if (!key_val) {\n                return true;\n            }\n            data_all[key] = key_val;\n        });\n        return data_all;\n    }\n\n    return {\n        set_storage: set_storage,\n        get_storage: get_storage,\n        clear_storage: clear_storage,\n        clean_storage: clean_storage,\n        getone_storage: getone_storage,\n        setone_storage: setone_storage,\n        get_data_all: get_data_all,\n    };　\n});\n"]}