{"version":3,"sources":["common/date_get.js"],"names":["define","formatYear","nowYear","arr","i","push","id","value","formatMonth","formatDate","count","now","Date","getFullYear","nowMonth","getMonth","nowDate","getDate","yearData","callback","setTimeout","monthData","year","dateData","month","test","Error"],"mappings":"AAAAA,OAAO,WAOH,QAASC,GAAWC,GAEhB,IAAK,GADDC,MACKC,EAAIF,EAASE,GAAKF,EAAU,EAAGE,IACpCD,EAAIE,MACAC,GAAIF,EAAI,GACRG,MAAOH,EAAI,KAGnB,OAAOD,GAGX,QAASK,KAEL,IAAK,GADDL,MACKC,EAAI,EAAGA,GAAK,GAAIA,IAIrBD,EAAIE,MACAC,GAAIF,EAAI,GACRG,MAAOH,EAAI,KAGnB,OAAOD,GAGX,QAASM,GAAWC,GAGhB,IAAK,GADDP,MACKC,EAAI,EAAGA,GAAKM,EAAON,IAIxBD,EAAIE,MACAC,GAAIF,EAAI,GACRG,MAAOH,EAAI,KAGnB,OAAOD,GA1CX,GAAIQ,GAAM,GAAIC,MACVV,EAAUS,EAAIE,cACdC,EAAWH,EAAII,WAAa,EAC5BC,EAAUL,EAAIM,UAyCdC,EAAW,SAASC,GACpBC,WAAW,WACPD,EAASlB,EAAWC,KACrB,IAEHmB,EAAY,SAASC,EAAMH,GAC3BC,WAAW,WACPD,EAASX,MACV,IAEHe,EAAW,SAASD,EAAME,EAAOL,GAIjCC,WAAW,WACP,GAAI,kBAAkBK,KAAKD,GAEvBL,EAASV,EAAW,SACjB,IAAI,aAAagB,KAAKD,GAEzBL,EAASV,EAAW,SACjB,IAAI,MAAMgB,KAAKD,GAElBL,EAASV,EAAW,SACjB,CAAA,IAAI,MAAMgB,KAAKD,GAOlB,KAAM,IAAIE,OAAM,mBALZP,GADAG,EAAO,IAAM,GAAKA,EAAO,MAAQ,GAAKA,EAAO,MAAQ,EAC5Cb,EAAW,IAEXA,EAAW,OAK7B,GAaP,QACIS,SAAUA,EACVG,UAAWA,EACXE,SAAUA,EACVrB,QAASA,EACTY,SAAUA,EACVE,QAASA","file":"../../../js/common/date_get.js","sourcesContent":["define(function() {　\n    // 初始化时间\n    var now = new Date();\n    var nowYear = now.getFullYear();\n    var nowMonth = now.getMonth() + 1;\n    var nowDate = now.getDate();\n    // 数据初始化\n    function formatYear(nowYear) {\n        var arr = [];\n        for (var i = nowYear; i <= nowYear + 2; i++) {\n            arr.push({\n                id: i + '',\n                value: i + '年'\n            });\n        }\n        return arr;\n    }\n\n    function formatMonth() {\n        var arr = [];\n        for (var i = 1; i <= 12; i++) {\n            // if (i < 10) {\n            //     i = '0' + i;\n            // }\n            arr.push({\n                id: i + '',\n                value: i + '月'\n            });\n        }\n        return arr;\n    }\n\n    function formatDate(count) {               \n        //console.log(count);\n        var arr = [];\n        for (var i = 1; i <= count; i++) {\n            // if (i < 10) {\n            //     i = '0' + i;\n            // }\n            arr.push({\n                id: i + '',\n                value: i + '日'\n            });\n        }\n        return arr;\n    }\n    var yearData = function(callback) {\n        setTimeout(function() {\n            callback(formatYear(nowYear))\n        }, 0)\n    }\n    var monthData = function(year, callback) {\n        setTimeout(function() {\n            callback(formatMonth());\n        }, 0);\n    };\n    var dateData = function(year, month, callback) {\n        // if (month.substr(0, 1) == '0') {\n        //     month = month.substr(1, 1);\n        // }\n        setTimeout(function() {\n            if (/^3|5|7|8|10|12$/.test(month)) {              \n                //console.log(month);\n                callback(formatDate(31));\n            } else if (/^4|6|9|11$/.test(month)) {                \n                //console.log(month);\n                callback(formatDate(30));\n            } else if (/^1$/.test(month)) {                \n                //console.log(month);\n                callback(formatDate(31));\n            } else if (/^2$/.test(month)) {\n                if (year % 4 === 0 && year % 100 !== 0 || year % 400 === 0) {\n                    callback(formatDate(29));\n                } else {\n                    callback(formatDate(28));\n                }\n            } else {\n                throw new Error('month is illegal');\n            }\n        }, 0);\n        // ajax请求可以这样写\n        /*\n        $.ajax({\n            type: 'get',\n            url: '/example',\n            success: function(data) {\n                callback(data);\n            }\n        });\n        */\n    };\n\n    return {\n        yearData: yearData,\n        monthData: monthData,\n        dateData: dateData,\n        nowYear: nowYear,\n        nowMonth: nowMonth,\n        nowDate: nowDate,\n    };　\n});\n"]}