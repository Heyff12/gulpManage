{"version":3,"sources":["b/paid_to_open_prepaid.js"],"names":["require","$","ajax_rule","native","if_menu","is_qfgroup","jsonData","menu_data","menus","type","uri","icon","location","protocol","host","title","setNavMenu","cb","console","log","ret","on","openUrl","goto_url","attr","removeAttr","toast","msg","openUriData","openUri","closeToUri","navToUri","otherActivityUrl"],"mappings":"AAAA,YAKAA,UAAS,qBAAsB,WAC3BA,SAAS,QAAS,YAAa,SAAU,WAAY,SAAUC,EAAGC,EAAWC,EAAQC,GAEjFH,EAAE,WACE,GAAII,IAAa,CAEjBH,GAAUA,UAAU,+BAAgC,MAAO,OAAQ,GAAI,WAAY,SAAUI,GACzFD,EAAaC,EAASD,YAK1B,IAAIE,IACAC,QACIC,KAAM,MACNC,IAAK,iDACLC,KAAMC,SAASC,SAAW,KAAOD,SAASE,KAAO,2CACjDC,MAAO,SAEPN,KAAM,MACNC,IAAKE,SAASC,SAAW,KAAOD,SAASE,KAAO,qCAChDH,KAAMC,SAASC,SAAW,KAAOD,SAASE,KAAO,6CACjDC,MAAO,SAKfZ,GAAOa,WAAWT,EAAW,SAAUU,GACnCC,QAAQC,IAAIF,EAAGG,OAGnBnB,EAAE,2BAA2BoB,GAAG,QAAS,WAErC,GAAIC,GAAUV,SAASC,SAAW,KAAOD,SAASE,KAAO,8BACzDV,GAAQmB,SAASD,KAGrBrB,EAAE,aAAaoB,GAAG,QAAS,WACwB,GAA3CpB,EAAE,sBAAsBuB,KAAK,WAC7BvB,EAAE,sBAAsBuB,KAAK,UAAW,WAExCvB,EAAE,sBAAsBwB,WAAW,aAI3CxB,EAAE,kBAAkBoB,GAAG,QAAS,WACmB,GAA3CpB,EAAE,sBAAsBuB,KAAK,WAC7BvB,EAAE,sBAAsBuB,KAAK,UAAW,WAExCvB,EAAE,sBAAsBwB,WAAW,aAI3CxB,EAAE,eAAeoB,GAAG,QAAS,WAEzB,GAA+C,GAA3CpB,EAAE,sBAAsBuB,KAAK,WAE7BrB,EAAOuB,OAAQC,IAAK,qBAAuB,SAAUV,GACjDC,QAAQC,IAAIF,EAAGG,WAEhB,CAEH,GAAIQ,IACAlB,IAAKL,EAAa,oBAAsB,6BAE5CF,GAAO0B,QAAQD,EAAa,SAAUX,GAElC,GAAIa,IACApB,IAAKE,SAASC,SAAW,KAAOD,SAASE,KAAO,gCAEpDX,GAAO4B,SAASD,EAAY,SAAUb,GAClCC,QAAQC,IAAIF,EAAGG,YAM/BnB,EAAE,iBAAiBoB,GAAG,QAAS,WAC3B,GAAIW,GAAmB,gDACvB5B,GAAQmB,SAASS","file":"../../../js/b/paid_to_open_prepaid.js","sourcesContent":["\"use strict\";\n\n/**\n * Created by mac on 17/2/10.\n */\nrequire(['../require-config'], function () {\n    require([\"zepto\", \"ajax_rule\", \"native\", \"if_menu\"], function ($, ajax_rule, native, if_menu) {\n        //付费开通储值服务\n        $(function () {\n            var is_qfgroup = false;\n            //请求service/info查询商户是否直营\n            ajax_rule.ajax_rule('/prepaid/v1/api/service/info', 'get', 'json', '', '.zheceng', function (jsonData) {\n                is_qfgroup = jsonData.is_qfgroup;\n            });\n            //设置左边的返回按钮\n\n            //设置右边的菜单按钮\n            var menu_data = {\n                menus: [{\n                    type: 'uri',\n                    uri: 'http://wx.qfpay.com/near-v2/save-currency.html',\n                    icon: location.protocol + '//' + location.host + '/prepaid/v1/static/new/img/ic_praise.png',\n                    title: '优秀案例'\n                }, {\n                    type: 'uri',\n                    uri: location.protocol + '//' + location.host + '/prepaid/v1/page/b/user_guide.html',\n                    icon: location.protocol + '//' + location.host + '/prepaid/v1/static/new/img/ic_question.png',\n                    title: '常见问题'\n                }]\n\n            };\n\n            native.setNavMenu(menu_data, function (cb) {\n                console.log(cb.ret);\n            });\n\n            $('.content_protocol_title').on('click', function () {\n                //var openUrl = 'http://wx.qfpay.com/near-v2/save-currency-agreement.html';\n                var openUrl = location.protocol + '//' + location.host + '/prepaid/v1/page/b/pacp.html';\n                if_menu.goto_url(openUrl);\n            });\n\n            $('.ic_check').on('click', function () {\n                if ($('#protocol_checkbox').attr(\"checked\") == false) {\n                    $('#protocol_checkbox').attr(\"checked\", \"checked\");\n                } else {\n                    $('#protocol_checkbox').removeAttr(\"checked\");\n                }\n            });\n\n            $('.protocol_read').on('click', function () {\n                if ($('#protocol_checkbox').attr(\"checked\") == false) {\n                    $('#protocol_checkbox').attr(\"checked\", \"checked\");\n                } else {\n                    $('#protocol_checkbox').removeAttr(\"checked\");\n                }\n            });\n\n            $('.js_pay_use').on('click', function () {\n\n                if ($('#protocol_checkbox').attr(\"checked\") == false) {\n                    //还没有选择阅读协议,弹提示\n                    native.toast({ msg: \"你是否已经阅读《储值业务服务协议》\" }, function (cb) {\n                        console.log(cb.ret);\n                    });\n                } else {\n                    //已经于都协议，跳付费开通服务\n                    var openUriData = {\n                        uri: is_qfgroup ? \"hjsh://member/pay\" : 'nearmcht://view-member-pay'\n                    };\n                    native.openUri(openUriData, function (cb) {\n                        //不关心支付成功和失败都是要回首页的\n                        var closeToUri = {\n                            uri: location.protocol + '//' + location.host + '/prepaid/v1/page/b/index.html'\n                        };\n                        native.navToUri(closeToUri, function (cb) {\n                            console.log(cb.ret);\n                        });\n                    });\n                }\n            });\n\n            $('.js_see_other').on('click', function () {\n                var otherActivityUrl = \"http://wx.qfpay.com/near-v2/save-currency.html\";\n                if_menu.goto_url(otherActivityUrl);\n            });\n        });\n    });\n});"]}