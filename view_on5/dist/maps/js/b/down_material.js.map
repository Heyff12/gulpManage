{"version":3,"sources":["b/down_material.js"],"names":["require","$","yanzheng","ajax_rule","native","if_menu","send_pic","return_data","url","location","protocol","host","goto_url","document","ready","on","email_test","error_len","length","data_mail","mail","val","closeToUri","uri","navToUri","cb","console","log","ret"],"mappings":"AAAA,YAEAA,UAAS,qBAAsB,WAC3BA,SAAS,QAAS,WAAY,YAAa,SAAU,WAAY,SAAUC,EAAGC,EAAUC,EAAWC,EAAQC,GACvGJ,EAAE,WAgDE,QAASK,GAASC,GAKd,GAAIC,GAAMC,SAASC,SAAW,KAAOD,SAASE,KAAO,4CACrDN,GAAQO,SAASJ,GAnDrBP,EAAEY,UAAUC,MAAM,cAElBb,EAAE,iBAAiBc,GAAG,QAAS,WAE3Bb,EAASc,WAAW,WACpB,IAAIC,GAAYhB,EAAE,eAAeiB,MACjC,IAAID,EAAY,EACZ,OAAO,CAEX,IAAIE,IAAcC,KAAQnB,EAAE,YAAYoB,MAGxClB,GAAUA,UAAU,mCAAoC,OAAQ,OAAQgB,EAAW,WAAYb,KAGnGL,EAAE,mBAAmBc,GAAG,QAAS,WAsB7B,GAAIO,IACAC,IAAKd,SAASC,SAAW,KAAOD,SAASE,KAAO,gCAEpDP,GAAOoB,SAASF,EAAY,SAAUG,GAClCC,QAAQC,IAAIF,EAAGG","file":"../../../js/b/down_material.js","sourcesContent":["\"use strict\";\n\nrequire(['../require-config'], function () {\n    require([\"zepto\", \"yanzheng\", \"ajax_rule\", \"native\", \"if_menu\"], function ($, yanzheng, ajax_rule, native, if_menu) {\n        $(function () {\n            //---取消了native if_menu的引用0106\n            //发送物料----------------------------------------------------------------------------------------------------------------------------------------------------\n            $(document).ready(function () {});\n            //点击提交\n            $('.js_email_sub').on('click', function () {\n                //验证邮箱\n                yanzheng.email_test('.js_mail');\n                var error_len = $('.error_tips').length;\n                if (error_len > 0) {\n                    return false;\n                }\n                var data_mail = { 'mail': $('.js_mail').val() };\n                //测试成功后效果\n                //send_pic();\n                ajax_rule.ajax_rule('/prepaid/v1/api/b/materials/send', 'POST', 'json', data_mail, '.zheceng', send_pic);\n            });\n            //点击关闭\n            $('.js_close_email').on('click', function () {\n                //返回储值活动首页\n                // location.href = location.protocol + '//' + location.host + '/prepaid/v1/page/b/index.html';\n                // var url_val = location.protocol + '//' + location.host + '/prepaid/v1/page/b/index.html';\n                // if_menu.goto_url(url_val);\n                // if (typeof QFPAY !== \"undefined\") {\n                //     var go_url = {\n                //         uri: location.protocol + '//' + location.host + '/prepaid/v1/page/b/index.html',\n                //     };\n                //     native.openUri(go_url, function(cb) {\n                //         console.log(cb.ret);\n                //     });\n                //     //暂时隐藏关闭所有---下次版本更新使用\n                //     // var close_url = {};\n                //     // native.closeAll(close_url, function(cb) {\n                //     //     console.log(cb.ret);\n                //     // });\n                // } else {\n                //     location.href = location.protocol + '//' + location.host + '/prepaid/v1/page/b/index.html';\n                // }\n\n                //todo: close all gotourl 首页\n                var closeToUri = {\n                    uri: location.protocol + '//' + location.host + '/prepaid/v1/page/b/index.html'\n                };\n                native.navToUri(closeToUri, function (cb) {\n                    console.log(cb.ret);\n                });\n            });\n            //提交邮箱\n            function send_pic(return_data) {\n                // $('.js_down_material_index').hide();\n                // $('.js_down_success').show();\n                // document.title='发送成功'\n                // $('body').addClass('bg_white');\n                var url = location.protocol + '//' + location.host + '/prepaid/v1/page/b/succsend_materials.html';\n                if_menu.goto_url(url);\n                // if (typeof QFPAY !== \"undefined\") {\n                //     var go_url = {\n                //         uri: location.protocol + '//' + location.host + '/prepaid/v1/page/b/succsend_materials.html',\n                //     };\n                //     native.openUri(go_url, function(cb) {\n                //         console.log(cb.ret);\n                //     });\n                // } else {\n                //     location.href = location.protocol + '//' + location.host + '/prepaid/v1/page/b/succsend_materials.html';\n                // }\n            }\n        });\n    });\n});"]}