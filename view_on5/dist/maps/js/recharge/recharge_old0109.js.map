{"version":3,"sources":["recharge/recharge_old0109.js"],"names":["hideMenu","WeixinJSBridge","call","get_recharge_result","$","ajax","url","type","dataType","data","c","get_hash","h","biz_sn","syssn","start","show","success","respcd","html","return_data","return_pay","pay_amt","toFixed","return_recharge","txamt","return_href","uri","text","attr","get_rechargedetail","error","end","hide","get_rule_detail","beforeSend","return_data_l","length","i","li_detail","append","complete","get_message","val","return_binded","binded","return_name","name","return_mobile","mobile","return_birth","birthday","addClass","removeAttr","removeClass","get_message_bf","get_rechargesub","tel","birth","o","grid_index","css","window","location","href","get_rechargeli","return_expired","expired","rules","return_data_right","each","item","tx_fee","present_amt","tx_txamt","push","data_length","tx_index","eq","hash_val","c_val","split","url_l","url_l_l","url_val","china_test","id","num1","num2","val_exp","RegExp","test","tel_test","birth_test","val_l","userid","return_company","merchant_name","return_diff","balance","get_rechargediff","get_protocol_detail","return_detail","detail","recharge_num","find","val_num","pay_now","amt","openid","pathname","invoke","res","pay","d","p","pay_params","package","timeStamp","signType","paySign","appId","nonceStr","err_msg","alert_top","alert_height","height","mar_t","document","addEventListener","attachEvent","get","ready","on","this","siblings","first","bor_red_num","opt_data","preset","theme","display","mode","dateFormat","setText","cancelText","dateOrder","dayText","monthText","yearText","endYear","showNow","nowText","hourText","minuteText","mobiscroll","open","close"],"mappings":"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","file":"../../../js/recharge/recharge_old0109.js","sourcesContent":["\"use strict\";\n\nfunction hideMenu() {\n    WeixinJSBridge.call('hideOptionMenu');\n    WeixinJSBridge.call('hideToolbar');\n}\nif (typeof WeixinJSBridge == \"undefined\") {\n    if (document.addEventListener) {\n        document.addEventListener('WeixinJSBridgeReady', hideMenu, false);\n    } else if (document.attachEvent) {\n        document.attachEvent('WeixinJSBridgeReady', hideMenu);\n        document.attachEvent('onWeixinJSBridgeReady', hideMenu);\n    }\n} else {\n    hideMenu();\n}\n//测试过期显示--不需要，进攻测试\nvar return_expired = $('#hidden').val();\nif (return_expired == '1') {\n    $('.js_li_none').show();\n    $('.js_li_show').hide();\n} else {\n    $('.js_li_none').hide();\n    $('.js_li_show').show();\n}\n//储值首页----------------------------------------------------------------------------------------------------------------------------------------------------\n$('.js_recharge_index').get(0) && ~function () {\n    $(document).ready(function () {\n        //获取储值列表todo-show\n        //get_rechargeli();\n        //获取储值规则-show\n        //get_rule_detail();\n        //获取当前用户个人信息\n        //get_message();-show\n        //获取储值余额todo-取消\n        //get_rechargediff();\n        //点击购买todo-取消\n        // $('.js_content_sub').on('click', function() {\n        //     //get_rechargesub();\n        // });\n    });\n    //选择储值项——————add_new\n    // $('.js_rechage_ul li').live('click', function() {\n    //     $(this).addClass('li_choose').siblings('li').removeClass('li_choose');\n    //     //recharge_num(this);//--取消\n    // });\n    $(document).on('click', '.js_rechage_ul li', function () {\n        $(this).addClass('li_choose').siblings('li').removeClass('li_choose');\n        //recharge_num(this);//--取消\n    });\n    //查看活动协议--作废\n    $('.js_scan_protocol').on('click', function () {\n        $('#alert_protocol').show();\n        $('.zheceng').show();\n    });\n    //查看活动规则--作废\n    $('.js_scan_rule').on('click', function () {\n        $('#alert_rule').show();\n        $('.zheceng').show();\n    });\n    //点击购买弹出填写信息——————add_new\n    $('.js_content_sub').on('click', function () {\n        $('#alert_message').show();\n        alert_top('#alert_message');\n        $('.zheceng').show();\n    });\n    //点击填写信息确定按钮——————add_new\n    $('.js_alert_message').on('click', function () {\n        var first = $('.js_hidden_first').val();\n        var name = $('.js_message_name').val();\n        var tel = $('.js_message_tel').val();\n        var birth = $('.js_message_birth').val();\n        if (first == '1') {\n            birth_test('.js_message_birth', -1, 20);\n        } else {\n            tel_test('.js_message_tel');\n            china_test('.js_message_name', 1, 4);\n            birth_test('.js_message_birth', -1, 20);\n        }\n        var bor_red_num = $('.border_red').length;\n        if (bor_red_num > 0) {\n            return false;\n        }\n        //提交充值\n        //get_rechargesub(name,tel,birth);\n    });\n    // 初始化插件内容——————add_new\n    var opt_data = {\n        preset: 'date', //日期格式 date（日期）|datetime（日期加时间）\n        theme: 'jqm', //皮肤样式\n        display: 'modal', //显示方式\n        mode: 'clickpick', //日期选择模式\n        dateFormat: 'yy-mm-dd', // 日期格式\n        setText: '确定', //确认按钮名称\n        cancelText: '取消', //取消按钮名籍我\n        dateOrder: 'yymmdd', //面板中日期排列格式\n        dayText: '日',\n        monthText: '月',\n        yearText: '年', //面板中年月日文字\n        endYear: 2050, //结束年份\n        showNow: true,\n        nowText: '今天',\n        hourText: '小时',\n        minuteText: '分'\n    };\n    // 使用定义插件——————add_new\n    $(\"#f_companydate\").mobiscroll(opt_data);\n}();\n//储值结果----------------------------------------------------------------------------------------------------------------------------------------------------\n$('.js_result_index').get(0) && ~function () {\n    $(document).ready(function () {\n        //获取储值结果\n        //get_recharge_result();\n    });\n    $('.js_result_recharge').on('click', function () {\n        open(location, '_self').close();\n        WeixinJSBridge.invoke('closeWindow', {}, function (res) {});\n    });\n}();\n//获取储值结果--内容\nfunction get_recharge_result() {\n    $.ajax({\n        url: '/prepaid/v1/api/c/recharge/result',\n        type: 'GET',\n        dataType: 'json',\n        data: {\n            'c': get_hash('c'),\n            'h': get_hash('h'),\n            'biz_sn': get_hash('biz_sn'),\n            'syssn': get_hash('syssn')\n        },\n        start: function start() {\n            $('#loading').show();\n            $('.zheceng').show();\n        },\n        success: function success(data) {\n            if (data.respcd != '0000') {\n                $('#alert_alert').show();\n                $('.zheceng').show();\n                if (!data['respmsg']) {\n                    $('#alert_alert .alert_con_br').html(data['resperr']);\n                } else {\n                    $('#alert_alert .alert_con_br').html(data['respmsg']);\n                }\n            } else {\n                var return_data = data.data;\n                var return_pay = (return_data.pay_amt / 100).toFixed(2);\n                var return_recharge = (return_data.txamt / 100).toFixed(2);\n                var return_href = return_data.uri;\n                $('.js_paynum').text(return_pay);\n                $('.js_chargenum').text(return_recharge);\n                $('.js_result_buy').attr('href', return_href);\n                //获取储值结果--商家和总储值余额\n                get_rechargedetail();\n            }\n        },\n        error: function error(data) {\n            $('#alert_alert').show();\n            $('.zheceng').show();\n            //$('.alert_con .alert_con_br').html('XMLHttpRequest.readyState:'+XMLHttpRequest.readyState+',XMLHttpRequest.status:'+XMLHttpRequest.status+',textStatus:'+textStatus+'!');\n            $('#alert_alert .alert_con_br').html('网络超时!');\n        },\n        end: function end() {\n            $('#loading').hide();\n            $('.zheceng').hide();\n        }\n    });\n}\n//获取储值规则\nfunction get_rule_detail() {\n    $.ajax({\n        url: '/prepaid/v1/api/c/rulexplain',\n        type: 'GET',\n        dataType: 'json',\n        data: {\n            'c': get_hash('c'),\n            'h': get_hash('h')\n        },\n        beforeSend: function beforeSend() {\n            $('#loading').show();\n            $('.zheceng1').show();\n        },\n        success: function success(data) {\n            if (data.respcd != '0000') {\n                $('#alert_alert').show();\n                $('.zheceng1').show();\n                if (!data['respmsg']) {\n                    $('#alert_alert .alert_con_br').html(data['resperr']);\n                } else {\n                    $('#alert_alert .alert_con_br').html(data['respmsg']);\n                }\n            } else {\n                var return_data = data.data;\n                var return_data_l = return_data.length;\n                for (var i = 0; i < return_data_l; i++) {\n                    var li_detail = '<li><span>' + return_data[i] + '</span></li>';\n                    $(\".js_note_ul_detail\").append(li_detail);\n                }\n                $('.zheceng1').hide();\n            }\n        },\n        error: function error(data) {\n            $('#alert_alert').show();\n            $('.zheceng1').show();\n            //$('.alert_con .alert_con_br').html('XMLHttpRequest.readyState:'+XMLHttpRequest.readyState+',XMLHttpRequest.status:'+XMLHttpRequest.status+',textStatus:'+textStatus+'!');\n            $('#alert_alert .alert_con_br').html('网络超时!');\n        },\n        complete: function complete() {\n            $('#loading').hide();\n            //$('.zheceng').hide();\n        }\n    });\n}\n//获取个人信息-----add_new\nfunction get_message() {\n    $('.js_dl_message input').val('');\n    $.ajax({\n        url: '/prepaid/v1/api/c/bind',\n        type: 'GET',\n        dataType: 'json',\n        data: {\n            'c': get_hash('c'),\n            'h': get_hash('h')\n        },\n        beforeSend: function beforeSend() {\n            $('#loading').show();\n            $('.zheceng2').show();\n        },\n        success: function success(data) {\n            if (data.respcd != '0000') {\n                $('#alert_alert').show();\n                $('.zheceng2').show();\n                if (!data['respmsg']) {\n                    $('#alert_alert .alert_con_br').html(data['resperr']);\n                } else {\n                    $('#alert_alert .alert_con_br').html(data['respmsg']);\n                }\n            } else {\n                var return_data = data.data;\n                var return_binded = return_data.binded;\n                var return_name = return_data.name;\n                var return_mobile = return_data.mobile;\n                var return_birth = return_data.birthday;\n                $('.js_hidden_first').val(return_binded);\n                $('.js_message_name').val(return_name);\n                $('.js_message_tel').val(return_mobile);\n                $('.js_message_birth').val(return_birth);\n                if (return_binded == '1') {\n                    $('.js_dl_message input.js_input').attr('readonly', 'readonly').addClass('grey');\n                    if (return_birth.length > 0) {\n                        $('.js_message_birth').attr('disabled', 'disabled').addClass('grey');\n                    } else {\n                        $('.js_message_birth').removeAttr('disabled').removeClass('grey');\n                    }\n                } else {\n                    $('.js_dl_message input.js_input').removeAttr('readonly').removeClass('grey');\n                    $('.js_message_birth').removeAttr('disabled').removeClass('grey');\n                }\n                $('.zheceng2').hide();\n            }\n        },\n        error: function error(data) {\n            $('#alert_alert').show();\n            $('.zheceng2').show();\n            //$('.alert_con .alert_con_br').html('XMLHttpRequest.readyState:'+XMLHttpRequest.readyState+',XMLHttpRequest.status:'+XMLHttpRequest.status+',textStatus:'+textStatus+'!');\n            $('#alert_alert .alert_con_br').html('网络超时!');\n        },\n        complete: function complete() {\n            $('#loading').hide();\n            //$('.zheceng').hide();\n        }\n    });\n}\n\nfunction get_message_bf() {\n    $('.js_dl_message input').val('');\n    $.ajax({\n        url: '/prepaid/v1/api/c/bind',\n        type: 'GET',\n        dataType: 'json',\n        data: {\n            'c': get_hash('c'),\n            'h': get_hash('h')\n        },\n        beforeSend: function beforeSend() {\n            $('#loading').show();\n            $('.zheceng2').show();\n        },\n        success: function success(data) {\n            if (data.respcd != '0000') {\n                $('#alert_alert').show();\n                $('.zheceng2').show();\n                if (!data['respmsg']) {\n                    $('#alert_alert .alert_con_br').html(data['resperr']);\n                } else {\n                    $('#alert_alert .alert_con_br').html(data['respmsg']);\n                }\n            } else {\n                var return_data = data.data;\n                var return_binded = return_data.binded;\n                var return_name = return_data.name;\n                var return_mobile = return_data.mobile;\n                var return_birth = return_data.birthday;\n                $('.js_hidden_first').val(return_binded);\n                if (return_binded == '1') {\n                    $('.js_dl_message input.js_input').attr('readonly', 'readonly');\n                    $('.js_message_name').val(return_name);\n                    $('.js_message_tel').val(return_mobile);\n                    if (return_birth.length > 0) {\n                        $('.js_message_birth').val(return_birth).attr('disabled', 'true');\n                    } else {\n                        $('.js_message_birth').removeAttr('disabled');\n                    }\n                } else {\n                    $('.js_dl_message input.js_input').removeAttr('readonly');\n                    $('.js_message_birth').removeAttr('disabled');\n                }\n                $('.zheceng2').hide();\n            }\n        },\n        error: function error(data) {\n            $('#alert_alert').show();\n            $('.zheceng2').show();\n            //$('.alert_con .alert_con_br').html('XMLHttpRequest.readyState:'+XMLHttpRequest.readyState+',XMLHttpRequest.status:'+XMLHttpRequest.status+',textStatus:'+textStatus+'!');\n            $('#alert_alert .alert_con_br').html('网络超时!');\n        },\n        complete: function complete() {\n            $('#loading').hide();\n            //$('.zheceng').hide();\n        }\n    });\n}\n//点击购买\nfunction get_rechargesub(name, tel, birth) {\n    $.ajax({\n        url: '/prepaid/v1/api/c/recharge',\n        type: 'POST',\n        dataType: 'json',\n        data: {\n            'c': get_hash('c'),\n            'h': get_hash('h'),\n            'o': get_hash('o'),\n            'grid_index': $('.js_rechage_ul li.li_choose').attr('data-index'),\n            'name': name,\n            'mobile': tel,\n            'birthday': birth\n        },\n        beforeSend: function beforeSend() {\n            // $('#loading').show();\n            // $('.zheceng').show();\n            $('.js_alert_message').hide();\n            $('.js_load_message').show().css('display', 'inline-block');\n            // $('.js_alert_message').attr('disabled', 'disabled').addClass('disa');\n            // $('.js_alert_message').find('i.js_i_sure').hide();\n            // $('.js_alert_message').find('i.js_i_load').show().css('display','inline-block');\n        },\n        success: function success(data) {\n            if (data.respcd != '0000') {\n                $('.js_alert_message').show().css('display', 'inline-block');\n                $('.js_load_message').hide();\n                $('#alert_message').hide();\n                $('#passerror_alert').show();\n                $('.zheceng').show();\n                if (!data['respmsg']) {\n                    $('#passerror_alert .alert_con_br').html(data['resperr']);\n                } else {\n                    $('#passerror_alert .alert_con_br').html(data['respmsg']);\n                }\n            } else {\n                //pay_now();\n                //$('.zheceng').hide();\n                window.location.href = data.data.url;\n            }\n        },\n        error: function error(data) {\n            $('.js_alert_message').show().css('display', 'inline-block');\n            $('.js_load_message').hide();\n            $('#alert_message').hide();\n            $('#passerror_alert').show();\n            $('.zheceng').show();\n            //$('.alert_con .alert_con_br').html('XMLHttpRequest.readyState:'+XMLHttpRequest.readyState+',XMLHttpRequest.status:'+XMLHttpRequest.status+',textStatus:'+textStatus+'!');\n            $('#passerror_alert .alert_con_br').html('网络超时!');\n        },\n        complete: function complete() {\n            // $('#loading').hide();\n            //$('.zheceng').hide();\n            // $('.js_alert_message').removeAttr('disabled').removeClass('disa');\n            // $('.js_alert_message').find('i.js_i_sure').show();\n            // $('.js_alert_message').find('i.js_i_load').hide();\n        }\n    });\n}\n//获取储值列表\nfunction get_rechargeli() {\n    $.ajax({\n        url: '/prepaid/v1/api/c/recharge/rules',\n        type: 'GET',\n        dataType: 'json',\n        data: {\n            'c': get_hash('c'),\n            'h': get_hash('h')\n        },\n        beforeSend: function beforeSend() {\n            $('#loading').show();\n            $('.zheceng').show();\n        },\n        success: function success(data) {\n            if (data.respcd != '0000') {\n                $('#alert_alert').show();\n                $('.zheceng').show();\n                if (!data['respmsg']) {\n                    $('#alert_alert .alert_con_br').html(data['resperr']);\n                } else {\n                    $('#alert_alert .alert_con_br').html(data['respmsg']);\n                }\n            } else {\n                //验证是否过期\n                var return_expired = data.data.expired;\n                if (return_expired == '1') {\n                    $('.js_li_none').show();\n                    $('.js_li_show').hide();\n                    $('.zheceng').hide();\n                    return false;\n                } else {\n                    $('.js_li_none').hide();\n                    $('.js_li_show').show();\n                }\n                var return_data = data.data.rules;\n                //获取规则当中储值可用的规则\n                var return_data_right = [];\n                $(return_data).each(function (i, item) {\n                    var tx_fee = (return_data[i].present_amt / 100).toFixed(0);\n                    var tx_txamt = (return_data[i].pay_amt / 100).toFixed(0);\n                    if (tx_fee >= 1 && tx_txamt >= 1) {\n                        return_data_right.push(item);\n                    }\n                });\n                //console.log(return_data_right);\n                var data_length = return_data_right.length;\n                if (data_length == '0') {\n                    $('.js_content_sub_disa').show();\n                    $('.js_content_sub').hide();\n                    $('.zheceng').hide();\n                    return false;\n                } else {\n                    $('.js_content_sub_disa').hide();\n                    $('.js_content_sub').show();\n                }\n                $(return_data_right).each(function (i, item) {\n                    var tx_fee = (return_data_right[i].present_amt / 100).toFixed(0);\n                    var tx_txamt = (return_data_right[i].pay_amt / 100).toFixed(0);\n                    var tx_index = return_data_right[i].grid_index;\n                    var li_detail;\n                    if (data_length == '1') {\n                        li_detail = '<li class=\"li_one\" onclick=\"click_chulist(this)\" data-index=\"' + tx_index + '\"><p class=\"font_17\">储值<span class=\"js_rechar_num\">' + tx_txamt + '</span>元</p><p>送<span class=\"js_rechar_sendnum\">' + tx_fee + '</span>元</p><span class=\"choose\"><i class=\"choose_i\"></i></span></li>';\n                    } else if (data_length == '2') {\n                        li_detail = '<li class=\"li_two\" onclick=\"click_chulist(this)\" data-index=\"' + tx_index + '\"><p class=\"font_17\">储值<span class=\"js_rechar_num\">' + tx_txamt + '</span>元</p><p>送<span class=\"js_rechar_sendnum\">' + tx_fee + '</span>元</p><span class=\"choose\"><i class=\"choose_i\"></i></span></li>';\n                    } else {\n                        li_detail = '<li onclick=\"click_chulist(this)\" data-index=\"' + tx_index + '\"><p class=\"font_17\">储值<span class=\"js_rechar_num\">' + tx_txamt + '</span>元</p><p>送<span class=\"js_rechar_sendnum\">' + tx_fee + '</span>元</p><span class=\"choose\"><i class=\"choose_i\"></i></span></li>';\n                    }\n                    $(\".js_rechage_ul\").append(li_detail);\n                });\n                $(\".js_rechage_ul li\").eq(0).addClass('li_choose');\n                $('.zheceng').hide();\n            }\n        },\n        error: function error(data) {\n            $('#alert_alert').show();\n            $('.zheceng').show();\n            //$('.alert_con .alert_con_br').html('XMLHttpRequest.readyState:'+XMLHttpRequest.readyState+',XMLHttpRequest.status:'+XMLHttpRequest.status+',textStatus:'+textStatus+'!');\n            $('#alert_alert .alert_con_br').html('网络超时!');\n        },\n        complete: function complete() {\n            $('#loading').hide();\n            //$('.zheceng').hide();\n        }\n    });\n    //将交易金额填充选择的储值金额-----------------取消\n    //recharge_num('li.li_choose');\n}\n//获取url的指定hash值\nfunction get_hash(hash_val) {\n    var c_val;\n    if (location.href.split('?').length < 2) {\n        return false;\n    }\n    var url_l = location.href.split('?')[1].split('&');\n    var url_l_l = url_l.length;\n    for (var i = 0; i < url_l_l; i++) {\n        var url_val = url_l[i].split('=');\n        if (url_val[0] == hash_val) {\n            c_val = url_val[1];\n            return c_val;\n        }\n    }\n}\n//验证中文-----add_new\nfunction china_test(id, num1, num2) {\n    var val = $(id).val();\n    var val_exp = new RegExp('^[\\u4E00-\\u9FA5]{' + num1 + \",\" + num2 + \"}$\"); // /^[\\u4e00-\\u9fa5]{num1,num2}$/\n    if (!val_exp.test(val)) {\n        $(id).addClass('border_red');\n    } else {\n        $(id).removeClass('border_red');\n    }\n}\n//验证手机号-----add_new\nfunction tel_test(id) {\n    var val = $(id).val();\n    var val_exp = /^1[0-9]{10}$/;\n    if (!val_exp.test(val)) {\n        $(id).addClass('border_red');\n    } else {\n        $(id).removeClass('border_red');\n    }\n}\n//验证生日-----add_new\nfunction birth_test(id, num1, num2) {\n    var val = $(id).val();\n    var val_l = val.length;\n    if (val_l <= num1 || val_l > num2) {\n        $(id).addClass('border_red');\n    } else {\n        $(id).removeClass('border_red');\n    }\n}\n//获取储值结果--商家和总储值余额-----------------不使用-更改了调用功能\nfunction get_rechargedetail() {\n    var userid = get_hash('h');\n    $.ajax({\n        url: '/prepaid/v1/api/c/merchants/' + userid,\n        type: 'GET',\n        dataType: 'json',\n        data: {\n            'c': get_hash('c')\n        },\n        start: function start() {\n            $('#loading').show();\n            $('.zheceng').show();\n        },\n        success: function success(data) {\n            if (data.respcd != '0000') {\n                $('#alert_alert').show();\n                $('.zheceng').show();\n                if (!data['respmsg']) {\n                    $('#alert_alert .alert_con_br').html(data['resperr']);\n                } else {\n                    $('#alert_alert .alert_con_br').html(data['respmsg']);\n                }\n            } else {\n                var return_data = data.data;\n                var return_company = return_data.merchant_name;\n                var return_diff = (return_data.balance / 100).toFixed(2);\n                $('.js_paycompa').text(return_company);\n                $('.js_leftnum').text(return_diff);\n            }\n        },\n        error: function error(data) {\n            $('#alert_alert').show();\n            $('.zheceng').show();\n            //$('.alert_con .alert_con_br').html('XMLHttpRequest.readyState:'+XMLHttpRequest.readyState+',XMLHttpRequest.status:'+XMLHttpRequest.status+',textStatus:'+textStatus+'!');\n            $('#alert_alert .alert_con_br').html('网络超时!');\n        },\n        end: function end() {\n            $('#loading').hide();\n            $('.zheceng').hide();\n        }\n    });\n}\n//获取储值余额-----------------取消\nfunction get_rechargediff() {\n    $.ajax({\n        url: '/prepaid/v1/api/c/recharge/balance',\n        type: 'GET',\n        dataType: 'json',\n        data: {\n            'c': get_hash('c'),\n            'h': get_hash('h')\n        },\n        start: function start() {\n            $('#loading').show();\n            $('.zheceng').show();\n        },\n        success: function success(data) {\n            if (data.respcd != '0000') {\n                $('#alert_alert').show();\n                $('.zheceng').show();\n                if (!data['respmsg']) {\n                    $('#alert_alert .alert_con_br').html(data['resperr']);\n                } else {\n                    $('#alert_alert .alert_con_br').html(data['respmsg']);\n                }\n            } else {\n                var return_data = data.data;\n                var return_diff = (return_data.balance / 100).toFixed(2);\n                $('.js_paynum').text(return_diff);\n            }\n        },\n        error: function error(data) {\n            $('#alert_alert').show();\n            $('.zheceng').show();\n            //$('.alert_con .alert_con_br').html('XMLHttpRequest.readyState:'+XMLHttpRequest.readyState+',XMLHttpRequest.status:'+XMLHttpRequest.status+',textStatus:'+textStatus+'!');\n            $('#alert_alert .alert_con_br').html('网络超时!');\n        },\n        end: function end() {\n            $('#loading').hide();\n            $('.zheceng').hide();\n        }\n    });\n}\n//获取储值协议--todo-----------------取消\nfunction get_protocol_detail() {\n    $.ajax({\n        url: '/prepaid/v1/api/c/recharge/balance',\n        type: 'GET',\n        dataType: 'json',\n        data: {\n            'c': get_hash('c'),\n            'h': get_hash('h')\n        },\n        start: function start() {\n            $('#loading').show();\n            $('.zheceng').show();\n        },\n        success: function success(data) {\n            if (data.respcd != '0000') {\n                $('#alert_alert').show();\n                $('.zheceng').show();\n                if (!data['respmsg']) {\n                    $('#alert_alert .alert_con_br').html(data['resperr']);\n                } else {\n                    $('#alert_alert .alert_con_br').html(data['respmsg']);\n                }\n            } else {\n                var return_data = data.data;\n                var return_detail = return_data.detail;\n                $('#js_protocol_detail').html(return_detail);\n            }\n        },\n        error: function error(data) {\n            $('#alert_alert').show();\n            $('.zheceng').show();\n            //$('.alert_con .alert_con_br').html('XMLHttpRequest.readyState:'+XMLHttpRequest.readyState+',XMLHttpRequest.status:'+XMLHttpRequest.status+',textStatus:'+textStatus+'!');\n            $('#alert_alert .alert_con_br').html('网络超时!');\n        },\n        end: function end() {\n            $('#loading').hide();\n            $('.zheceng').hide();\n        }\n    });\n}\n//将交易金额填充选择的储值金额-----------------取消\nfunction recharge_num(id) {\n    var val = $(id).find('.js_rechar_num').text();\n    var val_num = (val - 0).toFixed('2');\n    $('.js_paynum').text(val_num);\n}\n//微信支付-----------------取消\nfunction pay_now() {\n    var data = {};\n    data.amt = 1;\n    data.openid = $('#openid').val();\n    data.syssn = $('#syssn').val();\n    data.userid = $('#userid').val();\n    $.ajax({\n        url: location.pathname,\n        type: 'post',\n        dataType: 'json',\n        data: data,\n        start: function start() {\n            $('#loading').show();\n            $('.zheceng').show();\n        },\n        success: function success(data) {\n            $('#loading').hide();\n            $('.zheceng').hide();\n            if (data.respcd != '0000') {\n                $('.alert_con').show();\n                if (!data['respmsg']) {\n                    $('.alert_con .alert_con_br').html(data['resperr']);\n                } else {\n                    $('.alert_con .alert_con_br').html(data['respmsg']);\n                }\n                $('.zheceng').show();\n                WeixinJSBridge.invoke('closeWindow', {}, function (res) {});\n            } else {\n                pay(data);\n            }\n        },\n        error: function error(data) {\n            $('#loading').hide();\n            $('.alert_con').show();\n            $('.zheceng').show();\n            if (!data['respmsg']) {\n                $('.alert_con .alert_con_br').html(data['resperr']);\n            } else {\n                $('.alert_con .alert_con_br').html(data['respmsg']);\n            }\n            WeixinJSBridge.invoke('closeWindow', {}, function (res) {});\n        },\n        end: function end() {\n            $('#loading').hide();\n            $('.zheceng').hide();\n        }\n    });\n}\n\nfunction pay(d) {\n    var p = d.data.pay_params;\n    WeixinJSBridge.invoke('getBrandWCPayRequest', {\n        'package': p['package'],\n        'timeStamp': p['timeStamp'],\n        'signType': p['signType'],\n        'paySign': p['paySign'],\n        'appId': p['appId'],\n        'nonceStr': p['nonceStr']\n    }, function (res) {\n        if (res.err_msg == \"get_brand_wcpay_request:ok\") {\n            $.ajax({\n                url: '/trade/wechat/v1/set_result',\n                data: {\n                    \"syssn\": d.data.syssn,\n                    \"userid\": $('#userid').val()\n                },\n                type: 'get'\n            });\n            WeixinJSBridge.invoke('closeWindow', {}, function (res) {});\n        } else if (res.err_msg == \"get_brand_wcpay_request:cancel\") {} else {\n            WeixinJSBridge.invoke('closeWindow', {}, function (res) {});\n        }\n    });\n}\n//通用--------------------------------------------------------------------------------------------------------\n//弹框高度定位----add_new\nfunction alert_top(id) {\n    var alert_height = $(id).height();\n    var mar_t = alert_height / 2 - 20;\n    $(id).css('marginTop', -mar_t + 'px');\n}\n//关闭弹框\n$('.js_alert_con_close').on('click', function () {\n    $('.alert_con').hide();\n    // $('.alert_con .alert_con_br').html();\n    $('.zheceng').hide();\n    $('.zheceng1').hide();\n    $('.zheceng2').hide();\n});"]}