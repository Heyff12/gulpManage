"use strict";function timedCount(){var e=$(".js_show_entycode i").text();$(".js_show_entycode i").text(e-1),t=setTimeout("timedCount()",1e3),0==e&&(clearTimeout(t),$(".js_get_entycode").show(),$(".js_show_entycode i").text(61),$(".js_show_entycode").hide())}require(["../require-config"],function(){require(["zepto","yanzheng","add_bounced","ajax_rule","iosselect","date_day","wxjsbridge"],function($,e,a,t,s,n,i){$(function(){function _(e){var a={captcha:e,mobile:$(".js_message_tel").val()};t.ajax_rule("/prepaid/v1/api/c/captcha","POST","json",a,".zheceng",r,o)}function r(){$(".js_code").parents("dl").removeClass("error_data"),$(".js_alert_message_disa").hide(),$(".js_alert_message").show()}function o(){$(".js_code").parents("dl").addClass("error_data"),$(".js_alert_message_disa").show(),$(".js_alert_message").hide()}function d(e){$(".js_get_entycode").hide(),$(".js_show_entycode").show(),timedCount()}function c(e){$(".js_shopname").text(e.shopname)}function l(e){$(".js_message_tel").val(e.mobile)}function h(){var a={c:e.get_hash("c"),h:e.get_hash("h"),o:e.get_hash("o"),grid_index:e.get_hash("grid_index")};t.ajax_rule("/prepaid/v1/api/c/recharge","POST","json",a,".zheceng2",g)}function g(e){window.location.href=e.url}function u(e){$(e).parents("dl").addClass("error_data")}function u(e){$(e).parents("dl").addClass("error_data")}function j(e){$(e).parents("dl").removeClass("error_data")}function m(e){var e=e-0;return e<10?"0"+e:e}i.hide_menu(),$(".js_bindinfo").get(0)&&~function(){$(document).ready(function(){$("#birthday").val("1980-1-1"),$(".js_message_birth").attr("data-year","1980"),$(".js_message_birth").attr("data-month","1"),$(".js_message_birth").attr("data-day","1");var a={h:e.get_hash("h")};t.ajax_rule("/prepaid/v1/api/c/merchant_info","GET","json",a,".zheceng",c)})}(),$(".js_bindinfo_confirm").get(0)&&~function(){$(document).ready(function(){var a={h:e.get_hash("h")};t.ajax_rule("/prepaid/v1/api/c/merchant_info","GET","json",a,".zheceng",c);var s={c:e.get_hash("c")};t.ajax_rule("/prepaid/v1/api/c/bindinfo","GET","json",s,".zheceng1",l)}),$(".js_alert_message2").on("click",function(){h()})}(),$(".js_get_entycode").on("click",function(){if(e.tel_test_all(".js_message_tel",u,j),$(".js_message_tel").parents("dl").hasClass("error_data"))return!1;var a=$(".js_message_tel").val(),s="/prepaid/v1/api/c/captcha",n={c:e.get_hash("c"),h:e.get_hash("h"),mobile:a};t.ajax_rule(s,"GET","json",n,".zheceng",d)}),$(".js_show_entycode").on("click",function(){$(".alert_con").show(),$(".alert_con .alert_con_br").html("一分钟后再次获取！"),$(".zheceng").show()}),$(".js_message_birth").on("click",function(){var e=document.querySelector(".js_message_birth"),a=e.dataset.year,t=e.dataset.month,i=e.dataset.day;n.time_free.start_year=1947,n.time_free.end_year=n.nowYear;new s(3,[n.yearData,n.monthData,n.dateData],{container:".ios_select_container",title:"选择生日日期",itemHeight:50,itemShowCount:3,relation:[1,1,0,0],oneLevelId:a,twoLevelId:t,threeLevelId:i,callback:function(a,t,s){e.dataset.year=a.id,e.dataset.month=t.id,e.dataset.day=s.id,e.value=a.id+"年"+t.id+"月"+s.id+"日",$("#birthday").val(a.id+"-"+t.id+"-"+s.id)}})}),$(".js_alert_message").on("click",function(){var a=$(".js_message_name").val(),s=$(".js_message_birth").val(),n=$(".js_message_tel").val(),i=$(".js_code").val();if(e.tel_test_all(".js_message_tel",u,j),e.china_test_all(".js_message_name",0,4,u,j),e.detail_test_all(".js_message_birth",-1,20,u,j),s){var _=$("#birthday").val().split("-"),r=_[0],o=m(_[1]),d=m(_[2]);s=r+"-"+o+"-"+d,$("#birthday").val(r+"-"+o+"-"+d)}e.code_test_all(".js_code",u,j);var c=$(".error_data").length;if(c>0)return!1;var l={c:e.get_hash("c"),grid_index:e.get_hash("grid_index"),name:a,mobile:n,birthday:s,captcha:i};t.ajax_rule("/prepaid/v1/api/c/bindinfo","POST","json",l,".zheceng1",h)}),$(".js_code").on("input",function(){$(".js_message_tel").val();if(e.tel_test_all(".js_message_tel",u,j),$(".js_message_tel").parents("dl").hasClass("error_data"))return $(this).val(""),!1;var a=$(this).val(),t=a.replace(/[^\d]/g,"");return t.length<6?($(this).val(t),!1):($(this).val(t.substr(0,6)),void _($(this).val()))}),a.add_bounced(),a.close_tip()})})});
//# sourceMappingURL=../../maps/js/recharge/recharge_info.js.map
